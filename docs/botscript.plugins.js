!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).BotScriptPlugins=f()}}((function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,(function(r){return o(e[i][1][r]||r)}),p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){module.exports=require("core-js-pure/stable/instance/concat")},{"core-js-pure/stable/instance/concat":177}],2:[function(require,module,exports){module.exports=require("core-js-pure/stable/instance/flags")},{"core-js-pure/stable/instance/flags":178}],3:[function(require,module,exports){module.exports=require("core-js-pure/stable/instance/for-each")},{"core-js-pure/stable/instance/for-each":179}],4:[function(require,module,exports){module.exports=require("core-js-pure/stable/instance/includes")},{"core-js-pure/stable/instance/includes":180}],5:[function(require,module,exports){module.exports=require("core-js-pure/stable/instance/index-of")},{"core-js-pure/stable/instance/index-of":181}],6:[function(require,module,exports){module.exports=require("core-js-pure/stable/instance/map")},{"core-js-pure/stable/instance/map":182}],7:[function(require,module,exports){module.exports=require("core-js-pure/stable/instance/reduce")},{"core-js-pure/stable/instance/reduce":183}],8:[function(require,module,exports){module.exports=require("core-js-pure/stable/instance/slice")},{"core-js-pure/stable/instance/slice":184}],9:[function(require,module,exports){module.exports=require("core-js-pure/stable/instance/sort")},{"core-js-pure/stable/instance/sort":185}],10:[function(require,module,exports){module.exports=require("core-js-pure/stable/object/create")},{"core-js-pure/stable/object/create":186}],11:[function(require,module,exports){module.exports=require("core-js-pure/stable/object/define-property")},{"core-js-pure/stable/object/define-property":187}],12:[function(require,module,exports){module.exports=require("core-js-pure/stable/parse-int")},{"core-js-pure/stable/parse-int":188}],13:[function(require,module,exports){module.exports=require("core-js-pure/features/array/is-array")},{"core-js-pure/features/array/is-array":70}],14:[function(require,module,exports){module.exports=require("core-js-pure/features/get-iterator")},{"core-js-pure/features/get-iterator":71}],15:[function(require,module,exports){module.exports=require("core-js-pure/features/is-iterable")},{"core-js-pure/features/is-iterable":72}],16:[function(require,module,exports){var _Array$isArray=require("../core-js/array/is-array");module.exports=function _arrayWithHoles(arr){if(_Array$isArray(arr))return arr}},{"../core-js/array/is-array":13}],17:[function(require,module,exports){module.exports=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},{}],18:[function(require,module,exports){var _getIterator=require("../core-js/get-iterator"),_isIterable=require("../core-js/is-iterable");module.exports=function _iterableToArrayLimit(arr,i){if(_isIterable(Object(arr))||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=_getIterator(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}},{"../core-js/get-iterator":14,"../core-js/is-iterable":15}],19:[function(require,module,exports){module.exports=function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},{}],20:[function(require,module,exports){var arrayWithHoles=require("./arrayWithHoles"),iterableToArrayLimit=require("./iterableToArrayLimit"),nonIterableRest=require("./nonIterableRest");module.exports=function _slicedToArray(arr,i){return arrayWithHoles(arr)||iterableToArrayLimit(arr,i)||nonIterableRest()}},{"./arrayWithHoles":16,"./iterableToArrayLimit":18,"./nonIterableRest":19}],21:[function(require,module,exports){module.exports=require("./lib/axios")},{"./lib/axios":23}],22:[function(require,module,exports){"use strict";var utils=require("./../utils"),settle=require("./../core/settle"),cookies=require("./../helpers/cookies"),buildURL=require("./../helpers/buildURL"),buildFullPath=require("../core/buildFullPath"),parseHeaders=require("./../helpers/parseHeaders"),isURLSameOrigin=require("./../helpers/isURLSameOrigin"),createError=require("../core/createError");module.exports=function xhrAdapter(config){return new Promise((function dispatchXhrRequest(resolve,reject){var requestData=config.data,requestHeaders=config.headers;utils.isFormData(requestData)&&delete requestHeaders["Content-Type"];var request=new XMLHttpRequest;if(config.auth){var username=config.auth.username||"",password=config.auth.password?unescape(encodeURIComponent(config.auth.password)):"";requestHeaders.Authorization="Basic "+btoa(username+":"+password)}var fullPath=buildFullPath(config.baseURL,config.url);if(request.open(config.method.toUpperCase(),buildURL(fullPath,config.params,config.paramsSerializer),!0),request.timeout=config.timeout,request.onreadystatechange=function handleLoad(){if(request&&4===request.readyState&&(0!==request.status||request.responseURL&&0===request.responseURL.indexOf("file:"))){var responseHeaders="getAllResponseHeaders"in request?parseHeaders(request.getAllResponseHeaders()):null,response={data:config.responseType&&"text"!==config.responseType?request.response:request.responseText,status:request.status,statusText:request.statusText,headers:responseHeaders,config:config,request:request};settle(resolve,reject,response),request=null}},request.onabort=function handleAbort(){request&&(reject(createError("Request aborted",config,"ECONNABORTED",request)),request=null)},request.onerror=function handleError(){reject(createError("Network Error",config,null,request)),request=null},request.ontimeout=function handleTimeout(){var timeoutErrorMessage="timeout of "+config.timeout+"ms exceeded";config.timeoutErrorMessage&&(timeoutErrorMessage=config.timeoutErrorMessage),reject(createError(timeoutErrorMessage,config,"ECONNABORTED",request)),request=null},utils.isStandardBrowserEnv()){var xsrfValue=(config.withCredentials||isURLSameOrigin(fullPath))&&config.xsrfCookieName?cookies.read(config.xsrfCookieName):void 0;xsrfValue&&(requestHeaders[config.xsrfHeaderName]=xsrfValue)}if("setRequestHeader"in request&&utils.forEach(requestHeaders,(function setRequestHeader(val,key){void 0===requestData&&"content-type"===key.toLowerCase()?delete requestHeaders[key]:request.setRequestHeader(key,val)})),utils.isUndefined(config.withCredentials)||(request.withCredentials=!!config.withCredentials),config.responseType)try{request.responseType=config.responseType}catch(e){if("json"!==config.responseType)throw e}"function"==typeof config.onDownloadProgress&&request.addEventListener("progress",config.onDownloadProgress),"function"==typeof config.onUploadProgress&&request.upload&&request.upload.addEventListener("progress",config.onUploadProgress),config.cancelToken&&config.cancelToken.promise.then((function onCanceled(cancel){request&&(request.abort(),reject(cancel),request=null)})),requestData||(requestData=null),request.send(requestData)}))}},{"../core/buildFullPath":29,"../core/createError":30,"./../core/settle":34,"./../helpers/buildURL":38,"./../helpers/cookies":40,"./../helpers/isURLSameOrigin":43,"./../helpers/parseHeaders":45,"./../utils":47}],23:[function(require,module,exports){"use strict";var utils=require("./utils"),bind=require("./helpers/bind"),Axios=require("./core/Axios"),mergeConfig=require("./core/mergeConfig");function createInstance(defaultConfig){var context=new Axios(defaultConfig),instance=bind(Axios.prototype.request,context);return utils.extend(instance,Axios.prototype,context),utils.extend(instance,context),instance}var axios=createInstance(require("./defaults"));axios.Axios=Axios,axios.create=function create(instanceConfig){return createInstance(mergeConfig(axios.defaults,instanceConfig))},axios.Cancel=require("./cancel/Cancel"),axios.CancelToken=require("./cancel/CancelToken"),axios.isCancel=require("./cancel/isCancel"),axios.all=function all(promises){return Promise.all(promises)},axios.spread=require("./helpers/spread"),axios.isAxiosError=require("./helpers/isAxiosError"),module.exports=axios,module.exports.default=axios},{"./cancel/Cancel":24,"./cancel/CancelToken":25,"./cancel/isCancel":26,"./core/Axios":27,"./core/mergeConfig":33,"./defaults":36,"./helpers/bind":37,"./helpers/isAxiosError":42,"./helpers/spread":46,"./utils":47}],24:[function(require,module,exports){"use strict";function Cancel(message){this.message=message}Cancel.prototype.toString=function toString(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0,module.exports=Cancel},{}],25:[function(require,module,exports){"use strict";var Cancel=require("./Cancel");function CancelToken(executor){if("function"!=typeof executor)throw new TypeError("executor must be a function.");var resolvePromise;this.promise=new Promise((function promiseExecutor(resolve){resolvePromise=resolve}));var token=this;executor((function cancel(message){token.reason||(token.reason=new Cancel(message),resolvePromise(token.reason))}))}CancelToken.prototype.throwIfRequested=function throwIfRequested(){if(this.reason)throw this.reason},CancelToken.source=function source(){var cancel;return{token:new CancelToken((function executor(c){cancel=c})),cancel:cancel}},module.exports=CancelToken},{"./Cancel":24}],26:[function(require,module,exports){"use strict";module.exports=function isCancel(value){return!(!value||!value.__CANCEL__)}},{}],27:[function(require,module,exports){"use strict";var utils=require("./../utils"),buildURL=require("../helpers/buildURL"),InterceptorManager=require("./InterceptorManager"),dispatchRequest=require("./dispatchRequest"),mergeConfig=require("./mergeConfig");function Axios(instanceConfig){this.defaults=instanceConfig,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios.prototype.request=function request(config){"string"==typeof config?(config=arguments[1]||{}).url=arguments[0]:config=config||{},(config=mergeConfig(this.defaults,config)).method?config.method=config.method.toLowerCase():this.defaults.method?config.method=this.defaults.method.toLowerCase():config.method="get";var chain=[dispatchRequest,void 0],promise=Promise.resolve(config);for(this.interceptors.request.forEach((function unshiftRequestInterceptors(interceptor){chain.unshift(interceptor.fulfilled,interceptor.rejected)})),this.interceptors.response.forEach((function pushResponseInterceptors(interceptor){chain.push(interceptor.fulfilled,interceptor.rejected)}));chain.length;)promise=promise.then(chain.shift(),chain.shift());return promise},Axios.prototype.getUri=function getUri(config){return config=mergeConfig(this.defaults,config),buildURL(config.url,config.params,config.paramsSerializer).replace(/^\?/,"")},utils.forEach(["delete","get","head","options"],(function forEachMethodNoData(method){Axios.prototype[method]=function(url,config){return this.request(mergeConfig(config||{},{method:method,url:url,data:(config||{}).data}))}})),utils.forEach(["post","put","patch"],(function forEachMethodWithData(method){Axios.prototype[method]=function(url,data,config){return this.request(mergeConfig(config||{},{method:method,url:url,data:data}))}})),module.exports=Axios},{"../helpers/buildURL":38,"./../utils":47,"./InterceptorManager":28,"./dispatchRequest":31,"./mergeConfig":33}],28:[function(require,module,exports){"use strict";var utils=require("./../utils");function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function use(fulfilled,rejected){return this.handlers.push({fulfilled:fulfilled,rejected:rejected}),this.handlers.length-1},InterceptorManager.prototype.eject=function eject(id){this.handlers[id]&&(this.handlers[id]=null)},InterceptorManager.prototype.forEach=function forEach(fn){utils.forEach(this.handlers,(function forEachHandler(h){null!==h&&fn(h)}))},module.exports=InterceptorManager},{"./../utils":47}],29:[function(require,module,exports){"use strict";var isAbsoluteURL=require("../helpers/isAbsoluteURL"),combineURLs=require("../helpers/combineURLs");module.exports=function buildFullPath(baseURL,requestedURL){return baseURL&&!isAbsoluteURL(requestedURL)?combineURLs(baseURL,requestedURL):requestedURL}},{"../helpers/combineURLs":39,"../helpers/isAbsoluteURL":41}],30:[function(require,module,exports){"use strict";var enhanceError=require("./enhanceError");module.exports=function createError(message,config,code,request,response){var error=new Error(message);return enhanceError(error,config,code,request,response)}},{"./enhanceError":32}],31:[function(require,module,exports){"use strict";var utils=require("./../utils"),transformData=require("./transformData"),isCancel=require("../cancel/isCancel"),defaults=require("../defaults");function throwIfCancellationRequested(config){config.cancelToken&&config.cancelToken.throwIfRequested()}module.exports=function dispatchRequest(config){return throwIfCancellationRequested(config),config.headers=config.headers||{},config.data=transformData(config.data,config.headers,config.transformRequest),config.headers=utils.merge(config.headers.common||{},config.headers[config.method]||{},config.headers),utils.forEach(["delete","get","head","post","put","patch","common"],(function cleanHeaderConfig(method){delete config.headers[method]})),(config.adapter||defaults.adapter)(config).then((function onAdapterResolution(response){return throwIfCancellationRequested(config),response.data=transformData(response.data,response.headers,config.transformResponse),response}),(function onAdapterRejection(reason){return isCancel(reason)||(throwIfCancellationRequested(config),reason&&reason.response&&(reason.response.data=transformData(reason.response.data,reason.response.headers,config.transformResponse))),Promise.reject(reason)}))}},{"../cancel/isCancel":26,"../defaults":36,"./../utils":47,"./transformData":35}],32:[function(require,module,exports){"use strict";module.exports=function enhanceError(error,config,code,request,response){return error.config=config,code&&(error.code=code),error.request=request,error.response=response,error.isAxiosError=!0,error.toJSON=function toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},error}},{}],33:[function(require,module,exports){"use strict";var utils=require("../utils");module.exports=function mergeConfig(config1,config2){config2=config2||{};var config={},valueFromConfig2Keys=["url","method","data"],mergeDeepPropertiesKeys=["headers","auth","proxy","params"],defaultToConfig2Keys=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],directMergeKeys=["validateStatus"];function getMergedValue(target,source){return utils.isPlainObject(target)&&utils.isPlainObject(source)?utils.merge(target,source):utils.isPlainObject(source)?utils.merge({},source):utils.isArray(source)?source.slice():source}function mergeDeepProperties(prop){utils.isUndefined(config2[prop])?utils.isUndefined(config1[prop])||(config[prop]=getMergedValue(void 0,config1[prop])):config[prop]=getMergedValue(config1[prop],config2[prop])}utils.forEach(valueFromConfig2Keys,(function valueFromConfig2(prop){utils.isUndefined(config2[prop])||(config[prop]=getMergedValue(void 0,config2[prop]))})),utils.forEach(mergeDeepPropertiesKeys,mergeDeepProperties),utils.forEach(defaultToConfig2Keys,(function defaultToConfig2(prop){utils.isUndefined(config2[prop])?utils.isUndefined(config1[prop])||(config[prop]=getMergedValue(void 0,config1[prop])):config[prop]=getMergedValue(void 0,config2[prop])})),utils.forEach(directMergeKeys,(function merge(prop){prop in config2?config[prop]=getMergedValue(config1[prop],config2[prop]):prop in config1&&(config[prop]=getMergedValue(void 0,config1[prop]))}));var axiosKeys=valueFromConfig2Keys.concat(mergeDeepPropertiesKeys).concat(defaultToConfig2Keys).concat(directMergeKeys),otherKeys=Object.keys(config1).concat(Object.keys(config2)).filter((function filterAxiosKeys(key){return-1===axiosKeys.indexOf(key)}));return utils.forEach(otherKeys,mergeDeepProperties),config}},{"../utils":47}],34:[function(require,module,exports){"use strict";var createError=require("./createError");module.exports=function settle(resolve,reject,response){var validateStatus=response.config.validateStatus;response.status&&validateStatus&&!validateStatus(response.status)?reject(createError("Request failed with status code "+response.status,response.config,null,response.request,response)):resolve(response)}},{"./createError":30}],35:[function(require,module,exports){"use strict";var utils=require("./../utils");module.exports=function transformData(data,headers,fns){return utils.forEach(fns,(function transform(fn){data=fn(data,headers)})),data}},{"./../utils":47}],36:[function(require,module,exports){(function(process){(function(){"use strict";var utils=require("./utils"),normalizeHeaderName=require("./helpers/normalizeHeaderName"),DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(headers,value){!utils.isUndefined(headers)&&utils.isUndefined(headers["Content-Type"])&&(headers["Content-Type"]=value)}var defaults={adapter:function getDefaultAdapter(){var adapter;return"undefined"!=typeof XMLHttpRequest?adapter=require("./adapters/xhr"):void 0!==process&&"[object process]"===Object.prototype.toString.call(process)&&(adapter=require("./adapters/http")),adapter}(),transformRequest:[function transformRequest(data,headers){return normalizeHeaderName(headers,"Accept"),normalizeHeaderName(headers,"Content-Type"),utils.isFormData(data)||utils.isArrayBuffer(data)||utils.isBuffer(data)||utils.isStream(data)||utils.isFile(data)||utils.isBlob(data)?data:utils.isArrayBufferView(data)?data.buffer:utils.isURLSearchParams(data)?(setContentTypeIfUnset(headers,"application/x-www-form-urlencoded;charset=utf-8"),data.toString()):utils.isObject(data)?(setContentTypeIfUnset(headers,"application/json;charset=utf-8"),JSON.stringify(data)):data}],transformResponse:[function transformResponse(data){if("string"==typeof data)try{data=JSON.parse(data)}catch(e){}return data}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function validateStatus(status){return status>=200&&status<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],(function forEachMethodNoData(method){defaults.headers[method]={}})),utils.forEach(["post","put","patch"],(function forEachMethodWithData(method){defaults.headers[method]=utils.merge(DEFAULT_CONTENT_TYPE)})),module.exports=defaults}).call(this)}).call(this,require("_process"))},{"./adapters/http":22,"./adapters/xhr":22,"./helpers/normalizeHeaderName":44,"./utils":47,_process:203}],37:[function(require,module,exports){"use strict";module.exports=function bind(fn,thisArg){return function wrap(){for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];return fn.apply(thisArg,args)}}},{}],38:[function(require,module,exports){"use strict";var utils=require("./../utils");function encode(val){return encodeURIComponent(val).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}module.exports=function buildURL(url,params,paramsSerializer){if(!params)return url;var serializedParams;if(paramsSerializer)serializedParams=paramsSerializer(params);else if(utils.isURLSearchParams(params))serializedParams=params.toString();else{var parts=[];utils.forEach(params,(function serialize(val,key){null!=val&&(utils.isArray(val)?key+="[]":val=[val],utils.forEach(val,(function parseValue(v){utils.isDate(v)?v=v.toISOString():utils.isObject(v)&&(v=JSON.stringify(v)),parts.push(encode(key)+"="+encode(v))})))})),serializedParams=parts.join("&")}if(serializedParams){var hashmarkIndex=url.indexOf("#");-1!==hashmarkIndex&&(url=url.slice(0,hashmarkIndex)),url+=(-1===url.indexOf("?")?"?":"&")+serializedParams}return url}},{"./../utils":47}],39:[function(require,module,exports){"use strict";module.exports=function combineURLs(baseURL,relativeURL){return relativeURL?baseURL.replace(/\/+$/,"")+"/"+relativeURL.replace(/^\/+/,""):baseURL}},{}],40:[function(require,module,exports){"use strict";var utils=require("./../utils");module.exports=utils.isStandardBrowserEnv()?function standardBrowserEnv(){return{write:function write(name,value,expires,path,domain,secure){var cookie=[];cookie.push(name+"="+encodeURIComponent(value)),utils.isNumber(expires)&&cookie.push("expires="+new Date(expires).toGMTString()),utils.isString(path)&&cookie.push("path="+path),utils.isString(domain)&&cookie.push("domain="+domain),!0===secure&&cookie.push("secure"),document.cookie=cookie.join("; ")},read:function read(name){var match=document.cookie.match(new RegExp("(^|;\\s*)("+name+")=([^;]*)"));return match?decodeURIComponent(match[3]):null},remove:function remove(name){this.write(name,"",Date.now()-864e5)}}}():{write:function write(){},read:function read(){return null},remove:function remove(){}}},{"./../utils":47}],41:[function(require,module,exports){"use strict";module.exports=function isAbsoluteURL(url){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(url)}},{}],42:[function(require,module,exports){"use strict";module.exports=function isAxiosError(payload){return"object"==typeof payload&&!0===payload.isAxiosError}},{}],43:[function(require,module,exports){"use strict";var utils=require("./../utils");module.exports=utils.isStandardBrowserEnv()?function standardBrowserEnv(){var originURL,msie=/(msie|trident)/i.test(navigator.userAgent),urlParsingNode=document.createElement("a");function resolveURL(url){var href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}return originURL=resolveURL(window.location.href),function isURLSameOrigin(requestURL){var parsed=utils.isString(requestURL)?resolveURL(requestURL):requestURL;return parsed.protocol===originURL.protocol&&parsed.host===originURL.host}}():function isURLSameOrigin(){return!0}},{"./../utils":47}],44:[function(require,module,exports){"use strict";var utils=require("../utils");module.exports=function normalizeHeaderName(headers,normalizedName){utils.forEach(headers,(function processHeader(value,name){name!==normalizedName&&name.toUpperCase()===normalizedName.toUpperCase()&&(headers[normalizedName]=value,delete headers[name])}))}},{"../utils":47}],45:[function(require,module,exports){"use strict";var utils=require("./../utils"),ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];module.exports=function parseHeaders(headers){var key,val,i,parsed={};return headers?(utils.forEach(headers.split("\n"),(function parser(line){if(i=line.indexOf(":"),key=utils.trim(line.substr(0,i)).toLowerCase(),val=utils.trim(line.substr(i+1)),key){if(parsed[key]&&ignoreDuplicateOf.indexOf(key)>=0)return;parsed[key]="set-cookie"===key?(parsed[key]?parsed[key]:[]).concat([val]):parsed[key]?parsed[key]+", "+val:val}})),parsed):parsed}},{"./../utils":47}],46:[function(require,module,exports){"use strict";module.exports=function spread(callback){return function wrap(arr){return callback.apply(null,arr)}}},{}],47:[function(require,module,exports){"use strict";var bind=require("./helpers/bind"),toString=Object.prototype.toString;function isArray(val){return"[object Array]"===toString.call(val)}function isUndefined(val){return void 0===val}function isObject(val){return null!==val&&"object"==typeof val}function isPlainObject(val){if("[object Object]"!==toString.call(val))return!1;var prototype=Object.getPrototypeOf(val);return null===prototype||prototype===Object.prototype}function isFunction(val){return"[object Function]"===toString.call(val)}function forEach(obj,fn){if(null!=obj)if("object"!=typeof obj&&(obj=[obj]),isArray(obj))for(var i=0,l=obj.length;i<l;i++)fn.call(null,obj[i],i,obj);else for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&fn.call(null,obj[key],key,obj)}module.exports={isArray:isArray,isArrayBuffer:function isArrayBuffer(val){return"[object ArrayBuffer]"===toString.call(val)},isBuffer:function isBuffer(val){return null!==val&&!isUndefined(val)&&null!==val.constructor&&!isUndefined(val.constructor)&&"function"==typeof val.constructor.isBuffer&&val.constructor.isBuffer(val)},isFormData:function isFormData(val){return"undefined"!=typeof FormData&&val instanceof FormData},isArrayBufferView:function isArrayBufferView(val){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(val):val&&val.buffer&&val.buffer instanceof ArrayBuffer},isString:function isString(val){return"string"==typeof val},isNumber:function isNumber(val){return"number"==typeof val},isObject:isObject,isPlainObject:isPlainObject,isUndefined:isUndefined,isDate:function isDate(val){return"[object Date]"===toString.call(val)},isFile:function isFile(val){return"[object File]"===toString.call(val)},isBlob:function isBlob(val){return"[object Blob]"===toString.call(val)},isFunction:isFunction,isStream:function isStream(val){return isObject(val)&&isFunction(val.pipe)},isURLSearchParams:function isURLSearchParams(val){return"undefined"!=typeof URLSearchParams&&val instanceof URLSearchParams},isStandardBrowserEnv:function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:forEach,merge:function merge(){var result={};function assignValue(val,key){isPlainObject(result[key])&&isPlainObject(val)?result[key]=merge(result[key],val):isPlainObject(val)?result[key]=merge({},val):isArray(val)?result[key]=val.slice():result[key]=val}for(var i=0,l=arguments.length;i<l;i++)forEach(arguments[i],assignValue);return result},extend:function extend(a,b,thisArg){return forEach(b,(function assignValue(val,key){a[key]=thisArg&&"function"==typeof val?bind(val,thisArg):val})),a},trim:function trim(str){return str.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function stripBOM(content){return 65279===content.charCodeAt(0)&&(content=content.slice(1)),content}}},{"./helpers/bind":37}],48:[function(require,module,exports){require("../../modules/es.array.is-array");var path=require("../../internals/path");module.exports=path.Array.isArray},{"../../internals/path":137,"../../modules/es.array.is-array":163}],49:[function(require,module,exports){require("../../../modules/es.array.concat");var entryVirtual=require("../../../internals/entry-virtual");module.exports=entryVirtual("Array").concat},{"../../../internals/entry-virtual":99,"../../../modules/es.array.concat":159}],50:[function(require,module,exports){require("../../../modules/es.array.for-each");var entryVirtual=require("../../../internals/entry-virtual");module.exports=entryVirtual("Array").forEach},{"../../../internals/entry-virtual":99,"../../../modules/es.array.for-each":160}],51:[function(require,module,exports){require("../../../modules/es.array.includes");var entryVirtual=require("../../../internals/entry-virtual");module.exports=entryVirtual("Array").includes},{"../../../internals/entry-virtual":99,"../../../modules/es.array.includes":161}],52:[function(require,module,exports){require("../../../modules/es.array.index-of");var entryVirtual=require("../../../internals/entry-virtual");module.exports=entryVirtual("Array").indexOf},{"../../../internals/entry-virtual":99,"../../../modules/es.array.index-of":162}],53:[function(require,module,exports){require("../../../modules/es.array.map");var entryVirtual=require("../../../internals/entry-virtual");module.exports=entryVirtual("Array").map},{"../../../internals/entry-virtual":99,"../../../modules/es.array.map":165}],54:[function(require,module,exports){require("../../../modules/es.array.reduce");var entryVirtual=require("../../../internals/entry-virtual");module.exports=entryVirtual("Array").reduce},{"../../../internals/entry-virtual":99,"../../../modules/es.array.reduce":166}],55:[function(require,module,exports){require("../../../modules/es.array.slice");var entryVirtual=require("../../../internals/entry-virtual");module.exports=entryVirtual("Array").slice},{"../../../internals/entry-virtual":99,"../../../modules/es.array.slice":167}],56:[function(require,module,exports){require("../../../modules/es.array.sort");var entryVirtual=require("../../../internals/entry-virtual");module.exports=entryVirtual("Array").sort},{"../../../internals/entry-virtual":99,"../../../modules/es.array.sort":168}],57:[function(require,module,exports){var concat=require("../array/virtual/concat"),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.concat;return it===ArrayPrototype||it instanceof Array&&own===ArrayPrototype.concat?concat:own}},{"../array/virtual/concat":49}],58:[function(require,module,exports){var flags=require("../regexp/flags"),RegExpPrototype=RegExp.prototype;module.exports=function(it){return(it===RegExpPrototype||it instanceof RegExp)&&!("flags"in it)?flags(it):it.flags}},{"../regexp/flags":68}],59:[function(require,module,exports){var arrayIncludes=require("../array/virtual/includes"),stringIncludes=require("../string/virtual/includes"),ArrayPrototype=Array.prototype,StringPrototype=String.prototype;module.exports=function(it){var own=it.includes;return it===ArrayPrototype||it instanceof Array&&own===ArrayPrototype.includes?arrayIncludes:"string"==typeof it||it===StringPrototype||it instanceof String&&own===StringPrototype.includes?stringIncludes:own}},{"../array/virtual/includes":51,"../string/virtual/includes":69}],60:[function(require,module,exports){var indexOf=require("../array/virtual/index-of"),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.indexOf;return it===ArrayPrototype||it instanceof Array&&own===ArrayPrototype.indexOf?indexOf:own}},{"../array/virtual/index-of":52}],61:[function(require,module,exports){var map=require("../array/virtual/map"),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.map;return it===ArrayPrototype||it instanceof Array&&own===ArrayPrototype.map?map:own}},{"../array/virtual/map":53}],62:[function(require,module,exports){var reduce=require("../array/virtual/reduce"),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.reduce;return it===ArrayPrototype||it instanceof Array&&own===ArrayPrototype.reduce?reduce:own}},{"../array/virtual/reduce":54}],63:[function(require,module,exports){var slice=require("../array/virtual/slice"),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.slice;return it===ArrayPrototype||it instanceof Array&&own===ArrayPrototype.slice?slice:own}},{"../array/virtual/slice":55}],64:[function(require,module,exports){var sort=require("../array/virtual/sort"),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.sort;return it===ArrayPrototype||it instanceof Array&&own===ArrayPrototype.sort?sort:own}},{"../array/virtual/sort":56}],65:[function(require,module,exports){require("../../modules/es.object.create");var Object=require("../../internals/path").Object;module.exports=function create(P,D){return Object.create(P,D)}},{"../../internals/path":137,"../../modules/es.object.create":169}],66:[function(require,module,exports){require("../../modules/es.object.define-property");var Object=require("../../internals/path").Object,defineProperty=module.exports=function defineProperty(it,key,desc){return Object.defineProperty(it,key,desc)};Object.defineProperty.sham&&(defineProperty.sham=!0)},{"../../internals/path":137,"../../modules/es.object.define-property":170}],67:[function(require,module,exports){require("../modules/es.parse-int");var path=require("../internals/path");module.exports=path.parseInt},{"../internals/path":137,"../modules/es.parse-int":171}],68:[function(require,module,exports){require("../../modules/es.regexp.flags");var flags=require("../../internals/regexp-flags");module.exports=function(it){return flags.call(it)}},{"../../internals/regexp-flags":139,"../../modules/es.regexp.flags":172}],69:[function(require,module,exports){require("../../../modules/es.string.includes");var entryVirtual=require("../../../internals/entry-virtual");module.exports=entryVirtual("String").includes},{"../../../internals/entry-virtual":99,"../../../modules/es.string.includes":173}],70:[function(require,module,exports){var parent=require("../../es/array/is-array");module.exports=parent},{"../../es/array/is-array":48}],71:[function(require,module,exports){require("../modules/web.dom-collections.iterator"),require("../modules/es.string.iterator");var getIterator=require("../internals/get-iterator");module.exports=getIterator},{"../internals/get-iterator":106,"../modules/es.string.iterator":174,"../modules/web.dom-collections.iterator":175}],72:[function(require,module,exports){require("../modules/web.dom-collections.iterator"),require("../modules/es.string.iterator");var isIterable=require("../internals/is-iterable");module.exports=isIterable},{"../internals/is-iterable":117,"../modules/es.string.iterator":174,"../modules/web.dom-collections.iterator":175}],73:[function(require,module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(String(it)+" is not a function");return it}},{}],74:[function(require,module,exports){var isObject=require("../internals/is-object");module.exports=function(it){if(!isObject(it)&&null!==it)throw TypeError("Can't set "+String(it)+" as a prototype");return it}},{"../internals/is-object":118}],75:[function(require,module,exports){module.exports=function(){}},{}],76:[function(require,module,exports){var isObject=require("../internals/is-object");module.exports=function(it){if(!isObject(it))throw TypeError(String(it)+" is not an object");return it}},{"../internals/is-object":118}],77:[function(require,module,exports){"use strict";var $forEach=require("../internals/array-iteration").forEach,arrayMethodIsStrict=require("../internals/array-method-is-strict"),arrayMethodUsesToLength=require("../internals/array-method-uses-to-length"),STRICT_METHOD=arrayMethodIsStrict("forEach"),USES_TO_LENGTH=arrayMethodUsesToLength("forEach");module.exports=STRICT_METHOD&&USES_TO_LENGTH?[].forEach:function forEach(callbackfn){return $forEach(this,callbackfn,arguments.length>1?arguments[1]:void 0)}},{"../internals/array-iteration":79,"../internals/array-method-is-strict":81,"../internals/array-method-uses-to-length":82}],78:[function(require,module,exports){var toIndexedObject=require("../internals/to-indexed-object"),toLength=require("../internals/to-length"),toAbsoluteIndex=require("../internals/to-absolute-index"),createMethod=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIndexedObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}};module.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},{"../internals/to-absolute-index":148,"../internals/to-indexed-object":149,"../internals/to-length":151}],79:[function(require,module,exports){var bind=require("../internals/function-bind-context"),IndexedObject=require("../internals/indexed-object"),toObject=require("../internals/to-object"),toLength=require("../internals/to-length"),arraySpeciesCreate=require("../internals/array-species-create"),push=[].push,createMethod=function(TYPE){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX;return function($this,callbackfn,that,specificCreate){for(var value,result,O=toObject($this),self=IndexedObject(O),boundFunction=bind(callbackfn,that,3),length=toLength(self.length),index=0,create=specificCreate||arraySpeciesCreate,target=IS_MAP?create($this,length):IS_FILTER?create($this,0):void 0;length>index;index++)if((NO_HOLES||index in self)&&(result=boundFunction(value=self[index],index,O),TYPE))if(IS_MAP)target[index]=result;else if(result)switch(TYPE){case 3:return!0;case 5:return value;case 6:return index;case 2:push.call(target,value)}else if(IS_EVERY)return!1;return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:target}};module.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6)}},{"../internals/array-species-create":84,"../internals/function-bind-context":103,"../internals/indexed-object":112,"../internals/to-length":151,"../internals/to-object":152}],80:[function(require,module,exports){var fails=require("../internals/fails"),wellKnownSymbol=require("../internals/well-known-symbol"),V8_VERSION=require("../internals/engine-v8-version"),SPECIES=wellKnownSymbol("species");module.exports=function(METHOD_NAME){return V8_VERSION>=51||!fails((function(){var array=[];return(array.constructor={})[SPECIES]=function(){return{foo:1}},1!==array[METHOD_NAME](Boolean).foo}))}},{"../internals/engine-v8-version":98,"../internals/fails":102,"../internals/well-known-symbol":157}],81:[function(require,module,exports){"use strict";var fails=require("../internals/fails");module.exports=function(METHOD_NAME,argument){var method=[][METHOD_NAME];return!!method&&fails((function(){method.call(null,argument||function(){throw 1},1)}))}},{"../internals/fails":102}],82:[function(require,module,exports){var DESCRIPTORS=require("../internals/descriptors"),fails=require("../internals/fails"),has=require("../internals/has"),defineProperty=Object.defineProperty,cache={},thrower=function(it){throw it};module.exports=function(METHOD_NAME,options){if(has(cache,METHOD_NAME))return cache[METHOD_NAME];options||(options={});var method=[][METHOD_NAME],ACCESSORS=!!has(options,"ACCESSORS")&&options.ACCESSORS,argument0=has(options,0)?options[0]:thrower,argument1=has(options,1)?options[1]:void 0;return cache[METHOD_NAME]=!!method&&!fails((function(){if(ACCESSORS&&!DESCRIPTORS)return!0;var O={length:-1};ACCESSORS?defineProperty(O,1,{enumerable:!0,get:thrower}):O[1]=1,method.call(O,argument0,argument1)}))}},{"../internals/descriptors":94,"../internals/fails":102,"../internals/has":108}],83:[function(require,module,exports){var aFunction=require("../internals/a-function"),toObject=require("../internals/to-object"),IndexedObject=require("../internals/indexed-object"),toLength=require("../internals/to-length"),createMethod=function(IS_RIGHT){return function(that,callbackfn,argumentsLength,memo){aFunction(callbackfn);var O=toObject(that),self=IndexedObject(O),length=toLength(O.length),index=IS_RIGHT?length-1:0,i=IS_RIGHT?-1:1;if(argumentsLength<2)for(;;){if(index in self){memo=self[index],index+=i;break}if(index+=i,IS_RIGHT?index<0:length<=index)throw TypeError("Reduce of empty array with no initial value")}for(;IS_RIGHT?index>=0:length>index;index+=i)index in self&&(memo=callbackfn(memo,self[index],index,O));return memo}};module.exports={left:createMethod(!1),right:createMethod(!0)}},{"../internals/a-function":73,"../internals/indexed-object":112,"../internals/to-length":151,"../internals/to-object":152}],84:[function(require,module,exports){var isObject=require("../internals/is-object"),isArray=require("../internals/is-array"),SPECIES=require("../internals/well-known-symbol")("species");module.exports=function(originalArray,length){var C;return isArray(originalArray)&&("function"!=typeof(C=originalArray.constructor)||C!==Array&&!isArray(C.prototype)?isObject(C)&&null===(C=C[SPECIES])&&(C=void 0):C=void 0),new(void 0===C?Array:C)(0===length?0:length)}},{"../internals/is-array":115,"../internals/is-object":118,"../internals/well-known-symbol":157}],85:[function(require,module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},{}],86:[function(require,module,exports){var TO_STRING_TAG_SUPPORT=require("../internals/to-string-tag-support"),classofRaw=require("../internals/classof-raw"),TO_STRING_TAG=require("../internals/well-known-symbol")("toStringTag"),CORRECT_ARGUMENTS="Arguments"==classofRaw(function(){return arguments}());module.exports=TO_STRING_TAG_SUPPORT?classofRaw:function(it){var O,tag,result;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(tag=function(it,key){try{return it[key]}catch(error){}}(O=Object(it),TO_STRING_TAG))?tag:CORRECT_ARGUMENTS?classofRaw(O):"Object"==(result=classofRaw(O))&&"function"==typeof O.callee?"Arguments":result}},{"../internals/classof-raw":85,"../internals/to-string-tag-support":154,"../internals/well-known-symbol":157}],87:[function(require,module,exports){var MATCH=require("../internals/well-known-symbol")("match");module.exports=function(METHOD_NAME){var regexp=/./;try{"/./"[METHOD_NAME](regexp)}catch(e){try{return regexp[MATCH]=!1,"/./"[METHOD_NAME](regexp)}catch(f){}}return!1}},{"../internals/well-known-symbol":157}],88:[function(require,module,exports){var fails=require("../internals/fails");module.exports=!fails((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype}))},{"../internals/fails":102}],89:[function(require,module,exports){"use strict";var IteratorPrototype=require("../internals/iterators-core").IteratorPrototype,create=require("../internals/object-create"),createPropertyDescriptor=require("../internals/create-property-descriptor"),setToStringTag=require("../internals/set-to-string-tag"),Iterators=require("../internals/iterators"),returnThis=function(){return this};module.exports=function(IteratorConstructor,NAME,next){var TO_STRING_TAG=NAME+" Iterator";return IteratorConstructor.prototype=create(IteratorPrototype,{next:createPropertyDescriptor(1,next)}),setToStringTag(IteratorConstructor,TO_STRING_TAG,!1,!0),Iterators[TO_STRING_TAG]=returnThis,IteratorConstructor}},{"../internals/create-property-descriptor":91,"../internals/iterators":122,"../internals/iterators-core":121,"../internals/object-create":127,"../internals/set-to-string-tag":142}],90:[function(require,module,exports){var DESCRIPTORS=require("../internals/descriptors"),definePropertyModule=require("../internals/object-define-property"),createPropertyDescriptor=require("../internals/create-property-descriptor");module.exports=DESCRIPTORS?function(object,key,value){return definePropertyModule.f(object,key,createPropertyDescriptor(1,value))}:function(object,key,value){return object[key]=value,object}},{"../internals/create-property-descriptor":91,"../internals/descriptors":94,"../internals/object-define-property":129}],91:[function(require,module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},{}],92:[function(require,module,exports){"use strict";var toPrimitive=require("../internals/to-primitive"),definePropertyModule=require("../internals/object-define-property"),createPropertyDescriptor=require("../internals/create-property-descriptor");module.exports=function(object,key,value){var propertyKey=toPrimitive(key);propertyKey in object?definePropertyModule.f(object,propertyKey,createPropertyDescriptor(0,value)):object[propertyKey]=value}},{"../internals/create-property-descriptor":91,"../internals/object-define-property":129,"../internals/to-primitive":153}],93:[function(require,module,exports){"use strict";var $=require("../internals/export"),createIteratorConstructor=require("../internals/create-iterator-constructor"),getPrototypeOf=require("../internals/object-get-prototype-of"),setPrototypeOf=require("../internals/object-set-prototype-of"),setToStringTag=require("../internals/set-to-string-tag"),createNonEnumerableProperty=require("../internals/create-non-enumerable-property"),redefine=require("../internals/redefine"),wellKnownSymbol=require("../internals/well-known-symbol"),IS_PURE=require("../internals/is-pure"),Iterators=require("../internals/iterators"),IteratorsCore=require("../internals/iterators-core"),IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR=wellKnownSymbol("iterator"),returnThis=function(){return this};module.exports=function(Iterable,NAME,IteratorConstructor,next,DEFAULT,IS_SET,FORCED){createIteratorConstructor(IteratorConstructor,NAME,next);var CurrentIteratorPrototype,methods,KEY,getIterationMethod=function(KIND){if(KIND===DEFAULT&&defaultIterator)return defaultIterator;if(!BUGGY_SAFARI_ITERATORS&&KIND in IterablePrototype)return IterablePrototype[KIND];switch(KIND){case"keys":return function keys(){return new IteratorConstructor(this,KIND)};case"values":return function values(){return new IteratorConstructor(this,KIND)};case"entries":return function entries(){return new IteratorConstructor(this,KIND)}}return function(){return new IteratorConstructor(this)}},TO_STRING_TAG=NAME+" Iterator",INCORRECT_VALUES_NAME=!1,IterablePrototype=Iterable.prototype,nativeIterator=IterablePrototype[ITERATOR]||IterablePrototype["@@iterator"]||DEFAULT&&IterablePrototype[DEFAULT],defaultIterator=!BUGGY_SAFARI_ITERATORS&&nativeIterator||getIterationMethod(DEFAULT),anyNativeIterator="Array"==NAME&&IterablePrototype.entries||nativeIterator;if(anyNativeIterator&&(CurrentIteratorPrototype=getPrototypeOf(anyNativeIterator.call(new Iterable)),IteratorPrototype!==Object.prototype&&CurrentIteratorPrototype.next&&(IS_PURE||getPrototypeOf(CurrentIteratorPrototype)===IteratorPrototype||(setPrototypeOf?setPrototypeOf(CurrentIteratorPrototype,IteratorPrototype):"function"!=typeof CurrentIteratorPrototype[ITERATOR]&&createNonEnumerableProperty(CurrentIteratorPrototype,ITERATOR,returnThis)),setToStringTag(CurrentIteratorPrototype,TO_STRING_TAG,!0,!0),IS_PURE&&(Iterators[TO_STRING_TAG]=returnThis))),"values"==DEFAULT&&nativeIterator&&"values"!==nativeIterator.name&&(INCORRECT_VALUES_NAME=!0,defaultIterator=function values(){return nativeIterator.call(this)}),IS_PURE&&!FORCED||IterablePrototype[ITERATOR]===defaultIterator||createNonEnumerableProperty(IterablePrototype,ITERATOR,defaultIterator),Iterators[NAME]=defaultIterator,DEFAULT)if(methods={values:getIterationMethod("values"),keys:IS_SET?defaultIterator:getIterationMethod("keys"),entries:getIterationMethod("entries")},FORCED)for(KEY in methods)(BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME||!(KEY in IterablePrototype))&&redefine(IterablePrototype,KEY,methods[KEY]);else $({target:NAME,proto:!0,forced:BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME},methods);return methods}},{"../internals/create-iterator-constructor":89,"../internals/create-non-enumerable-property":90,"../internals/export":101,"../internals/is-pure":119,"../internals/iterators":122,"../internals/iterators-core":121,"../internals/object-get-prototype-of":131,"../internals/object-set-prototype-of":135,"../internals/redefine":138,"../internals/set-to-string-tag":142,"../internals/well-known-symbol":157}],94:[function(require,module,exports){var fails=require("../internals/fails");module.exports=!fails((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},{"../internals/fails":102}],95:[function(require,module,exports){var global=require("../internals/global"),isObject=require("../internals/is-object"),document=global.document,EXISTS=isObject(document)&&isObject(document.createElement);module.exports=function(it){return EXISTS?document.createElement(it):{}}},{"../internals/global":107,"../internals/is-object":118}],96:[function(require,module,exports){module.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],97:[function(require,module,exports){var getBuiltIn=require("../internals/get-built-in");module.exports=getBuiltIn("navigator","userAgent")||""},{"../internals/get-built-in":104}],98:[function(require,module,exports){var match,version,global=require("../internals/global"),userAgent=require("../internals/engine-user-agent"),process=global.process,versions=process&&process.versions,v8=versions&&versions.v8;v8?version=(match=v8.split("."))[0]+match[1]:userAgent&&(!(match=userAgent.match(/Edge\/(\d+)/))||match[1]>=74)&&(match=userAgent.match(/Chrome\/(\d+)/))&&(version=match[1]),module.exports=version&&+version},{"../internals/engine-user-agent":97,"../internals/global":107}],99:[function(require,module,exports){var path=require("../internals/path");module.exports=function(CONSTRUCTOR){return path[CONSTRUCTOR+"Prototype"]}},{"../internals/path":137}],100:[function(require,module,exports){module.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],101:[function(require,module,exports){"use strict";var global=require("../internals/global"),getOwnPropertyDescriptor=require("../internals/object-get-own-property-descriptor").f,isForced=require("../internals/is-forced"),path=require("../internals/path"),bind=require("../internals/function-bind-context"),createNonEnumerableProperty=require("../internals/create-non-enumerable-property"),has=require("../internals/has"),wrapConstructor=function(NativeConstructor){var Wrapper=function(a,b,c){if(this instanceof NativeConstructor){switch(arguments.length){case 0:return new NativeConstructor;case 1:return new NativeConstructor(a);case 2:return new NativeConstructor(a,b)}return new NativeConstructor(a,b,c)}return NativeConstructor.apply(this,arguments)};return Wrapper.prototype=NativeConstructor.prototype,Wrapper};module.exports=function(options,source){var USE_NATIVE,VIRTUAL_PROTOTYPE,key,sourceProperty,targetProperty,nativeProperty,resultProperty,descriptor,TARGET=options.target,GLOBAL=options.global,STATIC=options.stat,PROTO=options.proto,nativeSource=GLOBAL?global:STATIC?global[TARGET]:(global[TARGET]||{}).prototype,target=GLOBAL?path:path[TARGET]||(path[TARGET]={}),targetPrototype=target.prototype;for(key in source)USE_NATIVE=!isForced(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced)&&nativeSource&&has(nativeSource,key),targetProperty=target[key],USE_NATIVE&&(nativeProperty=options.noTargetGet?(descriptor=getOwnPropertyDescriptor(nativeSource,key))&&descriptor.value:nativeSource[key]),sourceProperty=USE_NATIVE&&nativeProperty?nativeProperty:source[key],USE_NATIVE&&typeof targetProperty==typeof sourceProperty||(resultProperty=options.bind&&USE_NATIVE?bind(sourceProperty,global):options.wrap&&USE_NATIVE?wrapConstructor(sourceProperty):PROTO&&"function"==typeof sourceProperty?bind(Function.call,sourceProperty):sourceProperty,(options.sham||sourceProperty&&sourceProperty.sham||targetProperty&&targetProperty.sham)&&createNonEnumerableProperty(resultProperty,"sham",!0),target[key]=resultProperty,PROTO&&(has(path,VIRTUAL_PROTOTYPE=TARGET+"Prototype")||createNonEnumerableProperty(path,VIRTUAL_PROTOTYPE,{}),path[VIRTUAL_PROTOTYPE][key]=sourceProperty,options.real&&targetPrototype&&!targetPrototype[key]&&createNonEnumerableProperty(targetPrototype,key,sourceProperty)))}},{"../internals/create-non-enumerable-property":90,"../internals/function-bind-context":103,"../internals/global":107,"../internals/has":108,"../internals/is-forced":116,"../internals/object-get-own-property-descriptor":130,"../internals/path":137}],102:[function(require,module,exports){module.exports=function(exec){try{return!!exec()}catch(error){return!0}}},{}],103:[function(require,module,exports){var aFunction=require("../internals/a-function");module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 0:return function(){return fn.call(that)};case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},{"../internals/a-function":73}],104:[function(require,module,exports){var path=require("../internals/path"),global=require("../internals/global"),aFunction=function(variable){return"function"==typeof variable?variable:void 0};module.exports=function(namespace,method){return arguments.length<2?aFunction(path[namespace])||aFunction(global[namespace]):path[namespace]&&path[namespace][method]||global[namespace]&&global[namespace][method]}},{"../internals/global":107,"../internals/path":137}],105:[function(require,module,exports){var classof=require("../internals/classof"),Iterators=require("../internals/iterators"),ITERATOR=require("../internals/well-known-symbol")("iterator");module.exports=function(it){if(null!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},{"../internals/classof":86,"../internals/iterators":122,"../internals/well-known-symbol":157}],106:[function(require,module,exports){var anObject=require("../internals/an-object"),getIteratorMethod=require("../internals/get-iterator-method");module.exports=function(it){var iteratorMethod=getIteratorMethod(it);if("function"!=typeof iteratorMethod)throw TypeError(String(it)+" is not iterable");return anObject(iteratorMethod.call(it))}},{"../internals/an-object":76,"../internals/get-iterator-method":105}],107:[function(require,module,exports){(function(global){(function(){var check=function(it){return it&&it.Math==Math&&it};module.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof global&&global)||Function("return this")()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],108:[function(require,module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},{}],109:[function(require,module,exports){module.exports={}},{}],110:[function(require,module,exports){var getBuiltIn=require("../internals/get-built-in");module.exports=getBuiltIn("document","documentElement")},{"../internals/get-built-in":104}],111:[function(require,module,exports){var DESCRIPTORS=require("../internals/descriptors"),fails=require("../internals/fails"),createElement=require("../internals/document-create-element");module.exports=!DESCRIPTORS&&!fails((function(){return 7!=Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a}))},{"../internals/descriptors":94,"../internals/document-create-element":95,"../internals/fails":102}],112:[function(require,module,exports){var fails=require("../internals/fails"),classof=require("../internals/classof-raw"),split="".split;module.exports=fails((function(){return!Object("z").propertyIsEnumerable(0)}))?function(it){return"String"==classof(it)?split.call(it,""):Object(it)}:Object},{"../internals/classof-raw":85,"../internals/fails":102}],113:[function(require,module,exports){var store=require("../internals/shared-store"),functionToString=Function.toString;"function"!=typeof store.inspectSource&&(store.inspectSource=function(it){return functionToString.call(it)}),module.exports=store.inspectSource},{"../internals/shared-store":144}],114:[function(require,module,exports){var set,get,has,NATIVE_WEAK_MAP=require("../internals/native-weak-map"),global=require("../internals/global"),isObject=require("../internals/is-object"),createNonEnumerableProperty=require("../internals/create-non-enumerable-property"),objectHas=require("../internals/has"),sharedKey=require("../internals/shared-key"),hiddenKeys=require("../internals/hidden-keys"),WeakMap=global.WeakMap;if(NATIVE_WEAK_MAP){var store=new WeakMap,wmget=store.get,wmhas=store.has,wmset=store.set;set=function(it,metadata){return wmset.call(store,it,metadata),metadata},get=function(it){return wmget.call(store,it)||{}},has=function(it){return wmhas.call(store,it)}}else{var STATE=sharedKey("state");hiddenKeys[STATE]=!0,set=function(it,metadata){return createNonEnumerableProperty(it,STATE,metadata),metadata},get=function(it){return objectHas(it,STATE)?it[STATE]:{}},has=function(it){return objectHas(it,STATE)}}module.exports={set:set,get:get,has:has,enforce:function(it){return has(it)?get(it):set(it,{})},getterFor:function(TYPE){return function(it){var state;if(!isObject(it)||(state=get(it)).type!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required");return state}}}},{"../internals/create-non-enumerable-property":90,"../internals/global":107,"../internals/has":108,"../internals/hidden-keys":109,"../internals/is-object":118,"../internals/native-weak-map":124,"../internals/shared-key":143}],115:[function(require,module,exports){var classof=require("../internals/classof-raw");module.exports=Array.isArray||function isArray(arg){return"Array"==classof(arg)}},{"../internals/classof-raw":85}],116:[function(require,module,exports){var fails=require("../internals/fails"),replacement=/#|\.prototype\./,isForced=function(feature,detection){var value=data[normalize(feature)];return value==POLYFILL||value!=NATIVE&&("function"==typeof detection?fails(detection):!!detection)},normalize=isForced.normalize=function(string){return String(string).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P";module.exports=isForced},{"../internals/fails":102}],117:[function(require,module,exports){var classof=require("../internals/classof"),wellKnownSymbol=require("../internals/well-known-symbol"),Iterators=require("../internals/iterators"),ITERATOR=wellKnownSymbol("iterator");module.exports=function(it){var O=Object(it);return void 0!==O[ITERATOR]||"@@iterator"in O||Iterators.hasOwnProperty(classof(O))}},{"../internals/classof":86,"../internals/iterators":122,"../internals/well-known-symbol":157}],118:[function(require,module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},{}],119:[function(require,module,exports){module.exports=!0},{}],120:[function(require,module,exports){var isObject=require("../internals/is-object"),classof=require("../internals/classof-raw"),MATCH=require("../internals/well-known-symbol")("match");module.exports=function(it){var isRegExp;return isObject(it)&&(void 0!==(isRegExp=it[MATCH])?!!isRegExp:"RegExp"==classof(it))}},{"../internals/classof-raw":85,"../internals/is-object":118,"../internals/well-known-symbol":157}],121:[function(require,module,exports){"use strict";var IteratorPrototype,PrototypeOfArrayIteratorPrototype,arrayIterator,getPrototypeOf=require("../internals/object-get-prototype-of"),createNonEnumerableProperty=require("../internals/create-non-enumerable-property"),has=require("../internals/has"),wellKnownSymbol=require("../internals/well-known-symbol"),IS_PURE=require("../internals/is-pure"),ITERATOR=wellKnownSymbol("iterator"),BUGGY_SAFARI_ITERATORS=!1;[].keys&&("next"in(arrayIterator=[].keys())?(PrototypeOfArrayIteratorPrototype=getPrototypeOf(getPrototypeOf(arrayIterator)))!==Object.prototype&&(IteratorPrototype=PrototypeOfArrayIteratorPrototype):BUGGY_SAFARI_ITERATORS=!0),null==IteratorPrototype&&(IteratorPrototype={}),IS_PURE||has(IteratorPrototype,ITERATOR)||createNonEnumerableProperty(IteratorPrototype,ITERATOR,(function(){return this})),module.exports={IteratorPrototype:IteratorPrototype,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS}},{"../internals/create-non-enumerable-property":90,"../internals/has":108,"../internals/is-pure":119,"../internals/object-get-prototype-of":131,"../internals/well-known-symbol":157}],122:[function(require,module,exports){arguments[4][109][0].apply(exports,arguments)},{dup:109}],123:[function(require,module,exports){var fails=require("../internals/fails");module.exports=!!Object.getOwnPropertySymbols&&!fails((function(){return!String(Symbol())}))},{"../internals/fails":102}],124:[function(require,module,exports){var global=require("../internals/global"),inspectSource=require("../internals/inspect-source"),WeakMap=global.WeakMap;module.exports="function"==typeof WeakMap&&/native code/.test(inspectSource(WeakMap))},{"../internals/global":107,"../internals/inspect-source":113}],125:[function(require,module,exports){var isRegExp=require("../internals/is-regexp");module.exports=function(it){if(isRegExp(it))throw TypeError("The method doesn't accept regular expressions");return it}},{"../internals/is-regexp":120}],126:[function(require,module,exports){var global=require("../internals/global"),trim=require("../internals/string-trim").trim,whitespaces=require("../internals/whitespaces"),$parseInt=global.parseInt,hex=/^[+-]?0[Xx]/,FORCED=8!==$parseInt(whitespaces+"08")||22!==$parseInt(whitespaces+"0x16");module.exports=FORCED?function parseInt(string,radix){var S=trim(String(string));return $parseInt(S,radix>>>0||(hex.test(S)?16:10))}:$parseInt},{"../internals/global":107,"../internals/string-trim":147,"../internals/whitespaces":158}],127:[function(require,module,exports){var activeXDocument,anObject=require("../internals/an-object"),defineProperties=require("../internals/object-define-properties"),enumBugKeys=require("../internals/enum-bug-keys"),hiddenKeys=require("../internals/hidden-keys"),html=require("../internals/html"),documentCreateElement=require("../internals/document-create-element"),sharedKey=require("../internals/shared-key"),IE_PROTO=sharedKey("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(content){return"<script>"+content+"<\/script>"},NullProtoObject=function(){try{activeXDocument=document.domain&&new ActiveXObject("htmlfile")}catch(error){}var iframeDocument,iframe;NullProtoObject=activeXDocument?function(activeXDocument){activeXDocument.write(scriptTag("")),activeXDocument.close();var temp=activeXDocument.parentWindow.Object;return activeXDocument=null,temp}(activeXDocument):((iframe=documentCreateElement("iframe")).style.display="none",html.appendChild(iframe),iframe.src=String("javascript:"),(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write(scriptTag("document.F=Object")),iframeDocument.close(),iframeDocument.F);for(var length=enumBugKeys.length;length--;)delete NullProtoObject.prototype[enumBugKeys[length]];return NullProtoObject()};hiddenKeys[IE_PROTO]=!0,module.exports=Object.create||function create(O,Properties){var result;return null!==O?(EmptyConstructor.prototype=anObject(O),result=new EmptyConstructor,EmptyConstructor.prototype=null,result[IE_PROTO]=O):result=NullProtoObject(),void 0===Properties?result:defineProperties(result,Properties)}},{"../internals/an-object":76,"../internals/document-create-element":95,"../internals/enum-bug-keys":100,"../internals/hidden-keys":109,"../internals/html":110,"../internals/object-define-properties":128,"../internals/shared-key":143}],128:[function(require,module,exports){var DESCRIPTORS=require("../internals/descriptors"),definePropertyModule=require("../internals/object-define-property"),anObject=require("../internals/an-object"),objectKeys=require("../internals/object-keys");module.exports=DESCRIPTORS?Object.defineProperties:function defineProperties(O,Properties){anObject(O);for(var key,keys=objectKeys(Properties),length=keys.length,index=0;length>index;)definePropertyModule.f(O,key=keys[index++],Properties[key]);return O}},{"../internals/an-object":76,"../internals/descriptors":94,"../internals/object-define-property":129,"../internals/object-keys":133}],129:[function(require,module,exports){var DESCRIPTORS=require("../internals/descriptors"),IE8_DOM_DEFINE=require("../internals/ie8-dom-define"),anObject=require("../internals/an-object"),toPrimitive=require("../internals/to-primitive"),nativeDefineProperty=Object.defineProperty;exports.f=DESCRIPTORS?nativeDefineProperty:function defineProperty(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return nativeDefineProperty(O,P,Attributes)}catch(error){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported");return"value"in Attributes&&(O[P]=Attributes.value),O}},{"../internals/an-object":76,"../internals/descriptors":94,"../internals/ie8-dom-define":111,"../internals/to-primitive":153}],130:[function(require,module,exports){var DESCRIPTORS=require("../internals/descriptors"),propertyIsEnumerableModule=require("../internals/object-property-is-enumerable"),createPropertyDescriptor=require("../internals/create-property-descriptor"),toIndexedObject=require("../internals/to-indexed-object"),toPrimitive=require("../internals/to-primitive"),has=require("../internals/has"),IE8_DOM_DEFINE=require("../internals/ie8-dom-define"),nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?nativeGetOwnPropertyDescriptor:function getOwnPropertyDescriptor(O,P){if(O=toIndexedObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return nativeGetOwnPropertyDescriptor(O,P)}catch(error){}if(has(O,P))return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O,P),O[P])}},{"../internals/create-property-descriptor":91,"../internals/descriptors":94,"../internals/has":108,"../internals/ie8-dom-define":111,"../internals/object-property-is-enumerable":134,"../internals/to-indexed-object":149,"../internals/to-primitive":153}],131:[function(require,module,exports){var has=require("../internals/has"),toObject=require("../internals/to-object"),sharedKey=require("../internals/shared-key"),CORRECT_PROTOTYPE_GETTER=require("../internals/correct-prototype-getter"),IE_PROTO=sharedKey("IE_PROTO"),ObjectPrototype=Object.prototype;module.exports=CORRECT_PROTOTYPE_GETTER?Object.getPrototypeOf:function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectPrototype:null}},{"../internals/correct-prototype-getter":88,"../internals/has":108,"../internals/shared-key":143,"../internals/to-object":152}],132:[function(require,module,exports){var has=require("../internals/has"),toIndexedObject=require("../internals/to-indexed-object"),indexOf=require("../internals/array-includes").indexOf,hiddenKeys=require("../internals/hidden-keys");module.exports=function(object,names){var key,O=toIndexedObject(object),i=0,result=[];for(key in O)!has(hiddenKeys,key)&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~indexOf(result,key)||result.push(key));return result}},{"../internals/array-includes":78,"../internals/has":108,"../internals/hidden-keys":109,"../internals/to-indexed-object":149}],133:[function(require,module,exports){var internalObjectKeys=require("../internals/object-keys-internal"),enumBugKeys=require("../internals/enum-bug-keys");module.exports=Object.keys||function keys(O){return internalObjectKeys(O,enumBugKeys)}},{"../internals/enum-bug-keys":100,"../internals/object-keys-internal":132}],134:[function(require,module,exports){"use strict";var nativePropertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor&&!nativePropertyIsEnumerable.call({1:2},1);exports.f=NASHORN_BUG?function propertyIsEnumerable(V){var descriptor=getOwnPropertyDescriptor(this,V);return!!descriptor&&descriptor.enumerable}:nativePropertyIsEnumerable},{}],135:[function(require,module,exports){var anObject=require("../internals/an-object"),aPossiblePrototype=require("../internals/a-possible-prototype");module.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var setter,CORRECT_SETTER=!1,test={};try{(setter=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(test,[]),CORRECT_SETTER=test instanceof Array}catch(error){}return function setPrototypeOf(O,proto){return anObject(O),aPossiblePrototype(proto),CORRECT_SETTER?setter.call(O,proto):O.__proto__=proto,O}}():void 0)},{"../internals/a-possible-prototype":74,"../internals/an-object":76}],136:[function(require,module,exports){"use strict";var TO_STRING_TAG_SUPPORT=require("../internals/to-string-tag-support"),classof=require("../internals/classof");module.exports=TO_STRING_TAG_SUPPORT?{}.toString:function toString(){return"[object "+classof(this)+"]"}},{"../internals/classof":86,"../internals/to-string-tag-support":154}],137:[function(require,module,exports){arguments[4][109][0].apply(exports,arguments)},{dup:109}],138:[function(require,module,exports){var createNonEnumerableProperty=require("../internals/create-non-enumerable-property");module.exports=function(target,key,value,options){options&&options.enumerable?target[key]=value:createNonEnumerableProperty(target,key,value)}},{"../internals/create-non-enumerable-property":90}],139:[function(require,module,exports){"use strict";var anObject=require("../internals/an-object");module.exports=function(){var that=anObject(this),result="";return that.global&&(result+="g"),that.ignoreCase&&(result+="i"),that.multiline&&(result+="m"),that.dotAll&&(result+="s"),that.unicode&&(result+="u"),that.sticky&&(result+="y"),result}},{"../internals/an-object":76}],140:[function(require,module,exports){module.exports=function(it){if(null==it)throw TypeError("Can't call method on "+it);return it}},{}],141:[function(require,module,exports){var global=require("../internals/global"),createNonEnumerableProperty=require("../internals/create-non-enumerable-property");module.exports=function(key,value){try{createNonEnumerableProperty(global,key,value)}catch(error){global[key]=value}return value}},{"../internals/create-non-enumerable-property":90,"../internals/global":107}],142:[function(require,module,exports){var TO_STRING_TAG_SUPPORT=require("../internals/to-string-tag-support"),defineProperty=require("../internals/object-define-property").f,createNonEnumerableProperty=require("../internals/create-non-enumerable-property"),has=require("../internals/has"),toString=require("../internals/object-to-string"),TO_STRING_TAG=require("../internals/well-known-symbol")("toStringTag");module.exports=function(it,TAG,STATIC,SET_METHOD){if(it){var target=STATIC?it:it.prototype;has(target,TO_STRING_TAG)||defineProperty(target,TO_STRING_TAG,{configurable:!0,value:TAG}),SET_METHOD&&!TO_STRING_TAG_SUPPORT&&createNonEnumerableProperty(target,"toString",toString)}}},{"../internals/create-non-enumerable-property":90,"../internals/has":108,"../internals/object-define-property":129,"../internals/object-to-string":136,"../internals/to-string-tag-support":154,"../internals/well-known-symbol":157}],143:[function(require,module,exports){var shared=require("../internals/shared"),uid=require("../internals/uid"),keys=shared("keys");module.exports=function(key){return keys[key]||(keys[key]=uid(key))}},{"../internals/shared":145,"../internals/uid":155}],144:[function(require,module,exports){var global=require("../internals/global"),setGlobal=require("../internals/set-global"),store=global["__core-js_shared__"]||setGlobal("__core-js_shared__",{});module.exports=store},{"../internals/global":107,"../internals/set-global":141}],145:[function(require,module,exports){var IS_PURE=require("../internals/is-pure"),store=require("../internals/shared-store");(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:"3.6.4",mode:IS_PURE?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":119,"../internals/shared-store":144}],146:[function(require,module,exports){var toInteger=require("../internals/to-integer"),requireObjectCoercible=require("../internals/require-object-coercible"),createMethod=function(CONVERT_TO_STRING){return function($this,pos){var first,second,S=String(requireObjectCoercible($this)),position=toInteger(pos),size=S.length;return position<0||position>=size?CONVERT_TO_STRING?"":void 0:(first=S.charCodeAt(position))<55296||first>56319||position+1===size||(second=S.charCodeAt(position+1))<56320||second>57343?CONVERT_TO_STRING?S.charAt(position):first:CONVERT_TO_STRING?S.slice(position,position+2):second-56320+(first-55296<<10)+65536}};module.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},{"../internals/require-object-coercible":140,"../internals/to-integer":150}],147:[function(require,module,exports){var requireObjectCoercible=require("../internals/require-object-coercible"),whitespace="["+require("../internals/whitespaces")+"]",ltrim=RegExp("^"+whitespace+whitespace+"*"),rtrim=RegExp(whitespace+whitespace+"*$"),createMethod=function(TYPE){return function($this){var string=String(requireObjectCoercible($this));return 1&TYPE&&(string=string.replace(ltrim,"")),2&TYPE&&(string=string.replace(rtrim,"")),string}};module.exports={start:createMethod(1),end:createMethod(2),trim:createMethod(3)}},{"../internals/require-object-coercible":140,"../internals/whitespaces":158}],148:[function(require,module,exports){var toInteger=require("../internals/to-integer"),max=Math.max,min=Math.min;module.exports=function(index,length){var integer=toInteger(index);return integer<0?max(integer+length,0):min(integer,length)}},{"../internals/to-integer":150}],149:[function(require,module,exports){var IndexedObject=require("../internals/indexed-object"),requireObjectCoercible=require("../internals/require-object-coercible");module.exports=function(it){return IndexedObject(requireObjectCoercible(it))}},{"../internals/indexed-object":112,"../internals/require-object-coercible":140}],150:[function(require,module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(argument){return isNaN(argument=+argument)?0:(argument>0?floor:ceil)(argument)}},{}],151:[function(require,module,exports){var toInteger=require("../internals/to-integer"),min=Math.min;module.exports=function(argument){return argument>0?min(toInteger(argument),9007199254740991):0}},{"../internals/to-integer":150}],152:[function(require,module,exports){var requireObjectCoercible=require("../internals/require-object-coercible");module.exports=function(argument){return Object(requireObjectCoercible(argument))}},{"../internals/require-object-coercible":140}],153:[function(require,module,exports){var isObject=require("../internals/is-object");module.exports=function(input,PREFERRED_STRING){if(!isObject(input))return input;var fn,val;if(PREFERRED_STRING&&"function"==typeof(fn=input.toString)&&!isObject(val=fn.call(input)))return val;if("function"==typeof(fn=input.valueOf)&&!isObject(val=fn.call(input)))return val;if(!PREFERRED_STRING&&"function"==typeof(fn=input.toString)&&!isObject(val=fn.call(input)))return val;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":118}],154:[function(require,module,exports){var test={};test[require("../internals/well-known-symbol")("toStringTag")]="z",module.exports="[object z]"===String(test)},{"../internals/well-known-symbol":157}],155:[function(require,module,exports){var id=0,postfix=Math.random();module.exports=function(key){return"Symbol("+String(void 0===key?"":key)+")_"+(++id+postfix).toString(36)}},{}],156:[function(require,module,exports){var NATIVE_SYMBOL=require("../internals/native-symbol");module.exports=NATIVE_SYMBOL&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":123}],157:[function(require,module,exports){var global=require("../internals/global"),shared=require("../internals/shared"),has=require("../internals/has"),uid=require("../internals/uid"),NATIVE_SYMBOL=require("../internals/native-symbol"),USE_SYMBOL_AS_UID=require("../internals/use-symbol-as-uid"),WellKnownSymbolsStore=shared("wks"),Symbol=global.Symbol,createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol:Symbol&&Symbol.withoutSetter||uid;module.exports=function(name){return has(WellKnownSymbolsStore,name)||(NATIVE_SYMBOL&&has(Symbol,name)?WellKnownSymbolsStore[name]=Symbol[name]:WellKnownSymbolsStore[name]=createWellKnownSymbol("Symbol."+name)),WellKnownSymbolsStore[name]}},{"../internals/global":107,"../internals/has":108,"../internals/native-symbol":123,"../internals/shared":145,"../internals/uid":155,"../internals/use-symbol-as-uid":156}],158:[function(require,module,exports){module.exports="\t\n\v\f\r \u2028\u2029\ufeff"},{}],159:[function(require,module,exports){"use strict";var $=require("../internals/export"),fails=require("../internals/fails"),isArray=require("../internals/is-array"),isObject=require("../internals/is-object"),toObject=require("../internals/to-object"),toLength=require("../internals/to-length"),createProperty=require("../internals/create-property"),arraySpeciesCreate=require("../internals/array-species-create"),arrayMethodHasSpeciesSupport=require("../internals/array-method-has-species-support"),wellKnownSymbol=require("../internals/well-known-symbol"),V8_VERSION=require("../internals/engine-v8-version"),IS_CONCAT_SPREADABLE=wellKnownSymbol("isConcatSpreadable"),IS_CONCAT_SPREADABLE_SUPPORT=V8_VERSION>=51||!fails((function(){var array=[];return array[IS_CONCAT_SPREADABLE]=!1,array.concat()[0]!==array})),SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("concat"),isConcatSpreadable=function(O){if(!isObject(O))return!1;var spreadable=O[IS_CONCAT_SPREADABLE];return void 0!==spreadable?!!spreadable:isArray(O)};$({target:"Array",proto:!0,forced:!IS_CONCAT_SPREADABLE_SUPPORT||!SPECIES_SUPPORT},{concat:function concat(arg){var i,k,length,len,E,O=toObject(this),A=arraySpeciesCreate(O,0),n=0;for(i=-1,length=arguments.length;i<length;i++)if(isConcatSpreadable(E=-1===i?O:arguments[i])){if(n+(len=toLength(E.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(k=0;k<len;k++,n++)k in E&&createProperty(A,n,E[k])}else{if(n>=9007199254740991)throw TypeError("Maximum allowed index exceeded");createProperty(A,n++,E)}return A.length=n,A}})},{"../internals/array-method-has-species-support":80,"../internals/array-species-create":84,"../internals/create-property":92,"../internals/engine-v8-version":98,"../internals/export":101,"../internals/fails":102,"../internals/is-array":115,"../internals/is-object":118,"../internals/to-length":151,"../internals/to-object":152,"../internals/well-known-symbol":157}],160:[function(require,module,exports){"use strict";var $=require("../internals/export"),forEach=require("../internals/array-for-each");$({target:"Array",proto:!0,forced:[].forEach!=forEach},{forEach:forEach})},{"../internals/array-for-each":77,"../internals/export":101}],161:[function(require,module,exports){"use strict";var $=require("../internals/export"),$includes=require("../internals/array-includes").includes,addToUnscopables=require("../internals/add-to-unscopables");$({target:"Array",proto:!0,forced:!require("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function includes(el){return $includes(this,el,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables("includes")},{"../internals/add-to-unscopables":75,"../internals/array-includes":78,"../internals/array-method-uses-to-length":82,"../internals/export":101}],162:[function(require,module,exports){"use strict";var $=require("../internals/export"),$indexOf=require("../internals/array-includes").indexOf,arrayMethodIsStrict=require("../internals/array-method-is-strict"),arrayMethodUsesToLength=require("../internals/array-method-uses-to-length"),nativeIndexOf=[].indexOf,NEGATIVE_ZERO=!!nativeIndexOf&&1/[1].indexOf(1,-0)<0,STRICT_METHOD=arrayMethodIsStrict("indexOf"),USES_TO_LENGTH=arrayMethodUsesToLength("indexOf",{ACCESSORS:!0,1:0});$({target:"Array",proto:!0,forced:NEGATIVE_ZERO||!STRICT_METHOD||!USES_TO_LENGTH},{indexOf:function indexOf(searchElement){return NEGATIVE_ZERO?nativeIndexOf.apply(this,arguments)||0:$indexOf(this,searchElement,arguments.length>1?arguments[1]:void 0)}})},{"../internals/array-includes":78,"../internals/array-method-is-strict":81,"../internals/array-method-uses-to-length":82,"../internals/export":101}],163:[function(require,module,exports){require("../internals/export")({target:"Array",stat:!0},{isArray:require("../internals/is-array")})},{"../internals/export":101,"../internals/is-array":115}],164:[function(require,module,exports){"use strict";var toIndexedObject=require("../internals/to-indexed-object"),addToUnscopables=require("../internals/add-to-unscopables"),Iterators=require("../internals/iterators"),InternalStateModule=require("../internals/internal-state"),defineIterator=require("../internals/define-iterator"),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("Array Iterator");module.exports=defineIterator(Array,"Array",(function(iterated,kind){setInternalState(this,{type:"Array Iterator",target:toIndexedObject(iterated),index:0,kind:kind})}),(function(){var state=getInternalState(this),target=state.target,kind=state.kind,index=state.index++;return!target||index>=target.length?(state.target=void 0,{value:void 0,done:!0}):"keys"==kind?{value:index,done:!1}:"values"==kind?{value:target[index],done:!1}:{value:[index,target[index]],done:!1}}),"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},{"../internals/add-to-unscopables":75,"../internals/define-iterator":93,"../internals/internal-state":114,"../internals/iterators":122,"../internals/to-indexed-object":149}],165:[function(require,module,exports){"use strict";var $=require("../internals/export"),$map=require("../internals/array-iteration").map,arrayMethodHasSpeciesSupport=require("../internals/array-method-has-species-support"),arrayMethodUsesToLength=require("../internals/array-method-uses-to-length"),HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("map"),USES_TO_LENGTH=arrayMethodUsesToLength("map");$({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT||!USES_TO_LENGTH},{map:function map(callbackfn){return $map(this,callbackfn,arguments.length>1?arguments[1]:void 0)}})},{"../internals/array-iteration":79,"../internals/array-method-has-species-support":80,"../internals/array-method-uses-to-length":82,"../internals/export":101}],166:[function(require,module,exports){"use strict";var $=require("../internals/export"),$reduce=require("../internals/array-reduce").left,arrayMethodIsStrict=require("../internals/array-method-is-strict"),arrayMethodUsesToLength=require("../internals/array-method-uses-to-length"),STRICT_METHOD=arrayMethodIsStrict("reduce"),USES_TO_LENGTH=arrayMethodUsesToLength("reduce",{1:0});$({target:"Array",proto:!0,forced:!STRICT_METHOD||!USES_TO_LENGTH},{reduce:function reduce(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments.length>1?arguments[1]:void 0)}})},{"../internals/array-method-is-strict":81,"../internals/array-method-uses-to-length":82,"../internals/array-reduce":83,"../internals/export":101}],167:[function(require,module,exports){"use strict";var $=require("../internals/export"),isObject=require("../internals/is-object"),isArray=require("../internals/is-array"),toAbsoluteIndex=require("../internals/to-absolute-index"),toLength=require("../internals/to-length"),toIndexedObject=require("../internals/to-indexed-object"),createProperty=require("../internals/create-property"),wellKnownSymbol=require("../internals/well-known-symbol"),arrayMethodHasSpeciesSupport=require("../internals/array-method-has-species-support"),arrayMethodUsesToLength=require("../internals/array-method-uses-to-length"),HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("slice"),USES_TO_LENGTH=arrayMethodUsesToLength("slice",{ACCESSORS:!0,0:0,1:2}),SPECIES=wellKnownSymbol("species"),nativeSlice=[].slice,max=Math.max;$({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT||!USES_TO_LENGTH},{slice:function slice(start,end){var Constructor,result,n,O=toIndexedObject(this),length=toLength(O.length),k=toAbsoluteIndex(start,length),fin=toAbsoluteIndex(void 0===end?length:end,length);if(isArray(O)&&("function"!=typeof(Constructor=O.constructor)||Constructor!==Array&&!isArray(Constructor.prototype)?isObject(Constructor)&&null===(Constructor=Constructor[SPECIES])&&(Constructor=void 0):Constructor=void 0,Constructor===Array||void 0===Constructor))return nativeSlice.call(O,k,fin);for(result=new(void 0===Constructor?Array:Constructor)(max(fin-k,0)),n=0;k<fin;k++,n++)k in O&&createProperty(result,n,O[k]);return result.length=n,result}})},{"../internals/array-method-has-species-support":80,"../internals/array-method-uses-to-length":82,"../internals/create-property":92,"../internals/export":101,"../internals/is-array":115,"../internals/is-object":118,"../internals/to-absolute-index":148,"../internals/to-indexed-object":149,"../internals/to-length":151,"../internals/well-known-symbol":157}],168:[function(require,module,exports){"use strict";var $=require("../internals/export"),aFunction=require("../internals/a-function"),toObject=require("../internals/to-object"),fails=require("../internals/fails"),arrayMethodIsStrict=require("../internals/array-method-is-strict"),test=[],nativeSort=test.sort,FAILS_ON_UNDEFINED=fails((function(){test.sort(void 0)})),FAILS_ON_NULL=fails((function(){test.sort(null)})),STRICT_METHOD=arrayMethodIsStrict("sort");$({target:"Array",proto:!0,forced:FAILS_ON_UNDEFINED||!FAILS_ON_NULL||!STRICT_METHOD},{sort:function sort(comparefn){return void 0===comparefn?nativeSort.call(toObject(this)):nativeSort.call(toObject(this),aFunction(comparefn))}})},{"../internals/a-function":73,"../internals/array-method-is-strict":81,"../internals/export":101,"../internals/fails":102,"../internals/to-object":152}],169:[function(require,module,exports){require("../internals/export")({target:"Object",stat:!0,sham:!require("../internals/descriptors")},{create:require("../internals/object-create")})},{"../internals/descriptors":94,"../internals/export":101,"../internals/object-create":127}],170:[function(require,module,exports){var $=require("../internals/export"),DESCRIPTORS=require("../internals/descriptors");$({target:"Object",stat:!0,forced:!DESCRIPTORS,sham:!DESCRIPTORS},{defineProperty:require("../internals/object-define-property").f})},{"../internals/descriptors":94,"../internals/export":101,"../internals/object-define-property":129}],171:[function(require,module,exports){var $=require("../internals/export"),parseIntImplementation=require("../internals/number-parse-int");$({global:!0,forced:parseInt!=parseIntImplementation},{parseInt:parseIntImplementation})},{"../internals/export":101,"../internals/number-parse-int":126}],172:[function(require,module,exports){},{}],173:[function(require,module,exports){"use strict";var $=require("../internals/export"),notARegExp=require("../internals/not-a-regexp"),requireObjectCoercible=require("../internals/require-object-coercible");$({target:"String",proto:!0,forced:!require("../internals/correct-is-regexp-logic")("includes")},{includes:function includes(searchString){return!!~String(requireObjectCoercible(this)).indexOf(notARegExp(searchString),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":87,"../internals/export":101,"../internals/not-a-regexp":125,"../internals/require-object-coercible":140}],174:[function(require,module,exports){"use strict";var charAt=require("../internals/string-multibyte").charAt,InternalStateModule=require("../internals/internal-state"),defineIterator=require("../internals/define-iterator"),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("String Iterator");defineIterator(String,"String",(function(iterated){setInternalState(this,{type:"String Iterator",string:String(iterated),index:0})}),(function next(){var point,state=getInternalState(this),string=state.string,index=state.index;return index>=string.length?{value:void 0,done:!0}:(point=charAt(string,index),state.index+=point.length,{value:point,done:!1})}))},{"../internals/define-iterator":93,"../internals/internal-state":114,"../internals/string-multibyte":146}],175:[function(require,module,exports){require("./es.array.iterator");var DOMIterables=require("../internals/dom-iterables"),global=require("../internals/global"),classof=require("../internals/classof"),createNonEnumerableProperty=require("../internals/create-non-enumerable-property"),Iterators=require("../internals/iterators"),TO_STRING_TAG=require("../internals/well-known-symbol")("toStringTag");for(var COLLECTION_NAME in DOMIterables){var Collection=global[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;CollectionPrototype&&classof(CollectionPrototype)!==TO_STRING_TAG&&createNonEnumerableProperty(CollectionPrototype,TO_STRING_TAG,COLLECTION_NAME),Iterators[COLLECTION_NAME]=Iterators.Array}},{"../internals/classof":86,"../internals/create-non-enumerable-property":90,"../internals/dom-iterables":96,"../internals/global":107,"../internals/iterators":122,"../internals/well-known-symbol":157,"./es.array.iterator":164}],176:[function(require,module,exports){var parent=require("../../../es/array/virtual/for-each");module.exports=parent},{"../../../es/array/virtual/for-each":50}],177:[function(require,module,exports){var parent=require("../../es/instance/concat");module.exports=parent},{"../../es/instance/concat":57}],178:[function(require,module,exports){var parent=require("../../es/instance/flags");module.exports=parent},{"../../es/instance/flags":58}],179:[function(require,module,exports){require("../../modules/web.dom-collections.iterator");var forEach=require("../array/virtual/for-each"),classof=require("../../internals/classof"),ArrayPrototype=Array.prototype,DOMIterables={DOMTokenList:!0,NodeList:!0};module.exports=function(it){var own=it.forEach;return it===ArrayPrototype||it instanceof Array&&own===ArrayPrototype.forEach||DOMIterables.hasOwnProperty(classof(it))?forEach:own}},{"../../internals/classof":86,"../../modules/web.dom-collections.iterator":175,"../array/virtual/for-each":176}],180:[function(require,module,exports){var parent=require("../../es/instance/includes");module.exports=parent},{"../../es/instance/includes":59}],181:[function(require,module,exports){var parent=require("../../es/instance/index-of");module.exports=parent},{"../../es/instance/index-of":60}],182:[function(require,module,exports){var parent=require("../../es/instance/map");module.exports=parent},{"../../es/instance/map":61}],183:[function(require,module,exports){var parent=require("../../es/instance/reduce");module.exports=parent},{"../../es/instance/reduce":62}],184:[function(require,module,exports){var parent=require("../../es/instance/slice");module.exports=parent},{"../../es/instance/slice":63}],185:[function(require,module,exports){var parent=require("../../es/instance/sort");module.exports=parent},{"../../es/instance/sort":64}],186:[function(require,module,exports){var parent=require("../../es/object/create");module.exports=parent},{"../../es/object/create":65}],187:[function(require,module,exports){var parent=require("../../es/object/define-property");module.exports=parent},{"../../es/object/define-property":66}],188:[function(require,module,exports){var parent=require("../es/parse-int");module.exports=parent},{"../es/parse-int":67}],189:[function(require,module,exports){(function(process){(function(){exports.log=function log(...args){return"object"==typeof console&&console.log&&console.log(...args)},exports.formatArgs=function formatArgs(args){if(args[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+args[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;args.splice(1,0,c,"color: inherit");let index=0,lastC=0;args[0].replace(/%[a-zA-Z%]/g,(match=>{"%%"!==match&&(index++,"%c"===match&&(lastC=index))})),args.splice(lastC,0,c)},exports.save=function save(namespaces){try{namespaces?exports.storage.setItem("debug",namespaces):exports.storage.removeItem("debug")}catch(error){}},exports.load=function load(){let r;try{r=exports.storage.getItem("debug")}catch(error){}!r&&void 0!==process&&"env"in process&&(r=process.env.DEBUG);return r},exports.useColors=function useColors(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},exports.storage=function localstorage(){try{return localStorage}catch(error){}}(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],module.exports=require("./common")(exports);const{formatters:formatters}=module.exports;formatters.j=function(v){try{return JSON.stringify(v)}catch(error){return"[UnexpectedJSONParseError]: "+error.message}}}).call(this)}).call(this,require("_process"))},{"./common":190,_process:203}],190:[function(require,module,exports){module.exports=function setup(env){function selectColor(namespace){let hash=0;for(let i=0;i<namespace.length;i++)hash=(hash<<5)-hash+namespace.charCodeAt(i),hash|=0;return createDebug.colors[Math.abs(hash)%createDebug.colors.length]}function createDebug(namespace){let prevTime;function debug(...args){if(!debug.enabled)return;const self=debug,curr=Number(new Date),ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr,args[0]=createDebug.coerce(args[0]),"string"!=typeof args[0]&&args.unshift("%O");let index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,((match,format)=>{if("%%"===match)return match;index++;const formatter=createDebug.formatters[format];if("function"==typeof formatter){const val=args[index];match=formatter.call(self,val),args.splice(index,1),index--}return match})),createDebug.formatArgs.call(self,args);(self.log||createDebug.log).apply(self,args)}return debug.namespace=namespace,debug.enabled=createDebug.enabled(namespace),debug.useColors=createDebug.useColors(),debug.color=selectColor(namespace),debug.destroy=destroy,debug.extend=extend,"function"==typeof createDebug.init&&createDebug.init(debug),createDebug.instances.push(debug),debug}function destroy(){const index=createDebug.instances.indexOf(this);return-1!==index&&(createDebug.instances.splice(index,1),!0)}function extend(namespace,delimiter){const newDebug=createDebug(this.namespace+(void 0===delimiter?":":delimiter)+namespace);return newDebug.log=this.log,newDebug}function toNamespace(regexp){return regexp.toString().substring(2,regexp.toString().length-2).replace(/\.\*\?$/,"*")}return createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=function coerce(val){if(val instanceof Error)return val.stack||val.message;return val},createDebug.disable=function disable(){const namespaces=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map((namespace=>"-"+namespace))].join(",");return createDebug.enable(""),namespaces},createDebug.enable=function enable(namespaces){let i;createDebug.save(namespaces),createDebug.names=[],createDebug.skips=[];const split=("string"==typeof namespaces?namespaces:"").split(/[\s,]+/),len=split.length;for(i=0;i<len;i++)split[i]&&("-"===(namespaces=split[i].replace(/\*/g,".*?"))[0]?createDebug.skips.push(new RegExp("^"+namespaces.substr(1)+"$")):createDebug.names.push(new RegExp("^"+namespaces+"$")));for(i=0;i<createDebug.instances.length;i++){const instance=createDebug.instances[i];instance.enabled=createDebug.enabled(instance.namespace)}},createDebug.enabled=function enabled(name){if("*"===name[name.length-1])return!0;let i,len;for(i=0,len=createDebug.skips.length;i<len;i++)if(createDebug.skips[i].test(name))return!1;for(i=0,len=createDebug.names.length;i<len;i++)if(createDebug.names[i].test(name))return!0;return!1},createDebug.humanize=require("ms"),Object.keys(env).forEach((key=>{createDebug[key]=env[key]})),createDebug.instances=[],createDebug.names=[],createDebug.skips=[],createDebug.formatters={},createDebug.selectColor=selectColor,createDebug.enable(createDebug.load()),createDebug}},{ms:202}],191:[function(require,module,exports){"use strict";var ReflectOwnKeys,R="object"==typeof Reflect?Reflect:null,ReflectApply=R&&"function"==typeof R.apply?R.apply:function ReflectApply(target,receiver,args){return Function.prototype.apply.call(target,receiver,args)};ReflectOwnKeys=R&&"function"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function ReflectOwnKeys(target){return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))}:function ReflectOwnKeys(target){return Object.getOwnPropertyNames(target)};var NumberIsNaN=Number.isNaN||function NumberIsNaN(value){return value!=value};function EventEmitter(){EventEmitter.init.call(this)}module.exports=EventEmitter,module.exports.once=function once(emitter,name){return new Promise((function(resolve,reject){function eventListener(){void 0!==errorListener&&emitter.removeListener("error",errorListener),resolve([].slice.call(arguments))}var errorListener;"error"!==name&&(errorListener=function errorListener(err){emitter.removeListener(name,eventListener),reject(err)},emitter.once("error",errorListener)),emitter.once(name,eventListener)}))},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(listener){if("function"!=typeof listener)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof listener)}function _getMaxListeners(that){return void 0===that._maxListeners?EventEmitter.defaultMaxListeners:that._maxListeners}function _addListener(target,type,listener,prepend){var m,events,existing;if(checkListener(listener),void 0===(events=target._events)?(events=target._events=Object.create(null),target._eventsCount=0):(void 0!==events.newListener&&(target.emit("newListener",type,listener.listener?listener.listener:listener),events=target._events),existing=events[type]),void 0===existing)existing=events[type]=listener,++target._eventsCount;else if("function"==typeof existing?existing=events[type]=prepend?[listener,existing]:[existing,listener]:prepend?existing.unshift(listener):existing.push(listener),(m=_getMaxListeners(target))>0&&existing.length>m&&!existing.warned){existing.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+existing.length+" "+String(type)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=target,w.type=type,w.count=existing.length,function ProcessEmitWarning(warning){console&&console.warn&&console.warn(warning)}(w)}return target}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(target,type,listener){var state={fired:!1,wrapFn:void 0,target:target,type:type,listener:listener},wrapped=onceWrapper.bind(state);return wrapped.listener=listener,state.wrapFn=wrapped,wrapped}function _listeners(target,type,unwrap){var events=target._events;if(void 0===events)return[];var evlistener=events[type];return void 0===evlistener?[]:"function"==typeof evlistener?unwrap?[evlistener.listener||evlistener]:[evlistener]:unwrap?function unwrapListeners(arr){for(var ret=new Array(arr.length),i=0;i<ret.length;++i)ret[i]=arr[i].listener||arr[i];return ret}(evlistener):arrayClone(evlistener,evlistener.length)}function listenerCount(type){var events=this._events;if(void 0!==events){var evlistener=events[type];if("function"==typeof evlistener)return 1;if(void 0!==evlistener)return evlistener.length}return 0}function arrayClone(arr,n){for(var copy=new Array(n),i=0;i<n;++i)copy[i]=arr[i];return copy}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(arg){if("number"!=typeof arg||arg<0||NumberIsNaN(arg))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+arg+".");defaultMaxListeners=arg}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function setMaxListeners(n){if("number"!=typeof n||n<0||NumberIsNaN(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function emit(type){for(var args=[],i=1;i<arguments.length;i++)args.push(arguments[i]);var doError="error"===type,events=this._events;if(void 0!==events)doError=doError&&void 0===events.error;else if(!doError)return!1;if(doError){var er;if(args.length>0&&(er=args[0]),er instanceof Error)throw er;var err=new Error("Unhandled error."+(er?" ("+er.message+")":""));throw err.context=er,err}var handler=events[type];if(void 0===handler)return!1;if("function"==typeof handler)ReflectApply(handler,this,args);else{var len=handler.length,listeners=arrayClone(handler,len);for(i=0;i<len;++i)ReflectApply(listeners[i],this,args)}return!0},EventEmitter.prototype.addListener=function addListener(type,listener){return _addListener(this,type,listener,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(type,listener){return _addListener(this,type,listener,!0)},EventEmitter.prototype.once=function once(type,listener){return checkListener(listener),this.on(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(type,listener){return checkListener(listener),this.prependListener(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.removeListener=function removeListener(type,listener){var list,events,position,i,originalListener;if(checkListener(listener),void 0===(events=this._events))return this;if(void 0===(list=events[type]))return this;if(list===listener||list.listener===listener)0==--this._eventsCount?this._events=Object.create(null):(delete events[type],events.removeListener&&this.emit("removeListener",type,list.listener||listener));else if("function"!=typeof list){for(position=-1,i=list.length-1;i>=0;i--)if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener,position=i;break}if(position<0)return this;0===position?list.shift():function spliceOne(list,index){for(;index+1<list.length;index++)list[index]=list[index+1];list.pop()}(list,position),1===list.length&&(events[type]=list[0]),void 0!==events.removeListener&&this.emit("removeListener",type,originalListener||listener)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function removeAllListeners(type){var listeners,events,i;if(void 0===(events=this._events))return this;if(void 0===events.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==events[type]&&(0==--this._eventsCount?this._events=Object.create(null):delete events[type]),this;if(0===arguments.length){var key,keys=Object.keys(events);for(i=0;i<keys.length;++i)"removeListener"!==(key=keys[i])&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(listeners=events[type]))this.removeListener(type,listeners);else if(void 0!==listeners)for(i=listeners.length-1;i>=0;i--)this.removeListener(type,listeners[i]);return this},EventEmitter.prototype.listeners=function listeners(type){return _listeners(this,type,!0)},EventEmitter.prototype.rawListeners=function rawListeners(type){return _listeners(this,type,!1)},EventEmitter.listenerCount=function(emitter,type){return"function"==typeof emitter.listenerCount?emitter.listenerCount(type):listenerCount.call(emitter,type)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]}},{}],192:[function(require,module,exports){const Evaluator=require("./evaluator/Evaluator"),Lexer=require("./Lexer"),Parser=require("./parser/Parser"),PromiseSync=require("./PromiseSync");module.exports=class Expression{constructor(lang,exprStr){this._lang=lang,this._lexer=new Lexer(lang.grammar),this._exprStr=exprStr,this._ast=null}compile(){const lexer=new Lexer(this._lang.grammar),parser=new Parser(this._lang.grammar),tokens=lexer.tokenize(this._exprStr);return parser.addTokens(tokens),this._ast=parser.complete(),this}eval(context={}){return this._eval(context,Promise)}evalSync(context={}){const res=this._eval(context,PromiseSync);if(res.error)throw res.error;return res.value}_eval(context,promise){return promise.resolve().then((()=>{const ast=this._getAst();return new Evaluator(this._lang.grammar,this._lang.transforms,context,void 0,promise).eval(ast)}))}_getAst(){return this._ast||this.compile(),this._ast}}},{"./Lexer":194,"./PromiseSync":195,"./evaluator/Evaluator":196,"./parser/Parser":199}],193:[function(require,module,exports){const Expression=require("./Expression"),defaultGrammar=require("./grammar").elements;class Jexl{constructor(){this.expr=this.expr.bind(this),this._grammar=Object.assign({},defaultGrammar),this._lexer=null,this._transforms={}}addBinaryOp(operator,precedence,fn){this._addGrammarElement(operator,{type:"binaryOp",precedence:precedence,eval:fn})}addUnaryOp(operator,fn){this._addGrammarElement(operator,{type:"unaryOp",weight:1/0,eval:fn})}addTransform(name,fn){this._transforms[name]=fn}addTransforms(map){for(let key in map)map.hasOwnProperty(key)&&(this._transforms[key]=map[key])}compile(expression){return this.createExpression(expression).compile()}createExpression(expression){const lang=this._getLang();return new Expression(lang,expression)}getTransform(name){return this._transforms[name]}eval(expression,context={}){return this.createExpression(expression).eval(context)}evalSync(expression,context={}){return this.createExpression(expression).evalSync(context)}expr(strs,...args){const exprStr=strs.reduce(((acc,str,idx)=>acc+=str+(idx<args.length?args[idx]:"")),"");return this.createExpression(exprStr)}removeOp(operator){!this._grammar[operator]||"binaryOp"!==this._grammar[operator].type&&"unaryOp"!==this._grammar[operator].type||delete this._grammar[operator]}_addGrammarElement(str,obj){this._grammar[str]=obj}_getLang(){return{grammar:this._grammar,transforms:this._transforms}}}module.exports=new Jexl,module.exports.Jexl=Jexl},{"./Expression":192,"./grammar":198}],194:[function(require,module,exports){const numericRegex=/^-?(?:(?:[0-9]*\.[0-9]+)|[0-9]+)$/,identRegex=/^[a-zA-Z_$][a-zA-Z0-9_$]*$/,escEscRegex=/\\\\/,whitespaceRegex=/^\s*$/,preOpRegexElems=["'(?:(?:\\\\')|[^'])*'",'"(?:(?:\\\\")|[^"])*"',"\\s+","\\btrue\\b","\\bfalse\\b"],postOpRegexElems=["[a-zA-Z_\\$][a-zA-Z0-9_\\$]*","(?:(?:[0-9]*\\.[0-9]+)|[0-9]+)"],minusNegatesAfter=["binaryOp","unaryOp","openParen","openBracket","question","colon"];module.exports=class Lexer{constructor(grammar){this._grammar=grammar}getElements(str){const regex=this._getSplitRegex();return str.split(regex).filter((elem=>elem))}getTokens(elements){const tokens=[];let negate=!1;for(let i=0;i<elements.length;i++)this._isWhitespace(elements[i])?tokens.length&&(tokens[tokens.length-1].raw+=elements[i]):"-"===elements[i]&&this._isNegative(tokens)?negate=!0:(negate&&(elements[i]="-"+elements[i],negate=!1),tokens.push(this._createToken(elements[i])));return negate&&tokens.push(this._createToken("-")),tokens}tokenize(str){const elements=this.getElements(str);return this.getTokens(elements)}_createToken(element){const token={type:"literal",value:element,raw:element};if('"'===element[0]||"'"===element[0])token.value=this._unquote(element);else if(element.match(numericRegex))token.value=parseFloat(element);else if("true"===element||"false"===element)token.value="true"===element;else if(this._grammar[element])token.type=this._grammar[element].type;else{if(!element.match(identRegex))throw new Error(`Invalid expression token: ${element}`);token.type="identifier"}return token}_escapeRegExp(str){return(str=str.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).match(identRegex)&&(str="\\b"+str+"\\b"),str}_getSplitRegex(){if(!this._splitRegex){const elemArray=Object.keys(this._grammar).sort(((a,b)=>b.length-a.length)).map((elem=>this._escapeRegExp(elem)),this);this._splitRegex=new RegExp("("+[preOpRegexElems.join("|"),elemArray.join("|"),postOpRegexElems.join("|")].join("|")+")")}return this._splitRegex}_isNegative(tokens){return!tokens.length||minusNegatesAfter.some((type=>type===tokens[tokens.length-1].type))}_isWhitespace(str){return!!str.match(whitespaceRegex)}_unquote(str){const quote=str[0],escQuoteRegex=new RegExp("\\\\"+quote,"g");return str.substr(1,str.length-2).replace(escQuoteRegex,quote).replace(escEscRegex,"\\")}}},{}],195:[function(require,module,exports){class PromiseSync{constructor(fn){fn(this._resolve.bind(this),this._reject.bind(this))}catch(rejected){if(this.error)try{this._resolve(rejected(this.error))}catch(e){this._reject(e)}return this}then(resolved,rejected){if(!this.error)try{this._resolve(resolved(this.value))}catch(e){this._reject(e)}return rejected&&this.catch(rejected),this}_reject(error){this.value=void 0,this.error=error}_resolve(val){val instanceof PromiseSync?val.error?this._reject(val.error):this._resolve(val.value):(this.value=val,this.error=void 0)}}PromiseSync.all=vals=>new PromiseSync((resolve=>{resolve(vals.map((val=>{for(;val instanceof PromiseSync;){if(val.error)throw Error(val.error);val=val.value}return val})))})),PromiseSync.resolve=val=>new PromiseSync((resolve=>resolve(val))),PromiseSync.reject=error=>new PromiseSync(((resolve,reject)=>reject(error))),module.exports=PromiseSync},{}],196:[function(require,module,exports){const handlers=require("./handlers");class Evaluator{constructor(grammar,transforms,context,relativeContext,promise=Promise){this._grammar=grammar,this._transforms=transforms||{},this._context=context||{},this._relContext=relativeContext||this._context,this.Promise=promise}eval(ast){return this.Promise.resolve().then((()=>handlers[ast.type].call(this,ast)))}evalArray(arr){return this.Promise.all(arr.map((elem=>this.eval(elem))))}evalMap(map){const keys=Object.keys(map),result={},asts=keys.map((key=>this.eval(map[key])));return this.Promise.all(asts).then((vals=>(vals.forEach(((val,idx)=>{result[keys[idx]]=val})),result)))}_filterRelative(subject,expr){const promises=[];return Array.isArray(subject)||(subject=void 0===subject?[]:[subject]),subject.forEach((elem=>{const evalInst=new Evaluator(this._grammar,this._transforms,this._context,elem,this.Promise);promises.push(evalInst.eval(expr))})),this.Promise.all(promises).then((values=>{const results=[];return values.forEach(((value,idx)=>{value&&results.push(subject[idx])})),results}))}_filterStatic(subject,expr){return this.eval(expr).then((res=>"boolean"==typeof res?res?subject:void 0:subject[res]))}}module.exports=Evaluator},{"./handlers":197}],197:[function(require,module,exports){exports.ArrayLiteral=function(ast){return this.evalArray(ast.value)},exports.BinaryExpression=function(ast){return this.Promise.all([this.eval(ast.left),this.eval(ast.right)]).then((arr=>this._grammar[ast.operator].eval(arr[0],arr[1])))},exports.ConditionalExpression=function(ast){return this.eval(ast.test).then((res=>res?ast.consequent?this.eval(ast.consequent):res:this.eval(ast.alternate)))},exports.FilterExpression=function(ast){return this.eval(ast.subject).then((subject=>ast.relative?this._filterRelative(subject,ast.expr):this._filterStatic(subject,ast.expr)))},exports.Identifier=function(ast){return ast.from?this.eval(ast.from).then((context=>{if(null!=context)return Array.isArray(context)&&(context=context[0]),context[ast.value]})):ast.relative?this._relContext[ast.value]:this._context[ast.value]},exports.Literal=function(ast){return ast.value},exports.ObjectLiteral=function(ast){return this.evalMap(ast.value)},exports.Transform=function(ast){const transform=this._transforms[ast.name];if(!transform)throw new Error(`Transform ${ast.name} is not defined.`);return this.Promise.all([this.eval(ast.subject),this.evalArray(ast.args||[])]).then((arr=>transform.apply(null,[arr[0]].concat(arr[1]))))},exports.UnaryExpression=function(ast){return this.eval(ast.right).then((right=>this._grammar[ast.operator].eval(right)))}},{}],198:[function(require,module,exports){exports.elements={".":{type:"dot"},"[":{type:"openBracket"},"]":{type:"closeBracket"},"|":{type:"pipe"},"{":{type:"openCurl"},"}":{type:"closeCurl"},":":{type:"colon"},",":{type:"comma"},"(":{type:"openParen"},")":{type:"closeParen"},"?":{type:"question"},"+":{type:"binaryOp",precedence:30,eval:(left,right)=>left+right},"-":{type:"binaryOp",precedence:30,eval:(left,right)=>left-right},"*":{type:"binaryOp",precedence:40,eval:(left,right)=>left*right},"/":{type:"binaryOp",precedence:40,eval:(left,right)=>left/right},"//":{type:"binaryOp",precedence:40,eval:(left,right)=>Math.floor(left/right)},"%":{type:"binaryOp",precedence:50,eval:(left,right)=>left%right},"^":{type:"binaryOp",precedence:50,eval:(left,right)=>Math.pow(left,right)},"==":{type:"binaryOp",precedence:20,eval:(left,right)=>left==right},"!=":{type:"binaryOp",precedence:20,eval:(left,right)=>left!=right},">":{type:"binaryOp",precedence:20,eval:(left,right)=>left>right},">=":{type:"binaryOp",precedence:20,eval:(left,right)=>left>=right},"<":{type:"binaryOp",precedence:20,eval:(left,right)=>left<right},"<=":{type:"binaryOp",precedence:20,eval:(left,right)=>left<=right},"&&":{type:"binaryOp",precedence:10,eval:(left,right)=>left&&right},"||":{type:"binaryOp",precedence:10,eval:(left,right)=>left||right},in:{type:"binaryOp",precedence:20,eval:(left,right)=>"string"==typeof right?-1!==right.indexOf(left):!!Array.isArray(right)&&right.some((elem=>elem===left))},"!":{type:"unaryOp",precedence:1/0,eval:right=>!right}}},{}],199:[function(require,module,exports){const handlers=require("./handlers"),states=require("./states").states;class Parser{constructor(grammar,prefix,stopMap){this._grammar=grammar,this._state="expectOperand",this._tree=null,this._exprStr=prefix||"",this._relative=!1,this._stopMap=stopMap||{}}addToken(token){if("complete"===this._state)throw new Error("Cannot add a new token to a completed Parser");const state=states[this._state],startExpr=this._exprStr;if(this._exprStr+=token.raw,state.subHandler){this._subParser||this._startSubExpression(startExpr);const stopState=this._subParser.addToken(token);if(stopState){if(this._endSubExpression(),this._parentStop)return stopState;this._state=stopState}}else{if(!state.tokenTypes[token.type]){if(this._stopMap[token.type])return this._stopMap[token.type];throw new Error(`Token ${token.raw} (${token.type}) unexpected in expression: ${this._exprStr}`)}{const typeOpts=state.tokenTypes[token.type];let handleFunc=handlers[token.type];typeOpts.handler&&(handleFunc=typeOpts.handler),handleFunc&&handleFunc.call(this,token),typeOpts.toState&&(this._state=typeOpts.toState)}}return!1}addTokens(tokens){tokens.forEach(this.addToken,this)}complete(){if(this._cursor&&!states[this._state].completable)throw new Error(`Unexpected end of expression: ${this._exprStr}`);return this._subParser&&this._endSubExpression(),this._state="complete",this._cursor?this._tree:null}isRelative(){return this._relative}_endSubExpression(){states[this._state].subHandler.call(this,this._subParser.complete()),this._subParser=null}_placeAtCursor(node){this._cursor?(this._cursor.right=node,this._setParent(node,this._cursor)):this._tree=node,this._cursor=node}_placeBeforeCursor(node){this._cursor=this._cursor._parent,this._placeAtCursor(node)}_setParent(node,parent){Object.defineProperty(node,"_parent",{value:parent,writable:!0})}_startSubExpression(exprStr){let endStates=states[this._state].endStates;endStates||(this._parentStop=!0,endStates=this._stopMap),this._subParser=new Parser(this._grammar,exprStr,endStates)}}module.exports=Parser},{"./handlers":200,"./states":201}],200:[function(require,module,exports){exports.argVal=function(ast){this._cursor.args.push(ast)},exports.arrayStart=function(){this._placeAtCursor({type:"ArrayLiteral",value:[]})},exports.arrayVal=function(ast){ast&&this._cursor.value.push(ast)},exports.binaryOp=function(token){const precedence=this._grammar[token.value].precedence||0;let parent=this._cursor._parent;for(;parent&&parent.operator&&this._grammar[parent.operator].precedence>=precedence;)this._cursor=parent,parent=parent._parent;const node={type:"BinaryExpression",operator:token.value,left:this._cursor};this._setParent(this._cursor,node),this._cursor=parent,this._placeAtCursor(node)},exports.dot=function(){this._nextIdentEncapsulate=this._cursor&&"UnaryExpression"!==this._cursor.type&&("BinaryExpression"!==this._cursor.type||"BinaryExpression"===this._cursor.type&&this._cursor.right),this._nextIdentRelative=!this._cursor||this._cursor&&!this._nextIdentEncapsulate,this._nextIdentRelative&&(this._relative=!0)},exports.filter=function(ast){this._placeBeforeCursor({type:"FilterExpression",expr:ast,relative:this._subParser.isRelative(),subject:this._cursor})},exports.identifier=function(token){const node={type:"Identifier",value:token.value};this._nextIdentEncapsulate?(node.from=this._cursor,this._placeBeforeCursor(node),this._nextIdentEncapsulate=!1):(this._nextIdentRelative&&(node.relative=!0,this._nextIdentRelative=!1),this._placeAtCursor(node))},exports.literal=function(token){this._placeAtCursor({type:"Literal",value:token.value})},exports.objKey=function(token){this._curObjKey=token.value},exports.objStart=function(){this._placeAtCursor({type:"ObjectLiteral",value:{}})},exports.objVal=function(ast){this._cursor.value[this._curObjKey]=ast},exports.subExpression=function(ast){this._placeAtCursor(ast)},exports.ternaryEnd=function(ast){this._cursor.alternate=ast},exports.ternaryMid=function(ast){this._cursor.consequent=ast},exports.ternaryStart=function(){this._tree={type:"ConditionalExpression",test:this._tree},this._cursor=this._tree},exports.transform=function(token){this._placeBeforeCursor({type:"Transform",name:token.value,args:[],subject:this._cursor})},exports.unaryOp=function(token){this._placeAtCursor({type:"UnaryExpression",operator:token.value})}},{}],201:[function(require,module,exports){const h=require("./handlers");exports.states={expectOperand:{tokenTypes:{literal:{toState:"expectBinOp"},identifier:{toState:"identifier"},unaryOp:{},openParen:{toState:"subExpression"},openCurl:{toState:"expectObjKey",handler:h.objStart},dot:{toState:"traverse"},openBracket:{toState:"arrayVal",handler:h.arrayStart}}},expectBinOp:{tokenTypes:{binaryOp:{toState:"expectOperand"},pipe:{toState:"expectTransform"},dot:{toState:"traverse"},question:{toState:"ternaryMid",handler:h.ternaryStart}},completable:!0},expectTransform:{tokenTypes:{identifier:{toState:"postTransform",handler:h.transform}}},expectObjKey:{tokenTypes:{identifier:{toState:"expectKeyValSep",handler:h.objKey},closeCurl:{toState:"expectBinOp"}}},expectKeyValSep:{tokenTypes:{colon:{toState:"objVal"}}},postTransform:{tokenTypes:{openParen:{toState:"argVal"},binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},postTransformArgs:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},identifier:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"},question:{toState:"ternaryMid",handler:h.ternaryStart}},completable:!0},traverse:{tokenTypes:{identifier:{toState:"identifier"}}},filter:{subHandler:h.filter,endStates:{closeBracket:"identifier"}},subExpression:{subHandler:h.subExpression,endStates:{closeParen:"expectBinOp"}},argVal:{subHandler:h.argVal,endStates:{comma:"argVal",closeParen:"postTransformArgs"}},objVal:{subHandler:h.objVal,endStates:{comma:"expectObjKey",closeCurl:"expectBinOp"}},arrayVal:{subHandler:h.arrayVal,endStates:{comma:"arrayVal",closeBracket:"expectBinOp"}},ternaryMid:{subHandler:h.ternaryMid,endStates:{colon:"ternaryEnd"}},ternaryEnd:{subHandler:h.ternaryEnd,completable:!0}}},{"./handlers":200}],202:[function(require,module,exports){var s=1e3,m=60*s,h=60*m,d=24*h,w=7*d,y=365.25*d;function plural(ms,msAbs,n,name){var isPlural=msAbs>=1.5*n;return Math.round(ms/n)+" "+name+(isPlural?"s":"")}module.exports=function(val,options){options=options||{};var type=typeof val;if("string"===type&&val.length>0)return function parse(str){if((str=String(str)).length>100)return;var match=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);if(!match)return;var n=parseFloat(match[1]);switch((match[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*y;case"weeks":case"week":case"w":return n*w;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(val);if("number"===type&&!1===isNaN(val))return options.long?function fmtLong(ms){var msAbs=Math.abs(ms);if(msAbs>=d)return plural(ms,msAbs,d,"day");if(msAbs>=h)return plural(ms,msAbs,h,"hour");if(msAbs>=m)return plural(ms,msAbs,m,"minute");if(msAbs>=s)return plural(ms,msAbs,s,"second");return ms+" ms"}(val):function fmtShort(ms){var msAbs=Math.abs(ms);if(msAbs>=d)return Math.round(ms/d)+"d";if(msAbs>=h)return Math.round(ms/h)+"h";if(msAbs>=m)return Math.round(ms/m)+"m";if(msAbs>=s)return Math.round(ms/s)+"s";return ms+"ms"}(val);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))}},{}],203:[function(require,module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],204:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime-corejs3/helpers/interopRequireDefault");require("@babel/runtime-corejs3/core-js-stable/object/define-property")(exports,"__esModule",{value:!0}),exports.default=void 0;var _concat=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/concat")),_includes=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/includes")),_map=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/map")),_reduce=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/reduce"));exports.default=function _default(XRegExp){var subParts=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,parts=XRegExp.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,subParts],"g",{conjunction:"or"});function deanchor(pattern){var leadingAnchor=/^(?:\(\?:\))*\^/,trailingAnchor=/\$(?:\(\?:\))*$/;return leadingAnchor.test(pattern)&&trailingAnchor.test(pattern)&&trailingAnchor.test(pattern.replace(/\\[\s\S]/g,""))?pattern.replace(leadingAnchor,"").replace(trailingAnchor,""):pattern}function asXRegExp(value,addFlagX){var flags=addFlagX?"x":"";return XRegExp.isRegExp(value)?value.xregexp&&value.xregexp.captureNames?value:XRegExp(value.source,flags):XRegExp(value,flags)}function interpolate(substitution){return substitution instanceof RegExp?substitution:XRegExp.escape(substitution)}function reduceToSubpatternsObject(subpatterns,interpolated,subpatternIndex){return subpatterns["subpattern".concat(subpatternIndex)]=interpolated,subpatterns}function embedSubpatternAfter(raw,subpatternIndex,rawLiterals){return raw+(subpatternIndex<rawLiterals.length-1?"{{subpattern".concat(subpatternIndex,"}}"):"")}XRegExp.tag=function(flags){return function(literals){for(var _context,_context2,_len=arguments.length,substitutions=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)substitutions[_key-1]=arguments[_key];var subpatterns=(0,_reduce.default)(_context=(0,_map.default)(substitutions).call(substitutions,interpolate)).call(_context,reduceToSubpatternsObject,{}),pattern=(0,_map.default)(_context2=literals.raw).call(_context2,embedSubpatternAfter).join("");return XRegExp.build(pattern,subpatterns,flags)}},XRegExp.build=function(pattern,subs,flags){flags=flags||"";var addFlagX=(0,_includes.default)(flags).call(flags,"x"),inlineFlags=/^\(\?([\w$]+)\)/.exec(pattern);inlineFlags&&(flags=XRegExp._clipDuplicates(flags+inlineFlags[1]));var data={};for(var p in subs)if(subs.hasOwnProperty(p)){var sub=asXRegExp(subs[p],addFlagX);data[p]={pattern:deanchor(sub.source),names:sub.xregexp.captureNames||[]}}var numPriorCaps,patternAsRegex=asXRegExp(pattern,addFlagX),numCaps=0,numOuterCaps=0,outerCapsMap=[0],outerCapNames=patternAsRegex.xregexp.captureNames||[],output=patternAsRegex.source.replace(parts,(function($0,$1,$2,$3,$4){var capName,intro,localCapIndex,subName=$1||$2;if(subName){var _context3;if(!data.hasOwnProperty(subName))throw new ReferenceError("Undefined property ".concat($0));$1?(capName=outerCapNames[numOuterCaps],outerCapsMap[++numOuterCaps]=++numCaps,intro="(?<".concat(capName||subName,">")):intro="(?:",numPriorCaps=numCaps;var rewrittenSubpattern=data[subName].pattern.replace(subParts,(function(match,paren,backref){if(paren){if(capName=data[subName].names[numCaps-numPriorCaps],++numCaps,capName)return"(?<".concat(capName,">")}else if(backref)return localCapIndex=+backref-1,data[subName].names[localCapIndex]?"\\k<".concat(data[subName].names[localCapIndex],">"):"\\".concat(+backref+numPriorCaps);return match}));return(0,_concat.default)(_context3="".concat(intro)).call(_context3,rewrittenSubpattern,")")}if($3){if(capName=outerCapNames[numOuterCaps],outerCapsMap[++numOuterCaps]=++numCaps,capName)return"(?<".concat(capName,">")}else if($4)return outerCapNames[localCapIndex=+$4-1]?"\\k<".concat(outerCapNames[localCapIndex],">"):"\\".concat(outerCapsMap[+$4]);return $0}));return XRegExp(output,flags)}},module.exports=exports.default},{"@babel/runtime-corejs3/core-js-stable/instance/concat":1,"@babel/runtime-corejs3/core-js-stable/instance/includes":4,"@babel/runtime-corejs3/core-js-stable/instance/map":6,"@babel/runtime-corejs3/core-js-stable/instance/reduce":7,"@babel/runtime-corejs3/core-js-stable/object/define-property":11,"@babel/runtime-corejs3/helpers/interopRequireDefault":17}],205:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime-corejs3/helpers/interopRequireDefault");require("@babel/runtime-corejs3/core-js-stable/object/define-property")(exports,"__esModule",{value:!0}),exports.default=void 0;var _slice=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/slice")),_concat=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/concat")),_includes=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/includes"));exports.default=function _default(XRegExp){function row(name,value,start,end){return{name:name,value:value,start:start,end:end}}XRegExp.matchRecursive=function(str,left,right,flags,options){flags=flags||"",options=options||{};var outerStart,innerStart,leftMatch,rightMatch,esc,global=(0,_includes.default)(flags).call(flags,"g"),sticky=(0,_includes.default)(flags).call(flags,"y"),basicFlags=flags.replace(/y/g,""),escapeChar=options.escapeChar,vN=options.valueNames,output=[],openTokens=0,delimStart=0,delimEnd=0,lastOuterEnd=0;if(left=XRegExp(left,basicFlags),right=XRegExp(right,basicFlags),escapeChar){var _context,_context2;if(escapeChar.length>1)throw new Error("Cannot use more than one escape character");escapeChar=XRegExp.escape(escapeChar),esc=new RegExp((0,_concat.default)(_context=(0,_concat.default)(_context2="(?:".concat(escapeChar,"[\\S\\s]|(?:(?!")).call(_context2,XRegExp.union([left,right],"",{conjunction:"or"}).source,")[^")).call(_context,escapeChar,"])+)+"),flags.replace(/[^imu]+/g,""))}for(;;){if(escapeChar&&(delimEnd+=(XRegExp.exec(str,esc,delimEnd,"sticky")||[""])[0].length),leftMatch=XRegExp.exec(str,left,delimEnd),rightMatch=XRegExp.exec(str,right,delimEnd),leftMatch&&rightMatch&&(leftMatch.index<=rightMatch.index?rightMatch=null:leftMatch=null),leftMatch||rightMatch)delimEnd=(delimStart=(leftMatch||rightMatch).index)+(leftMatch||rightMatch)[0].length;else if(!openTokens)break;if(sticky&&!openTokens&&delimStart>lastOuterEnd)break;if(leftMatch)openTokens||(outerStart=delimStart,innerStart=delimEnd),++openTokens;else{if(!rightMatch||!openTokens)throw new Error("Unbalanced delimiter found in string");if(!--openTokens&&(vN?(vN[0]&&outerStart>lastOuterEnd&&output.push(row(vN[0],(0,_slice.default)(str).call(str,lastOuterEnd,outerStart),lastOuterEnd,outerStart)),vN[1]&&output.push(row(vN[1],(0,_slice.default)(str).call(str,outerStart,innerStart),outerStart,innerStart)),vN[2]&&output.push(row(vN[2],(0,_slice.default)(str).call(str,innerStart,delimStart),innerStart,delimStart)),vN[3]&&output.push(row(vN[3],(0,_slice.default)(str).call(str,delimStart,delimEnd),delimStart,delimEnd))):output.push((0,_slice.default)(str).call(str,innerStart,delimStart)),lastOuterEnd=delimEnd,!global))break}delimStart===delimEnd&&++delimEnd}return global&&!sticky&&vN&&vN[0]&&str.length>lastOuterEnd&&output.push(row(vN[0],(0,_slice.default)(str).call(str,lastOuterEnd),lastOuterEnd,str.length)),output}},module.exports=exports.default},{"@babel/runtime-corejs3/core-js-stable/instance/concat":1,"@babel/runtime-corejs3/core-js-stable/instance/includes":4,"@babel/runtime-corejs3/core-js-stable/instance/slice":8,"@babel/runtime-corejs3/core-js-stable/object/define-property":11,"@babel/runtime-corejs3/helpers/interopRequireDefault":17}],206:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime-corejs3/helpers/interopRequireDefault");require("@babel/runtime-corejs3/core-js-stable/object/define-property")(exports,"__esModule",{value:!0}),exports.default=void 0;var _getIterator2=_interopRequireDefault(require("@babel/runtime-corejs3/core-js/get-iterator")),_includes=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/includes")),_concat=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/concat")),_forEach=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/for-each"));exports.default=function _default(XRegExp){var unicode={},dec=XRegExp._dec,hex=XRegExp._hex,pad4=XRegExp._pad4;function normalize(name){return name.replace(/[- _]+/g,"").toLowerCase()}function charCode(chr){var esc=/^\\[xu](.+)/.exec(chr);return esc?dec(esc[1]):chr.charCodeAt("\\"===chr[0]?1:0)}function cacheInvertedBmp(slug){return unicode[slug]["b!"]||(unicode[slug]["b!"]=function invertBmp(range){var output="",lastEnd=-1;return(0,_forEach.default)(XRegExp).call(XRegExp,range,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,(function(m){var start=charCode(m[1]);start>lastEnd+1&&(output+="\\u".concat(pad4(hex(lastEnd+1))),start>lastEnd+2&&(output+="-\\u".concat(pad4(hex(start-1))))),lastEnd=charCode(m[2]||m[1])})),lastEnd<65535&&(output+="\\u".concat(pad4(hex(lastEnd+1))),lastEnd<65534&&(output+="-\\uFFFF")),output}(unicode[slug].bmp))}function cacheAstral(slug,isNegated){var prop=isNegated?"a!":"a=";return unicode[slug][prop]||(unicode[slug][prop]=function buildAstral(slug,isNegated){var _context,_context2,item=unicode[slug],combined="";return item.bmp&&!item.isBmpLast&&(combined=(0,_concat.default)(_context="[".concat(item.bmp,"]")).call(_context,item.astral?"|":"")),item.astral&&(combined+=item.astral),item.isBmpLast&&item.bmp&&(combined+=(0,_concat.default)(_context2="".concat(item.astral?"|":"","[")).call(_context2,item.bmp,"]")),isNegated?"(?:(?!".concat(combined,")(?:[\ud800-\udbff][\udc00-\udfff]|[\0-]))"):"(?:".concat(combined,")")}(slug,isNegated))}XRegExp.addToken(/\\([pP])(?:{(\^?)([^}]*)}|([A-Za-z]))/,(function(match,scope,flags){var isNegated="P"===match[1]||!!match[2],isAstralMode=(0,_includes.default)(flags).call(flags,"A"),slug=normalize(match[4]||match[3]),item=unicode[slug];if("P"===match[1]&&match[2])throw new SyntaxError("Invalid double negation "+match[0]);if(!unicode.hasOwnProperty(slug))throw new SyntaxError("Unknown Unicode token "+match[0]);if(item.inverseOf){var _context3;if(slug=normalize(item.inverseOf),!unicode.hasOwnProperty(slug))throw new ReferenceError((0,_concat.default)(_context3="".concat("Unicode token missing data "+match[0]," -> ")).call(_context3,item.inverseOf));item=unicode[slug],isNegated=!isNegated}if(!item.bmp&&!isAstralMode)throw new SyntaxError("Astral mode required for Unicode token "+match[0]);if(isAstralMode){if("class"===scope)throw new SyntaxError("Astral mode does not support Unicode tokens within character classes");return cacheAstral(slug,isNegated)}return"class"===scope?isNegated?cacheInvertedBmp(slug):item.bmp:"".concat((isNegated?"[^":"[")+item.bmp,"]")}),{scope:"all",optionalFlags:"A",leadChar:"\\"}),XRegExp.addUnicodeData=function(data){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=(0,_getIterator2.default)(data);!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var item=_step.value;if(!item.name)throw new Error("Unicode token requires name");if(!(item.inverseOf||item.bmp||item.astral))throw new Error("Unicode token has no character data "+item.name);unicode[normalize(item.name)]=item,item.alias&&(unicode[normalize(item.alias)]=item)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}XRegExp.cache.flush("patterns")},XRegExp._getUnicodeProperty=function(name){var slug=normalize(name);return unicode[slug]}},module.exports=exports.default},{"@babel/runtime-corejs3/core-js-stable/instance/concat":1,"@babel/runtime-corejs3/core-js-stable/instance/for-each":3,"@babel/runtime-corejs3/core-js-stable/instance/includes":4,"@babel/runtime-corejs3/core-js-stable/object/define-property":11,"@babel/runtime-corejs3/core-js/get-iterator":14,"@babel/runtime-corejs3/helpers/interopRequireDefault":17}],207:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime-corejs3/helpers/interopRequireDefault");require("@babel/runtime-corejs3/core-js-stable/object/define-property")(exports,"__esModule",{value:!0}),exports.default=void 0;var _blocks=_interopRequireDefault(require("../../tools/output/blocks"));
/*!
 * XRegExp Unicode Blocks 4.3.0
 * <xregexp.com>
 * Steven Levithan (c) 2010-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */exports.default=function _default(XRegExp){if(!XRegExp.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Blocks");XRegExp.addUnicodeData(_blocks.default)},module.exports=exports.default},{"../../tools/output/blocks":213,"@babel/runtime-corejs3/core-js-stable/object/define-property":11,"@babel/runtime-corejs3/helpers/interopRequireDefault":17}],208:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime-corejs3/helpers/interopRequireDefault");require("@babel/runtime-corejs3/core-js-stable/object/define-property")(exports,"__esModule",{value:!0}),exports.default=void 0;var _categories=_interopRequireDefault(require("../../tools/output/categories"));
/*!
 * XRegExp Unicode Categories 4.3.0
 * <xregexp.com>
 * Steven Levithan (c) 2010-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */exports.default=function _default(XRegExp){if(!XRegExp.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");XRegExp.addUnicodeData(_categories.default)},module.exports=exports.default},{"../../tools/output/categories":214,"@babel/runtime-corejs3/core-js-stable/object/define-property":11,"@babel/runtime-corejs3/helpers/interopRequireDefault":17}],209:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime-corejs3/helpers/interopRequireDefault");require("@babel/runtime-corejs3/core-js-stable/object/define-property")(exports,"__esModule",{value:!0}),exports.default=void 0;var _properties=_interopRequireDefault(require("../../tools/output/properties"));
/*!
 * XRegExp Unicode Properties 4.3.0
 * <xregexp.com>
 * Steven Levithan (c) 2012-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */exports.default=function _default(XRegExp){if(!XRegExp.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");var unicodeData=_properties.default;unicodeData.push({name:"Assigned",inverseOf:"Cn"}),XRegExp.addUnicodeData(unicodeData)},module.exports=exports.default},{"../../tools/output/properties":215,"@babel/runtime-corejs3/core-js-stable/object/define-property":11,"@babel/runtime-corejs3/helpers/interopRequireDefault":17}],210:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime-corejs3/helpers/interopRequireDefault");require("@babel/runtime-corejs3/core-js-stable/object/define-property")(exports,"__esModule",{value:!0}),exports.default=void 0;var _scripts=_interopRequireDefault(require("../../tools/output/scripts"));
/*!
 * XRegExp Unicode Scripts 4.3.0
 * <xregexp.com>
 * Steven Levithan (c) 2010-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */exports.default=function _default(XRegExp){if(!XRegExp.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");XRegExp.addUnicodeData(_scripts.default)},module.exports=exports.default},{"../../tools/output/scripts":216,"@babel/runtime-corejs3/core-js-stable/object/define-property":11,"@babel/runtime-corejs3/helpers/interopRequireDefault":17}],211:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime-corejs3/helpers/interopRequireDefault");require("@babel/runtime-corejs3/core-js-stable/object/define-property")(exports,"__esModule",{value:!0}),exports.default=void 0;var _xregexp=_interopRequireDefault(require("./xregexp")),_build=_interopRequireDefault(require("./addons/build")),_matchrecursive=_interopRequireDefault(require("./addons/matchrecursive")),_unicodeBase=_interopRequireDefault(require("./addons/unicode-base")),_unicodeBlocks=_interopRequireDefault(require("./addons/unicode-blocks")),_unicodeCategories=_interopRequireDefault(require("./addons/unicode-categories")),_unicodeProperties=_interopRequireDefault(require("./addons/unicode-properties")),_unicodeScripts=_interopRequireDefault(require("./addons/unicode-scripts"));(0,_build.default)(_xregexp.default),(0,_matchrecursive.default)(_xregexp.default),(0,_unicodeBase.default)(_xregexp.default),(0,_unicodeBlocks.default)(_xregexp.default),(0,_unicodeCategories.default)(_xregexp.default),(0,_unicodeProperties.default)(_xregexp.default),(0,_unicodeScripts.default)(_xregexp.default);var _default=_xregexp.default;exports.default=_default,module.exports=exports.default},{"./addons/build":204,"./addons/matchrecursive":205,"./addons/unicode-base":206,"./addons/unicode-blocks":207,"./addons/unicode-categories":208,"./addons/unicode-properties":209,"./addons/unicode-scripts":210,"./xregexp":212,"@babel/runtime-corejs3/core-js-stable/object/define-property":11,"@babel/runtime-corejs3/helpers/interopRequireDefault":17}],212:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime-corejs3/helpers/interopRequireDefault");require("@babel/runtime-corejs3/core-js-stable/object/define-property")(exports,"__esModule",{value:!0}),exports.default=void 0;var _concat=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/concat")),_indexOf=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/index-of")),_create=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/object/create")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime-corejs3/helpers/slicedToArray")),_forEach=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/for-each")),_getIterator2=_interopRequireDefault(require("@babel/runtime-corejs3/core-js/get-iterator")),_includes=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/includes")),_parseInt2=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/parse-int")),_slice=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/slice")),_sort=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/sort")),_flags=_interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/instance/flags")),features={astral:!1,namespacing:!1},nativ={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},fixed={},regexCache={},patternCache={},tokens=[],nativeTokens={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},replacementToken=/\$(?:{([\w$]+)}|<([\w$]+)>|(\d\d?|[\s\S]))/g,correctExecNpcg=void 0===nativ.exec.call(/()??/,"")[1],hasFlagsProp=void 0!==(0,_flags.default)(/x/),toString={}.toString;function hasNativeFlag(flag){var isSupported=!0;try{new RegExp("",flag)}catch(exception){isSupported=!1}return isSupported}var hasNativeU=hasNativeFlag("u"),hasNativeY=hasNativeFlag("y"),registeredFlags={g:!0,i:!0,m:!0,u:hasNativeU,y:hasNativeY};function augment(regex,captureNames,xSource,xFlags,isInternalOnly){var _context;if(regex.xregexp={captureNames:captureNames},isInternalOnly)return regex;if(regex.__proto__)regex.__proto__=XRegExp.prototype;else for(var p in XRegExp.prototype)regex[p]=XRegExp.prototype[p];return regex.xregexp.source=xSource,regex.xregexp.flags=xFlags?(0,_sort.default)(_context=xFlags.split("")).call(_context).join(""):xFlags,regex}function clipDuplicates(str){return nativ.replace.call(str,/([\s\S])(?=[\s\S]*\1)/g,"")}function copyRegex(regex,options){var _context2;if(!XRegExp.isRegExp(regex))throw new TypeError("Type RegExp expected");var xData=regex.xregexp||{},flags=function getNativeFlags(regex){return hasFlagsProp?(0,_flags.default)(regex):nativ.exec.call(/\/([a-z]*)$/i,RegExp.prototype.toString.call(regex))[1]}(regex),flagsToAdd="",flagsToRemove="",xregexpSource=null,xregexpFlags=null;return(options=options||{}).removeG&&(flagsToRemove+="g"),options.removeY&&(flagsToRemove+="y"),flagsToRemove&&(flags=nativ.replace.call(flags,new RegExp("[".concat(flagsToRemove,"]+"),"g"),"")),options.addG&&(flagsToAdd+="g"),options.addY&&(flagsToAdd+="y"),flagsToAdd&&(flags=clipDuplicates(flags+flagsToAdd)),options.isInternalOnly||(void 0!==xData.source&&(xregexpSource=xData.source),null!=(0,_flags.default)(xData)&&(xregexpFlags=flagsToAdd?clipDuplicates((0,_flags.default)(xData)+flagsToAdd):(0,_flags.default)(xData))),regex=augment(new RegExp(options.source||regex.source,flags),function hasNamedCapture(regex){return!(!regex.xregexp||!regex.xregexp.captureNames)}(regex)?(0,_slice.default)(_context2=xData.captureNames).call(_context2,0):null,xregexpSource,xregexpFlags,options.isInternalOnly)}function dec(hex){return(0,_parseInt2.default)(hex,16)}function getContextualTokenSeparator(match,scope,flags){return"("===match.input[match.index-1]||")"===match.input[match.index+match[0].length]||"|"===match.input[match.index-1]||"|"===match.input[match.index+match[0].length]||match.index<1||match.index+match[0].length>=match.input.length||nativ.test.call(/^\(\?[:=!]/,match.input.substr(match.index-3,3))||function isQuantifierNext(pattern,pos,flags){return nativ.test.call((0,_includes.default)(flags).call(flags,"x")?/^(?:\s|#[^#\n]*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/,(0,_slice.default)(pattern).call(pattern,pos))}(match.input,match.index+match[0].length,flags)?"":"(?:)"}function hex(dec){return(0,_parseInt2.default)(dec,10).toString(16)}function isType(value,type){return toString.call(value)==="[object ".concat(type,"]")}function pad4(str){for(;str.length<4;)str="0".concat(str);return str}function prepareOptions(value){var options={};return isType(value,"String")?((0,_forEach.default)(XRegExp).call(XRegExp,value,/[^\s,]+/,(function(match){options[match]=!0})),options):value}function registerFlag(flag){if(!/^[\w$]$/.test(flag))throw new Error("Flag must be a single character A-Za-z0-9_$");registeredFlags[flag]=!0}function runTokens(pattern,flags,pos,scope,context){for(var match,t,i=tokens.length,leadChar=pattern[pos],result=null;i--;)if(!((t=tokens[i]).leadChar&&t.leadChar!==leadChar||t.scope!==scope&&"all"!==t.scope||t.flag&&!(0,_includes.default)(flags).call(flags,t.flag))&&(match=XRegExp.exec(pattern,t.regex,pos,"sticky"))){result={matchLength:match[0].length,output:t.handler.call(context,match,scope,flags),reparse:t.reparse};break}return result}function setAstral(on){features.astral=on}function setNamespacing(on){features.namespacing=on}function toObject(value){if(null==value)throw new TypeError("Cannot convert null or undefined to object");return value}function XRegExp(pattern,flags){if(XRegExp.isRegExp(pattern)){if(void 0!==flags)throw new TypeError("Cannot supply flags when copying a RegExp");return copyRegex(pattern)}if(pattern=void 0===pattern?"":String(pattern),flags=void 0===flags?"":String(flags),XRegExp.isInstalled("astral")&&!(0,_includes.default)(flags).call(flags,"A")&&(flags+="A"),patternCache[pattern]||(patternCache[pattern]={}),!patternCache[pattern][flags]){for(var result,context={hasNamedCapture:!1,captureNames:[]},scope="default",output="",pos=0,applied=function prepareFlags(pattern,flags){if(clipDuplicates(flags)!==flags)throw new SyntaxError("Invalid duplicate regex flag ".concat(flags));pattern=nativ.replace.call(pattern,/^\(\?([\w$]+)\)/,(function($0,$1){if(nativ.test.call(/[gy]/,$1))throw new SyntaxError("Cannot use flag g or y in mode modifier ".concat($0));return flags=clipDuplicates(flags+$1),""}));var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=(0,_getIterator2.default)(flags);!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var flag=_step.value;if(!registeredFlags[flag])throw new SyntaxError("Unknown regex flag ".concat(flag))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return{pattern:pattern,flags:flags}}(pattern,flags),appliedPattern=applied.pattern,appliedFlags=(0,_flags.default)(applied);pos<appliedPattern.length;){do{(result=runTokens(appliedPattern,appliedFlags,pos,scope,context))&&result.reparse&&(appliedPattern=(0,_slice.default)(appliedPattern).call(appliedPattern,0,pos)+result.output+(0,_slice.default)(appliedPattern).call(appliedPattern,pos+result.matchLength))}while(result&&result.reparse);if(result)output+=result.output,pos+=result.matchLength||1;else{var _XRegExp$exec=XRegExp.exec(appliedPattern,nativeTokens[scope],pos,"sticky"),token=(0,_slicedToArray2.default)(_XRegExp$exec,1)[0];output+=token,pos+=token.length,"["===token&&"default"===scope?scope="class":"]"===token&&"class"===scope&&(scope="default")}}patternCache[pattern][flags]={pattern:nativ.replace.call(output,/(?:\(\?:\))+/g,"(?:)"),flags:nativ.replace.call(appliedFlags,/[^gimuy]+/g,""),captures:context.hasNamedCapture?context.captureNames:null}}var generated=patternCache[pattern][flags];return augment(new RegExp(generated.pattern,(0,_flags.default)(generated)),generated.captures,pattern,flags)}XRegExp.prototype=/(?:)/,XRegExp.version="4.3.0",XRegExp._clipDuplicates=clipDuplicates,XRegExp._hasNativeFlag=hasNativeFlag,XRegExp._dec=dec,XRegExp._hex=hex,XRegExp._pad4=pad4,XRegExp.addToken=function(regex,handler,options){var optionalFlags=(options=options||{}).optionalFlags;if(options.flag&&registerFlag(options.flag),optionalFlags){optionalFlags=nativ.split.call(optionalFlags,"");var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=(0,_getIterator2.default)(optionalFlags);!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){registerFlag(_step2.value)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}tokens.push({regex:copyRegex(regex,{addG:!0,addY:hasNativeY,isInternalOnly:!0}),handler:handler,scope:options.scope||"default",flag:options.flag,reparse:options.reparse,leadChar:options.leadChar}),XRegExp.cache.flush("patterns")},XRegExp.cache=function(pattern,flags){return regexCache[pattern]||(regexCache[pattern]={}),regexCache[pattern][flags]||(regexCache[pattern][flags]=XRegExp(pattern,flags))},XRegExp.cache.flush=function(cacheName){"patterns"===cacheName?patternCache={}:regexCache={}},XRegExp.escape=function(str){return nativ.replace.call(toObject(str),/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},XRegExp.exec=function(str,regex,pos,sticky){var addY,match,cacheKey="g",fakeY=!1;(addY=hasNativeY&&!!(sticky||regex.sticky&&!1!==sticky))?cacheKey+="y":sticky&&(fakeY=!0,cacheKey+="FakeY"),regex.xregexp=regex.xregexp||{};var r2=regex.xregexp[cacheKey]||(regex.xregexp[cacheKey]=copyRegex(regex,{addG:!0,addY:addY,source:fakeY?"".concat(regex.source,"|()"):void 0,removeY:!1===sticky,isInternalOnly:!0}));return pos=pos||0,r2.lastIndex=pos,match=fixed.exec.call(r2,str),fakeY&&match&&""===match.pop()&&(match=null),regex.global&&(regex.lastIndex=match?r2.lastIndex:0),match},XRegExp.forEach=function(str,regex,callback){for(var match,pos=0,i=-1;match=XRegExp.exec(str,regex,pos);)callback(match,++i,str,regex),pos=match.index+(match[0].length||1)},XRegExp.globalize=function(regex){return copyRegex(regex,{addG:!0})},XRegExp.install=function(options){options=prepareOptions(options),!features.astral&&options.astral&&setAstral(!0),!features.namespacing&&options.namespacing&&setNamespacing(!0)},XRegExp.isInstalled=function(feature){return!!features[feature]},XRegExp.isRegExp=function(value){return"[object RegExp]"===toString.call(value)},XRegExp.match=function(str,regex,scope){var global=regex.global&&"one"!==scope||"all"===scope,cacheKey=(global?"g":"")+(regex.sticky?"y":"")||"noGY";regex.xregexp=regex.xregexp||{};var r2=regex.xregexp[cacheKey]||(regex.xregexp[cacheKey]=copyRegex(regex,{addG:!!global,removeG:"one"===scope,isInternalOnly:!0})),result=nativ.match.call(toObject(str),r2);return regex.global&&(regex.lastIndex="one"===scope&&result?result.index+result[0].length:0),global?result||[]:result&&result[0]},XRegExp.matchChain=function(str,chain){return function recurseChain(values,level){var item=chain[level].regex?chain[level]:{regex:chain[level]},matches=[];function addMatch(match){if(item.backref){var ERR_UNDEFINED_GROUP="Backreference to undefined group: ".concat(item.backref),isNamedBackref=isNaN(item.backref);if(isNamedBackref&&XRegExp.isInstalled("namespacing")){if(!(item.backref in match.groups))throw new ReferenceError(ERR_UNDEFINED_GROUP)}else if(!match.hasOwnProperty(item.backref))throw new ReferenceError(ERR_UNDEFINED_GROUP);var backrefValue=isNamedBackref&&XRegExp.isInstalled("namespacing")?match.groups[item.backref]:match[item.backref];matches.push(backrefValue||"")}else matches.push(match[0])}var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=(0,_getIterator2.default)(values);!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var value=_step3.value;(0,_forEach.default)(XRegExp).call(XRegExp,value,item.regex,addMatch)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}return level!==chain.length-1&&matches.length?recurseChain(matches,level+1):matches}([str],0)},XRegExp.replace=function(str,search,replacement,scope){var isRegex=XRegExp.isRegExp(search),global=search.global&&"one"!==scope||"all"===scope,cacheKey=(global?"g":"")+(search.sticky?"y":"")||"noGY",s2=search;isRegex?(search.xregexp=search.xregexp||{},s2=search.xregexp[cacheKey]||(search.xregexp[cacheKey]=copyRegex(search,{addG:!!global,removeG:"one"===scope,isInternalOnly:!0}))):global&&(s2=new RegExp(XRegExp.escape(String(search)),"g"));var result=fixed.replace.call(toObject(str),s2,replacement);return isRegex&&search.global&&(search.lastIndex=0),result},XRegExp.replaceEach=function(str,replacements){var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=(0,_getIterator2.default)(replacements);!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var r=_step4.value;str=XRegExp.replace(str,r[0],r[1],r[2])}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{_iteratorNormalCompletion4||null==_iterator4.return||_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}return str},XRegExp.split=function(str,separator,limit){return fixed.split.call(toObject(str),separator,limit)},XRegExp.test=function(str,regex,pos,sticky){return!!XRegExp.exec(str,regex,pos,sticky)},XRegExp.uninstall=function(options){options=prepareOptions(options),features.astral&&options.astral&&setAstral(!1),features.namespacing&&options.namespacing&&setNamespacing(!1)},XRegExp.union=function(patterns,flags,options){var numPriorCaptures,captureNames,conjunction=(options=options||{}).conjunction||"or",numCaptures=0;function rewrite(match,paren,backref){var name=captureNames[numCaptures-numPriorCaptures];if(paren){if(++numCaptures,name)return"(?<".concat(name,">")}else if(backref)return"\\".concat(+backref+numPriorCaptures);return match}if(!isType(patterns,"Array")||!patterns.length)throw new TypeError("Must provide a nonempty array of patterns to merge");var parts=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,output=[],_iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,_iterator5=(0,_getIterator2.default)(patterns);!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var pattern=_step5.value;XRegExp.isRegExp(pattern)?(numPriorCaptures=numCaptures,captureNames=pattern.xregexp&&pattern.xregexp.captureNames||[],output.push(nativ.replace.call(XRegExp(pattern.source).source,parts,rewrite))):output.push(XRegExp.escape(pattern))}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{_iteratorNormalCompletion5||null==_iterator5.return||_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}var separator="none"===conjunction?"":"|";return XRegExp(output.join(separator),flags)},fixed.exec=function(str){var origLastIndex=this.lastIndex,match=nativ.exec.apply(this,arguments);if(match){if(!correctExecNpcg&&match.length>1&&(0,_includes.default)(match).call(match,"")){var _context3,r2=copyRegex(this,{removeG:!0,isInternalOnly:!0});nativ.replace.call((0,_slice.default)(_context3=String(str)).call(_context3,match.index),r2,(function(){for(var len=arguments.length,i=1;i<len-2;++i)void 0===(i<0||arguments.length<=i?void 0:arguments[i])&&(match[i]=void 0)}))}var groupsObject=match;if(XRegExp.isInstalled("namespacing")&&(match.groups=(0,_create.default)(null),groupsObject=match.groups),this.xregexp&&this.xregexp.captureNames)for(var i=1;i<match.length;++i){var name=this.xregexp.captureNames[i-1];name&&(groupsObject[name]=match[i])}this.global&&!match[0].length&&this.lastIndex>match.index&&(this.lastIndex=match.index)}return this.global||(this.lastIndex=origLastIndex),match},fixed.test=function(str){return!!fixed.exec.call(this,str)},fixed.match=function(regex){if(XRegExp.isRegExp(regex)){if(regex.global){var result=nativ.match.apply(this,arguments);return regex.lastIndex=0,result}}else regex=new RegExp(regex);return fixed.exec.call(regex,toObject(this))},fixed.replace=function(search,replacement){var origLastIndex,captureNames,result,isRegex=XRegExp.isRegExp(search);return isRegex?(search.xregexp&&(captureNames=search.xregexp.captureNames),origLastIndex=search.lastIndex):search+="",result=isType(replacement,"Function")?nativ.replace.call(String(this),search,(function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];if(captureNames){var groupsObject;XRegExp.isInstalled("namespacing")?(groupsObject=(0,_create.default)(null),args.push(groupsObject)):(args[0]=new String(args[0]),groupsObject=args[0]);for(var i=0;i<captureNames.length;++i)captureNames[i]&&(groupsObject[captureNames[i]]=args[i+1])}return isRegex&&search.global&&(search.lastIndex=args[args.length-2]+args[0].length),replacement.apply(void 0,args)})):nativ.replace.call(null==this?this:String(this),search,(function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return nativ.replace.call(String(replacement),replacementToken,replacer);function replacer($0,bracketed,angled,dollarToken){if(bracketed=bracketed||angled){var n=+bracketed;if(n<=args.length-3)return args[n]||"";if((n=captureNames?(0,_indexOf.default)(captureNames).call(captureNames,bracketed):-1)<0)throw new SyntaxError("Backreference to undefined group ".concat($0));return args[n+1]||""}if("$"===dollarToken)return"$";if("&"===dollarToken||0==+dollarToken)return args[0];var _context4,_context5;if("`"===dollarToken)return(0,_slice.default)(_context4=args[args.length-1]).call(_context4,0,args[args.length-2]);if("'"===dollarToken)return(0,_slice.default)(_context5=args[args.length-1]).call(_context5,args[args.length-2]+args[0].length);if(dollarToken=+dollarToken,!isNaN(dollarToken)){if(dollarToken>args.length-3)throw new SyntaxError("Backreference to undefined group ".concat($0));return args[dollarToken]||""}throw new SyntaxError("Invalid token ".concat($0))}})),isRegex&&(search.global?search.lastIndex=0:search.lastIndex=origLastIndex),result},fixed.split=function(separator,limit){if(!XRegExp.isRegExp(separator))return nativ.split.apply(this,arguments);var lastLength,str=String(this),output=[],origLastIndex=separator.lastIndex,lastLastIndex=0;return limit=(void 0===limit?-1:limit)>>>0,(0,_forEach.default)(XRegExp).call(XRegExp,str,separator,(function(match){match.index+match[0].length>lastLastIndex&&(output.push((0,_slice.default)(str).call(str,lastLastIndex,match.index)),match.length>1&&match.index<str.length&&Array.prototype.push.apply(output,(0,_slice.default)(match).call(match,1)),lastLength=match[0].length,lastLastIndex=match.index+lastLength)})),lastLastIndex===str.length?nativ.test.call(separator,"")&&!lastLength||output.push(""):output.push((0,_slice.default)(str).call(str,lastLastIndex)),separator.lastIndex=origLastIndex,output.length>limit?(0,_slice.default)(output).call(output,0,limit):output},XRegExp.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,(function(match,scope){if("B"===match[1]&&"default"===scope)return match[0];throw new SyntaxError("Invalid escape ".concat(match[0]))}),{scope:"all",leadChar:"\\"}),XRegExp.addToken(/\\u{([\dA-Fa-f]+)}/,(function(match,scope,flags){var code=dec(match[1]);if(code>1114111)throw new SyntaxError("Invalid Unicode code point ".concat(match[0]));if(code<=65535)return"\\u".concat(pad4(hex(code)));if(hasNativeU&&(0,_includes.default)(flags).call(flags,"u"))return match[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")}),{scope:"all",leadChar:"\\"}),XRegExp.addToken(/\[(\^?)\]/,(function(match){return match[1]?"[\\s\\S]":"\\b\\B"}),{leadChar:"["}),XRegExp.addToken(/\(\?#[^)]*\)/,getContextualTokenSeparator,{leadChar:"("}),XRegExp.addToken(/\s+|#[^\n]*\n?/,getContextualTokenSeparator,{flag:"x"}),XRegExp.addToken(/\./,(function(){return"[\\s\\S]"}),{flag:"s",leadChar:"."}),XRegExp.addToken(/\\k<([\w$]+)>/,(function(match){var _context6,_context7,index=isNaN(match[1])?(0,_indexOf.default)(_context6=this.captureNames).call(_context6,match[1])+1:+match[1],endIndex=match.index+match[0].length;if(!index||index>this.captureNames.length)throw new SyntaxError("Backreference to undefined group ".concat(match[0]));return(0,_concat.default)(_context7="\\".concat(index)).call(_context7,endIndex===match.input.length||isNaN(match.input[endIndex])?"":"(?:)")}),{leadChar:"\\"}),XRegExp.addToken(/\\(\d+)/,(function(match,scope){if(!("default"===scope&&/^[1-9]/.test(match[1])&&+match[1]<=this.captureNames.length)&&"0"!==match[1])throw new SyntaxError("Cannot use octal escape or backreference to undefined group ".concat(match[0]));return match[0]}),{scope:"all",leadChar:"\\"}),XRegExp.addToken(/\(\?P?<([\w$]+)>/,(function(match){var _context8;if(!isNaN(match[1]))throw new SyntaxError("Cannot use integer as capture name ".concat(match[0]));if(!XRegExp.isInstalled("namespacing")&&("length"===match[1]||"__proto__"===match[1]))throw new SyntaxError("Cannot use reserved word as capture name ".concat(match[0]));if((0,_includes.default)(_context8=this.captureNames).call(_context8,match[1]))throw new SyntaxError("Cannot use same name for multiple groups ".concat(match[0]));return this.captureNames.push(match[1]),this.hasNamedCapture=!0,"("}),{leadChar:"("}),XRegExp.addToken(/\((?!\?)/,(function(match,scope,flags){return(0,_includes.default)(flags).call(flags,"n")?"(?:":(this.captureNames.push(null),"(")}),{optionalFlags:"n",leadChar:"("});var _default=XRegExp;exports.default=_default,module.exports=exports.default},{"@babel/runtime-corejs3/core-js-stable/instance/concat":1,"@babel/runtime-corejs3/core-js-stable/instance/flags":2,"@babel/runtime-corejs3/core-js-stable/instance/for-each":3,"@babel/runtime-corejs3/core-js-stable/instance/includes":4,"@babel/runtime-corejs3/core-js-stable/instance/index-of":5,"@babel/runtime-corejs3/core-js-stable/instance/slice":8,"@babel/runtime-corejs3/core-js-stable/instance/sort":9,"@babel/runtime-corejs3/core-js-stable/object/create":10,"@babel/runtime-corejs3/core-js-stable/object/define-property":11,"@babel/runtime-corejs3/core-js-stable/parse-int":12,"@babel/runtime-corejs3/core-js/get-iterator":14,"@babel/runtime-corejs3/helpers/interopRequireDefault":17,"@babel/runtime-corejs3/helpers/slicedToArray":20}],213:[function(require,module,exports){module.exports=[{name:"InAdlam",astral:"\ud83a[\udd00-\udd5f]"},{name:"InAegean_Numbers",astral:"\ud800[\udd00-\udd3f]"},{name:"InAhom",astral:"\ud805[\udf00-\udf3f]"},{name:"InAlchemical_Symbols",astral:"\ud83d[\udf00-\udf7f]"},{name:"InAlphabetic_Presentation_Forms",bmp:"-"},{name:"InAnatolian_Hieroglyphs",astral:"\ud811[\udc00-\ude7f]"},{name:"InAncient_Greek_Musical_Notation",astral:"\ud834[\ude00-\ude4f]"},{name:"InAncient_Greek_Numbers",astral:"\ud800[\udd40-\udd8f]"},{name:"InAncient_Symbols",astral:"\ud800[\udd90-\uddcf]"},{name:"InArabic",bmp:"-"},{name:"InArabic_Extended_A",bmp:"-"},{name:"InArabic_Mathematical_Alphabetic_Symbols",astral:"\ud83b[\ude00-\udeff]"},{name:"InArabic_Presentation_Forms_A",bmp:"-"},{name:"InArabic_Presentation_Forms_B",bmp:"-\ufeff"},{name:"InArabic_Supplement",bmp:"-"},{name:"InArmenian",bmp:"-"},{name:"InArrows",bmp:"-"},{name:"InAvestan",astral:"\ud802[\udf00-\udf3f]"},{name:"InBalinese",bmp:"-"},{name:"InBamum",bmp:"-"},{name:"InBamum_Supplement",astral:"\ud81a[\udc00-\ude3f]"},{name:"InBasic_Latin",bmp:"\0-"},{name:"InBassa_Vah",astral:"\ud81a[\uded0-\udeff]"},{name:"InBatak",bmp:"-"},{name:"InBengali",bmp:"-"},{name:"InBhaiksuki",astral:"\ud807[\udc00-\udc6f]"},{name:"InBlock_Elements",bmp:"-"},{name:"InBopomofo",bmp:"-"},{name:"InBopomofo_Extended",bmp:"-"},{name:"InBox_Drawing",bmp:"-"},{name:"InBrahmi",astral:"\ud804[\udc00-\udc7f]"},{name:"InBraille_Patterns",bmp:"-"},{name:"InBuginese",bmp:"-"},{name:"InBuhid",bmp:"-"},{name:"InByzantine_Musical_Symbols",astral:"\ud834[\udc00-\udcff]"},{name:"InCJK_Compatibility",bmp:"-"},{name:"InCJK_Compatibility_Forms",bmp:"-"},{name:"InCJK_Compatibility_Ideographs",bmp:"-"},{name:"InCJK_Compatibility_Ideographs_Supplement",astral:"\ud87e[\udc00-\ude1f]"},{name:"InCJK_Radicals_Supplement",bmp:"-"},{name:"InCJK_Strokes",bmp:"-"},{name:"InCJK_Symbols_And_Punctuation",bmp:"-"},{name:"InCJK_Unified_Ideographs",bmp:"-"},{name:"InCJK_Unified_Ideographs_Extension_A",bmp:"-"},{name:"InCJK_Unified_Ideographs_Extension_B",astral:"[\ud840-\ud868][\udc00-\udfff]|\ud869[\udc00-\udedf]"},{name:"InCJK_Unified_Ideographs_Extension_C",astral:"\ud869[\udf00-\udfff]|[\ud86a-\ud86c][\udc00-\udfff]|\ud86d[\udc00-\udf3f]"},{name:"InCJK_Unified_Ideographs_Extension_D",astral:"\ud86d[\udf40-\udfff]|\ud86e[\udc00-\udc1f]"},{name:"InCJK_Unified_Ideographs_Extension_E",astral:"\ud86e[\udc20-\udfff]|[\ud86f-\ud872][\udc00-\udfff]|\ud873[\udc00-\udeaf]"},{name:"InCJK_Unified_Ideographs_Extension_F",astral:"\ud873[\udeb0-\udfff]|[\ud874-\ud879][\udc00-\udfff]|\ud87a[\udc00-\udfef]"},{name:"InCarian",astral:"\ud800[\udea0-\udedf]"},{name:"InCaucasian_Albanian",astral:"\ud801[\udd30-\udd6f]"},{name:"InChakma",astral:"\ud804[\udd00-\udd4f]"},{name:"InCham",bmp:"-"},{name:"InCherokee",bmp:"-"},{name:"InCherokee_Supplement",bmp:"-"},{name:"InChess_Symbols",astral:"\ud83e[\ude00-\ude6f]"},{name:"InCombining_Diacritical_Marks",bmp:"-"},{name:"InCombining_Diacritical_Marks_Extended",bmp:"-"},{name:"InCombining_Diacritical_Marks_For_Symbols",bmp:"-"},{name:"InCombining_Diacritical_Marks_Supplement",bmp:"-"},{name:"InCombining_Half_Marks",bmp:"-"},{name:"InCommon_Indic_Number_Forms",bmp:"-"},{name:"InControl_Pictures",bmp:"-"},{name:"InCoptic",bmp:"-"},{name:"InCoptic_Epact_Numbers",astral:"\ud800[\udee0-\udeff]"},{name:"InCounting_Rod_Numerals",astral:"\ud834[\udf60-\udf7f]"},{name:"InCuneiform",astral:"\ud808[\udc00-\udfff]"},{name:"InCuneiform_Numbers_And_Punctuation",astral:"\ud809[\udc00-\udc7f]"},{name:"InCurrency_Symbols",bmp:"-"},{name:"InCypriot_Syllabary",astral:"\ud802[\udc00-\udc3f]"},{name:"InCyrillic",bmp:"-"},{name:"InCyrillic_Extended_A",bmp:"-"},{name:"InCyrillic_Extended_B",bmp:"-"},{name:"InCyrillic_Extended_C",bmp:"-"},{name:"InCyrillic_Supplement",bmp:"-"},{name:"InDeseret",astral:"\ud801[\udc00-\udc4f]"},{name:"InDevanagari",bmp:"-"},{name:"InDevanagari_Extended",bmp:"-"},{name:"InDingbats",bmp:"-"},{name:"InDogra",astral:"\ud806[\udc00-\udc4f]"},{name:"InDomino_Tiles",astral:"\ud83c[\udc30-\udc9f]"},{name:"InDuployan",astral:"\ud82f[\udc00-\udc9f]"},{name:"InEarly_Dynastic_Cuneiform",astral:"\ud809[\udc80-\udd4f]"},{name:"InEgyptian_Hieroglyphs",astral:"\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2f]"},{name:"InElbasan",astral:"\ud801[\udd00-\udd2f]"},{name:"InEmoticons",astral:"\ud83d[\ude00-\ude4f]"},{name:"InEnclosed_Alphanumeric_Supplement",astral:"\ud83c[\udd00-\uddff]"},{name:"InEnclosed_Alphanumerics",bmp:"-"},{name:"InEnclosed_CJK_Letters_And_Months",bmp:"-"},{name:"InEnclosed_Ideographic_Supplement",astral:"\ud83c[\ude00-\udeff]"},{name:"InEthiopic",bmp:"-"},{name:"InEthiopic_Extended",bmp:"-"},{name:"InEthiopic_Extended_A",bmp:"-"},{name:"InEthiopic_Supplement",bmp:"-"},{name:"InGeneral_Punctuation",bmp:"-"},{name:"InGeometric_Shapes",bmp:"-"},{name:"InGeometric_Shapes_Extended",astral:"\ud83d[\udf80-\udfff]"},{name:"InGeorgian",bmp:"-"},{name:"InGeorgian_Extended",bmp:"-"},{name:"InGeorgian_Supplement",bmp:"-"},{name:"InGlagolitic",bmp:"-"},{name:"InGlagolitic_Supplement",astral:"\ud838[\udc00-\udc2f]"},{name:"InGothic",astral:"\ud800[\udf30-\udf4f]"},{name:"InGrantha",astral:"\ud804[\udf00-\udf7f]"},{name:"InGreek_And_Coptic",bmp:"-"},{name:"InGreek_Extended",bmp:"-"},{name:"InGujarati",bmp:"-"},{name:"InGunjala_Gondi",astral:"\ud807[\udd60-\uddaf]"},{name:"InGurmukhi",bmp:"-"},{name:"InHalfwidth_And_Fullwidth_Forms",bmp:"-"},{name:"InHangul_Compatibility_Jamo",bmp:"-"},{name:"InHangul_Jamo",bmp:"-"},{name:"InHangul_Jamo_Extended_A",bmp:"-"},{name:"InHangul_Jamo_Extended_B",bmp:"-"},{name:"InHangul_Syllables",bmp:"-"},{name:"InHanifi_Rohingya",astral:"\ud803[\udd00-\udd3f]"},{name:"InHanunoo",bmp:"-"},{name:"InHatran",astral:"\ud802[\udce0-\udcff]"},{name:"InHebrew",bmp:"-"},{name:"InHigh_Private_Use_Surrogates",bmp:"\udb80-\udbff"},{name:"InHigh_Surrogates",bmp:"\ud800-\udb7f"},{name:"InHiragana",bmp:"-"},{name:"InIPA_Extensions",bmp:"-"},{name:"InIdeographic_Description_Characters",bmp:"-"},{name:"InIdeographic_Symbols_And_Punctuation",astral:"\ud81b[\udfe0-\udfff]"},{name:"InImperial_Aramaic",astral:"\ud802[\udc40-\udc5f]"},{name:"InIndic_Siyaq_Numbers",astral:"\ud83b[\udc70-\udcbf]"},{name:"InInscriptional_Pahlavi",astral:"\ud802[\udf60-\udf7f]"},{name:"InInscriptional_Parthian",astral:"\ud802[\udf40-\udf5f]"},{name:"InJavanese",bmp:"-"},{name:"InKaithi",astral:"\ud804[\udc80-\udccf]"},{name:"InKana_Extended_A",astral:"\ud82c[\udd00-\udd2f]"},{name:"InKana_Supplement",astral:"\ud82c[\udc00-\udcff]"},{name:"InKanbun",bmp:"-"},{name:"InKangxi_Radicals",bmp:"-"},{name:"InKannada",bmp:"-"},{name:"InKatakana",bmp:"-"},{name:"InKatakana_Phonetic_Extensions",bmp:"-"},{name:"InKayah_Li",bmp:"-"},{name:"InKharoshthi",astral:"\ud802[\ude00-\ude5f]"},{name:"InKhmer",bmp:"-"},{name:"InKhmer_Symbols",bmp:"-"},{name:"InKhojki",astral:"\ud804[\ude00-\ude4f]"},{name:"InKhudawadi",astral:"\ud804[\udeb0-\udeff]"},{name:"InLao",bmp:"-"},{name:"InLatin_1_Supplement",bmp:"-"},{name:"InLatin_Extended_A",bmp:"-"},{name:"InLatin_Extended_Additional",bmp:"-"},{name:"InLatin_Extended_B",bmp:"-"},{name:"InLatin_Extended_C",bmp:"-"},{name:"InLatin_Extended_D",bmp:"-"},{name:"InLatin_Extended_E",bmp:"-"},{name:"InLepcha",bmp:"-"},{name:"InLetterlike_Symbols",bmp:"-"},{name:"InLimbu",bmp:"-"},{name:"InLinear_A",astral:"\ud801[\ude00-\udf7f]"},{name:"InLinear_B_Ideograms",astral:"\ud800[\udc80-\udcff]"},{name:"InLinear_B_Syllabary",astral:"\ud800[\udc00-\udc7f]"},{name:"InLisu",bmp:"-"},{name:"InLow_Surrogates",bmp:"\udc00-\udfff"},{name:"InLycian",astral:"\ud800[\ude80-\ude9f]"},{name:"InLydian",astral:"\ud802[\udd20-\udd3f]"},{name:"InMahajani",astral:"\ud804[\udd50-\udd7f]"},{name:"InMahjong_Tiles",astral:"\ud83c[\udc00-\udc2f]"},{name:"InMakasar",astral:"\ud807[\udee0-\udeff]"},{name:"InMalayalam",bmp:"-"},{name:"InMandaic",bmp:"-"},{name:"InManichaean",astral:"\ud802[\udec0-\udeff]"},{name:"InMarchen",astral:"\ud807[\udc70-\udcbf]"},{name:"InMasaram_Gondi",astral:"\ud807[\udd00-\udd5f]"},{name:"InMathematical_Alphanumeric_Symbols",astral:"\ud835[\udc00-\udfff]"},{name:"InMathematical_Operators",bmp:"-"},{name:"InMayan_Numerals",astral:"\ud834[\udee0-\udeff]"},{name:"InMedefaidrin",astral:"\ud81b[\ude40-\ude9f]"},{name:"InMeetei_Mayek",bmp:"-"},{name:"InMeetei_Mayek_Extensions",bmp:"-"},{name:"InMende_Kikakui",astral:"\ud83a[\udc00-\udcdf]"},{name:"InMeroitic_Cursive",astral:"\ud802[\udda0-\uddff]"},{name:"InMeroitic_Hieroglyphs",astral:"\ud802[\udd80-\udd9f]"},{name:"InMiao",astral:"\ud81b[\udf00-\udf9f]"},{name:"InMiscellaneous_Mathematical_Symbols_A",bmp:"-"},{name:"InMiscellaneous_Mathematical_Symbols_B",bmp:"-"},{name:"InMiscellaneous_Symbols",bmp:"-"},{name:"InMiscellaneous_Symbols_And_Arrows",bmp:"-"},{name:"InMiscellaneous_Symbols_And_Pictographs",astral:"\ud83c[\udf00-\udfff]|\ud83d[\udc00-\uddff]"},{name:"InMiscellaneous_Technical",bmp:"-"},{name:"InModi",astral:"\ud805[\ude00-\ude5f]"},{name:"InModifier_Tone_Letters",bmp:"-"},{name:"InMongolian",bmp:"-"},{name:"InMongolian_Supplement",astral:"\ud805[\ude60-\ude7f]"},{name:"InMro",astral:"\ud81a[\ude40-\ude6f]"},{name:"InMultani",astral:"\ud804[\ude80-\udeaf]"},{name:"InMusical_Symbols",astral:"\ud834[\udd00-\uddff]"},{name:"InMyanmar",bmp:"-"},{name:"InMyanmar_Extended_A",bmp:"-"},{name:"InMyanmar_Extended_B",bmp:"-"},{name:"InNKo",bmp:"-"},{name:"InNabataean",astral:"\ud802[\udc80-\udcaf]"},{name:"InNew_Tai_Lue",bmp:"-"},{name:"InNewa",astral:"\ud805[\udc00-\udc7f]"},{name:"InNumber_Forms",bmp:"-"},{name:"InNushu",astral:"\ud82c[\udd70-\udeff]"},{name:"InOgham",bmp:"-"},{name:"InOl_Chiki",bmp:"-"},{name:"InOld_Hungarian",astral:"\ud803[\udc80-\udcff]"},{name:"InOld_Italic",astral:"\ud800[\udf00-\udf2f]"},{name:"InOld_North_Arabian",astral:"\ud802[\ude80-\ude9f]"},{name:"InOld_Permic",astral:"\ud800[\udf50-\udf7f]"},{name:"InOld_Persian",astral:"\ud800[\udfa0-\udfdf]"},{name:"InOld_Sogdian",astral:"\ud803[\udf00-\udf2f]"},{name:"InOld_South_Arabian",astral:"\ud802[\ude60-\ude7f]"},{name:"InOld_Turkic",astral:"\ud803[\udc00-\udc4f]"},{name:"InOptical_Character_Recognition",bmp:"-"},{name:"InOriya",bmp:"-"},{name:"InOrnamental_Dingbats",astral:"\ud83d[\ude50-\ude7f]"},{name:"InOsage",astral:"\ud801[\udcb0-\udcff]"},{name:"InOsmanya",astral:"\ud801[\udc80-\udcaf]"},{name:"InPahawh_Hmong",astral:"\ud81a[\udf00-\udf8f]"},{name:"InPalmyrene",astral:"\ud802[\udc60-\udc7f]"},{name:"InPau_Cin_Hau",astral:"\ud806[\udec0-\udeff]"},{name:"InPhags_Pa",bmp:"-"},{name:"InPhaistos_Disc",astral:"\ud800[\uddd0-\uddff]"},{name:"InPhoenician",astral:"\ud802[\udd00-\udd1f]"},{name:"InPhonetic_Extensions",bmp:"-"},{name:"InPhonetic_Extensions_Supplement",bmp:"-"},{name:"InPlaying_Cards",astral:"\ud83c[\udca0-\udcff]"},{name:"InPrivate_Use_Area",bmp:"-"},{name:"InPsalter_Pahlavi",astral:"\ud802[\udf80-\udfaf]"},{name:"InRejang",bmp:"-"},{name:"InRumi_Numeral_Symbols",astral:"\ud803[\ude60-\ude7f]"},{name:"InRunic",bmp:"-"},{name:"InSamaritan",bmp:"-"},{name:"InSaurashtra",bmp:"-"},{name:"InSharada",astral:"\ud804[\udd80-\udddf]"},{name:"InShavian",astral:"\ud801[\udc50-\udc7f]"},{name:"InShorthand_Format_Controls",astral:"\ud82f[\udca0-\udcaf]"},{name:"InSiddham",astral:"\ud805[\udd80-\uddff]"},{name:"InSinhala",bmp:"-"},{name:"InSinhala_Archaic_Numbers",astral:"\ud804[\udde0-\uddff]"},{name:"InSmall_Form_Variants",bmp:"-"},{name:"InSogdian",astral:"\ud803[\udf30-\udf6f]"},{name:"InSora_Sompeng",astral:"\ud804[\udcd0-\udcff]"},{name:"InSoyombo",astral:"\ud806[\ude50-\udeaf]"},{name:"InSpacing_Modifier_Letters",bmp:"-"},{name:"InSpecials",bmp:"-"},{name:"InSundanese",bmp:"-"},{name:"InSundanese_Supplement",bmp:"-"},{name:"InSuperscripts_And_Subscripts",bmp:"-"},{name:"InSupplemental_Arrows_A",bmp:"-"},{name:"InSupplemental_Arrows_B",bmp:"-"},{name:"InSupplemental_Arrows_C",astral:"\ud83e[\udc00-\udcff]"},{name:"InSupplemental_Mathematical_Operators",bmp:"-"},{name:"InSupplemental_Punctuation",bmp:"-"},{name:"InSupplemental_Symbols_And_Pictographs",astral:"\ud83e[\udd00-\uddff]"},{name:"InSupplementary_Private_Use_Area_A",astral:"[\udb80-\udbbf][\udc00-\udfff]"},{name:"InSupplementary_Private_Use_Area_B",astral:"[\udbc0-\udbff][\udc00-\udfff]"},{name:"InSutton_SignWriting",astral:"\ud836[\udc00-\udeaf]"},{name:"InSyloti_Nagri",bmp:"-"},{name:"InSyriac",bmp:"-"},{name:"InSyriac_Supplement",bmp:"-"},{name:"InTagalog",bmp:"-"},{name:"InTagbanwa",bmp:"-"},{name:"InTags",astral:"\udb40[\udc00-\udc7f]"},{name:"InTai_Le",bmp:"-"},{name:"InTai_Tham",bmp:"-"},{name:"InTai_Viet",bmp:"-"},{name:"InTai_Xuan_Jing_Symbols",astral:"\ud834[\udf00-\udf5f]"},{name:"InTakri",astral:"\ud805[\ude80-\udecf]"},{name:"InTamil",bmp:"-"},{name:"InTangut",astral:"[\ud81c-\ud821][\udc00-\udfff]"},{name:"InTangut_Components",astral:"\ud822[\udc00-\udeff]"},{name:"InTelugu",bmp:"-"},{name:"InThaana",bmp:"-"},{name:"InThai",bmp:"-"},{name:"InTibetan",bmp:"-"},{name:"InTifinagh",bmp:"-"},{name:"InTirhuta",astral:"\ud805[\udc80-\udcdf]"},{name:"InTransport_And_Map_Symbols",astral:"\ud83d[\ude80-\udeff]"},{name:"InUgaritic",astral:"\ud800[\udf80-\udf9f]"},{name:"InUnified_Canadian_Aboriginal_Syllabics",bmp:"-"},{name:"InUnified_Canadian_Aboriginal_Syllabics_Extended",bmp:"-"},{name:"InVai",bmp:"-"},{name:"InVariation_Selectors",bmp:"-"},{name:"InVariation_Selectors_Supplement",astral:"\udb40[\udd00-\uddef]"},{name:"InVedic_Extensions",bmp:"-"},{name:"InVertical_Forms",bmp:"-"},{name:"InWarang_Citi",astral:"\ud806[\udca0-\udcff]"},{name:"InYi_Radicals",bmp:"-"},{name:"InYi_Syllables",bmp:"-"},{name:"InYijing_Hexagram_Symbols",bmp:"-"},{name:"InZanabazar_Square",astral:"\ud806[\ude00-\ude4f]"},{name:"Inundefined",astral:"\ud803[\udfe0-\udfff]|\ud806[\udda0-\uddff]|\ud807[\udfc0-\udfff]|\ud80d[\udc30-\udc3f]|\ud82c[\udd30-\udd6f]|\ud838[\udd00-\udd4f\udec0-\udeff]|\ud83b[\udd00-\udd4f]|\ud83e[\ude70-\udeff]"}]},{}],214:[function(require,module,exports){module.exports=[{name:"C",alias:"Other",isBmpLast:!0,bmp:"\0---------------------------------------------------------------------------------------------------------------------------------------------",astral:"\ud800[\udc0c\udc27\udc3b\udc3e\udc4e\udc4f\udc5e-\udc7f\udcfb-\udcff\udd03-\udd06\udd34-\udd36\udd8f\udd9c-\udd9f\udda1-\uddcf\uddfe-\ude7f\ude9d-\ude9f\uded1-\udedf\udefc-\udeff\udf24-\udf2c\udf4b-\udf4f\udf7b-\udf7f\udf9e\udfc4-\udfc7\udfd6-\udfff]|\ud801[\udc9e\udc9f\udcaa-\udcaf\udcd4-\udcd7\udcfc-\udcff\udd28-\udd2f\udd64-\udd6e\udd70-\uddff\udf37-\udf3f\udf56-\udf5f\udf68-\udfff]|\ud802[\udc06\udc07\udc09\udc36\udc39-\udc3b\udc3d\udc3e\udc56\udc9f-\udca6\udcb0-\udcdf\udcf3\udcf6-\udcfa\udd1c-\udd1e\udd3a-\udd3e\udd40-\udd7f\uddb8-\uddbb\uddd0\uddd1\ude04\ude07-\ude0b\ude14\ude18\ude36\ude37\ude3b-\ude3e\ude49-\ude4f\ude59-\ude5f\udea0-\udebf\udee7-\udeea\udef7-\udeff\udf36-\udf38\udf56\udf57\udf73-\udf77\udf92-\udf98\udf9d-\udfa8\udfb0-\udfff]|\ud803[\udc49-\udc7f\udcb3-\udcbf\udcf3-\udcf9\udd28-\udd2f\udd3a-\ude5f\ude7f-\udeff\udf28-\udf2f\udf5a-\udfdf\udff7-\udfff]|\ud804[\udc4e-\udc51\udc70-\udc7e\udcbd\udcc2-\udccf\udce9-\udcef\udcfa-\udcff\udd35\udd47-\udd4f\udd77-\udd7f\uddce\uddcf\udde0\uddf5-\uddff\ude12\ude3f-\ude7f\ude87\ude89\ude8e\ude9e\udeaa-\udeaf\udeeb-\udeef\udefa-\udeff\udf04\udf0d\udf0e\udf11\udf12\udf29\udf31\udf34\udf3a\udf45\udf46\udf49\udf4a\udf4e\udf4f\udf51-\udf56\udf58-\udf5c\udf64\udf65\udf6d-\udf6f\udf75-\udfff]|\ud805[\udc5a\udc5c\udc60-\udc7f\udcc8-\udccf\udcda-\udd7f\uddb6\uddb7\uddde-\uddff\ude45-\ude4f\ude5a-\ude5f\ude6d-\ude7f\udeb9-\udebf\udeca-\udeff\udf1b\udf1c\udf2c-\udf2f\udf40-\udfff]|\ud806[\udc3c-\udc9f\udcf3-\udcfe\udd00-\udd9f\udda8\udda9\uddd8\uddd9\udde5-\uddff\ude48-\ude4f\udea3-\udebf\udef9-\udfff]|\ud807[\udc09\udc37\udc46-\udc4f\udc6d-\udc6f\udc90\udc91\udca8\udcb7-\udcff\udd07\udd0a\udd37-\udd39\udd3b\udd3e\udd48-\udd4f\udd5a-\udd5f\udd66\udd69\udd8f\udd92\udd99-\udd9f\uddaa-\udedf\udef9-\udfbf\udff2-\udffe]|\ud808[\udf9a-\udfff]|\ud809[\udc6f\udc75-\udc7f\udd44-\udfff]|[\ud80a\ud80b\ud80e-\ud810\ud812-\ud819\ud823-\ud82b\ud82d\ud82e\ud830-\ud833\ud837\ud839\ud83f\ud87b-\ud87d\ud87f-\udb3f\udb41-\udbff][\udc00-\udfff]|\ud80d[\udc2f-\udfff]|\ud811[\ude47-\udfff]|\ud81a[\ude39-\ude3f\ude5f\ude6a-\ude6d\ude70-\udecf\udeee\udeef\udef6-\udeff\udf46-\udf4f\udf5a\udf62\udf78-\udf7c\udf90-\udfff]|\ud81b[\udc00-\ude3f\ude9b-\udeff\udf4b-\udf4e\udf88-\udf8e\udfa0-\udfdf\udfe4-\udfff]|\ud821[\udff8-\udfff]|\ud822[\udef3-\udfff]|\ud82c[\udd1f-\udd4f\udd53-\udd63\udd68-\udd6f\udefc-\udfff]|\ud82f[\udc6b-\udc6f\udc7d-\udc7f\udc89-\udc8f\udc9a\udc9b\udca0-\udfff]|\ud834[\udcf6-\udcff\udd27\udd28\udd73-\udd7a\udde9-\uddff\ude46-\udedf\udef4-\udeff\udf57-\udf5f\udf79-\udfff]|\ud835[\udc55\udc9d\udca0\udca1\udca3\udca4\udca7\udca8\udcad\udcba\udcbc\udcc4\udd06\udd0b\udd0c\udd15\udd1d\udd3a\udd3f\udd45\udd47-\udd49\udd51\udea6\udea7\udfcc\udfcd]|\ud836[\ude8c-\ude9a\udea0\udeb0-\udfff]|\ud838[\udc07\udc19\udc1a\udc22\udc25\udc2b-\udcff\udd2d-\udd2f\udd3e\udd3f\udd4a-\udd4d\udd50-\udebf\udefa-\udefe\udf00-\udfff]|\ud83a[\udcc5\udcc6\udcd7-\udcff\udd4c-\udd4f\udd5a-\udd5d\udd60-\udfff]|\ud83b[\udc00-\udc70\udcb5-\udd00\udd3e-\uddff\ude04\ude20\ude23\ude25\ude26\ude28\ude33\ude38\ude3a\ude3c-\ude41\ude43-\ude46\ude48\ude4a\ude4c\ude50\ude53\ude55\ude56\ude58\ude5a\ude5c\ude5e\ude60\ude63\ude65\ude66\ude6b\ude73\ude78\ude7d\ude7f\ude8a\ude9c-\udea0\udea4\udeaa\udebc-\udeef\udef2-\udfff]|\ud83c[\udc2c-\udc2f\udc94-\udc9f\udcaf\udcb0\udcc0\udcd0\udcf6-\udcff\udd0d-\udd0f\udd6d-\udd6f\uddad-\udde5\ude03-\ude0f\ude3c-\ude3f\ude49-\ude4f\ude52-\ude5f\ude66-\udeff]|\ud83d[\uded6-\udedf\udeed-\udeef\udefb-\udeff\udf74-\udf7f\udfd9-\udfdf\udfec-\udfff]|\ud83e[\udc0c-\udc0f\udc48-\udc4f\udc5a-\udc5f\udc88-\udc8f\udcae-\udcff\udd0c\udd72\udd77-\udd79\udda3\udda4\uddab-\uddad\uddcb\uddcc\ude54-\ude5f\ude6e\ude6f\ude74-\ude77\ude7b-\ude7f\ude83-\ude8f\ude96-\udfff]|\ud869[\uded7-\udeff]|\ud86d[\udf35-\udf3f]|\ud86e[\udc1e\udc1f]|\ud873[\udea2-\udeaf]|\ud87a[\udfe1-\udfff]|\ud87e[\ude1e-\udfff]|\udb40[\udc00-\udcff\uddf0-\udfff]"},{name:"Cc",alias:"Control",bmp:"\0--"},{name:"Cf",alias:"Format",bmp:"-----\ufeff-",astral:"\ud804[\udcbd\udccd]|\ud80d[\udc30-\udc38]|\ud82f[\udca0-\udca3]|\ud834[\udd73-\udd7a]|\udb40[\udc01\udc20-\udc7f]"},{name:"Cn",alias:"Unassigned",bmp:"---------------------------------------------------------------------------------------------------------------------------------------",astral:"\ud800[\udc0c\udc27\udc3b\udc3e\udc4e\udc4f\udc5e-\udc7f\udcfb-\udcff\udd03-\udd06\udd34-\udd36\udd8f\udd9c-\udd9f\udda1-\uddcf\uddfe-\ude7f\ude9d-\ude9f\uded1-\udedf\udefc-\udeff\udf24-\udf2c\udf4b-\udf4f\udf7b-\udf7f\udf9e\udfc4-\udfc7\udfd6-\udfff]|\ud801[\udc9e\udc9f\udcaa-\udcaf\udcd4-\udcd7\udcfc-\udcff\udd28-\udd2f\udd64-\udd6e\udd70-\uddff\udf37-\udf3f\udf56-\udf5f\udf68-\udfff]|\ud802[\udc06\udc07\udc09\udc36\udc39-\udc3b\udc3d\udc3e\udc56\udc9f-\udca6\udcb0-\udcdf\udcf3\udcf6-\udcfa\udd1c-\udd1e\udd3a-\udd3e\udd40-\udd7f\uddb8-\uddbb\uddd0\uddd1\ude04\ude07-\ude0b\ude14\ude18\ude36\ude37\ude3b-\ude3e\ude49-\ude4f\ude59-\ude5f\udea0-\udebf\udee7-\udeea\udef7-\udeff\udf36-\udf38\udf56\udf57\udf73-\udf77\udf92-\udf98\udf9d-\udfa8\udfb0-\udfff]|\ud803[\udc49-\udc7f\udcb3-\udcbf\udcf3-\udcf9\udd28-\udd2f\udd3a-\ude5f\ude7f-\udeff\udf28-\udf2f\udf5a-\udfdf\udff7-\udfff]|\ud804[\udc4e-\udc51\udc70-\udc7e\udcc2-\udccc\udcce\udccf\udce9-\udcef\udcfa-\udcff\udd35\udd47-\udd4f\udd77-\udd7f\uddce\uddcf\udde0\uddf5-\uddff\ude12\ude3f-\ude7f\ude87\ude89\ude8e\ude9e\udeaa-\udeaf\udeeb-\udeef\udefa-\udeff\udf04\udf0d\udf0e\udf11\udf12\udf29\udf31\udf34\udf3a\udf45\udf46\udf49\udf4a\udf4e\udf4f\udf51-\udf56\udf58-\udf5c\udf64\udf65\udf6d-\udf6f\udf75-\udfff]|\ud805[\udc5a\udc5c\udc60-\udc7f\udcc8-\udccf\udcda-\udd7f\uddb6\uddb7\uddde-\uddff\ude45-\ude4f\ude5a-\ude5f\ude6d-\ude7f\udeb9-\udebf\udeca-\udeff\udf1b\udf1c\udf2c-\udf2f\udf40-\udfff]|\ud806[\udc3c-\udc9f\udcf3-\udcfe\udd00-\udd9f\udda8\udda9\uddd8\uddd9\udde5-\uddff\ude48-\ude4f\udea3-\udebf\udef9-\udfff]|\ud807[\udc09\udc37\udc46-\udc4f\udc6d-\udc6f\udc90\udc91\udca8\udcb7-\udcff\udd07\udd0a\udd37-\udd39\udd3b\udd3e\udd48-\udd4f\udd5a-\udd5f\udd66\udd69\udd8f\udd92\udd99-\udd9f\uddaa-\udedf\udef9-\udfbf\udff2-\udffe]|\ud808[\udf9a-\udfff]|\ud809[\udc6f\udc75-\udc7f\udd44-\udfff]|[\ud80a\ud80b\ud80e-\ud810\ud812-\ud819\ud823-\ud82b\ud82d\ud82e\ud830-\ud833\ud837\ud839\ud83f\ud87b-\ud87d\ud87f-\udb3f\udb41-\udb7f][\udc00-\udfff]|\ud80d[\udc2f\udc39-\udfff]|\ud811[\ude47-\udfff]|\ud81a[\ude39-\ude3f\ude5f\ude6a-\ude6d\ude70-\udecf\udeee\udeef\udef6-\udeff\udf46-\udf4f\udf5a\udf62\udf78-\udf7c\udf90-\udfff]|\ud81b[\udc00-\ude3f\ude9b-\udeff\udf4b-\udf4e\udf88-\udf8e\udfa0-\udfdf\udfe4-\udfff]|\ud821[\udff8-\udfff]|\ud822[\udef3-\udfff]|\ud82c[\udd1f-\udd4f\udd53-\udd63\udd68-\udd6f\udefc-\udfff]|\ud82f[\udc6b-\udc6f\udc7d-\udc7f\udc89-\udc8f\udc9a\udc9b\udca4-\udfff]|\ud834[\udcf6-\udcff\udd27\udd28\udde9-\uddff\ude46-\udedf\udef4-\udeff\udf57-\udf5f\udf79-\udfff]|\ud835[\udc55\udc9d\udca0\udca1\udca3\udca4\udca7\udca8\udcad\udcba\udcbc\udcc4\udd06\udd0b\udd0c\udd15\udd1d\udd3a\udd3f\udd45\udd47-\udd49\udd51\udea6\udea7\udfcc\udfcd]|\ud836[\ude8c-\ude9a\udea0\udeb0-\udfff]|\ud838[\udc07\udc19\udc1a\udc22\udc25\udc2b-\udcff\udd2d-\udd2f\udd3e\udd3f\udd4a-\udd4d\udd50-\udebf\udefa-\udefe\udf00-\udfff]|\ud83a[\udcc5\udcc6\udcd7-\udcff\udd4c-\udd4f\udd5a-\udd5d\udd60-\udfff]|\ud83b[\udc00-\udc70\udcb5-\udd00\udd3e-\uddff\ude04\ude20\ude23\ude25\ude26\ude28\ude33\ude38\ude3a\ude3c-\ude41\ude43-\ude46\ude48\ude4a\ude4c\ude50\ude53\ude55\ude56\ude58\ude5a\ude5c\ude5e\ude60\ude63\ude65\ude66\ude6b\ude73\ude78\ude7d\ude7f\ude8a\ude9c-\udea0\udea4\udeaa\udebc-\udeef\udef2-\udfff]|\ud83c[\udc2c-\udc2f\udc94-\udc9f\udcaf\udcb0\udcc0\udcd0\udcf6-\udcff\udd0d-\udd0f\udd6d-\udd6f\uddad-\udde5\ude03-\ude0f\ude3c-\ude3f\ude49-\ude4f\ude52-\ude5f\ude66-\udeff]|\ud83d[\uded6-\udedf\udeed-\udeef\udefb-\udeff\udf74-\udf7f\udfd9-\udfdf\udfec-\udfff]|\ud83e[\udc0c-\udc0f\udc48-\udc4f\udc5a-\udc5f\udc88-\udc8f\udcae-\udcff\udd0c\udd72\udd77-\udd79\udda3\udda4\uddab-\uddad\uddcb\uddcc\ude54-\ude5f\ude6e\ude6f\ude74-\ude77\ude7b-\ude7f\ude83-\ude8f\ude96-\udfff]|\ud869[\uded7-\udeff]|\ud86d[\udf35-\udf3f]|\ud86e[\udc1e\udc1f]|\ud873[\udea2-\udeaf]|\ud87a[\udfe1-\udfff]|\ud87e[\ude1e-\udfff]|\udb40[\udc00\udc02-\udc1f\udc80-\udcff\uddf0-\udfff]|[\udbbf\udbff][\udffe\udfff]"},{name:"Co",alias:"Private_Use",bmp:"-",astral:"[\udb80-\udbbe\udbc0-\udbfe][\udc00-\udfff]|[\udbbf\udbff][\udc00-\udffd]"},{name:"Cs",alias:"Surrogate",bmp:"\ud800-\udfff"},{name:"L",alias:"Letter",bmp:"A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf40\udf42-\udf49\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc80-\udd43]|[\ud80c\ud81c-\ud820\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0\udfe1\udfe3]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]"},{name:"LC",alias:"Cased_Letter",bmp:"A-Za-z-------------------------------------------------------------------",astral:"\ud801[\udc00-\udc4f\udcb0-\udcd3\udcd8-\udcfb]|\ud803[\udc80-\udcb2\udcc0-\udcf2]|\ud806[\udca0-\udcdf]|\ud81b[\ude40-\ude7f]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud83a[\udd00-\udd43]"},{name:"Ll",alias:"Lowercase_Letter",bmp:"a-z---------------------------------------------------",astral:"\ud801[\udc28-\udc4f\udcd8-\udcfb]|\ud803[\udcc0-\udcf2]|\ud806[\udcc0-\udcdf]|\ud81b[\ude60-\ude7f]|\ud835[\udc1a-\udc33\udc4e-\udc54\udc56-\udc67\udc82-\udc9b\udcb6-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udccf\udcea-\udd03\udd1e-\udd37\udd52-\udd6b\udd86-\udd9f\uddba-\uddd3\uddee-\ude07\ude22-\ude3b\ude56-\ude6f\ude8a-\udea5\udec2-\udeda\udedc-\udee1\udefc-\udf14\udf16-\udf1b\udf36-\udf4e\udf50-\udf55\udf70-\udf88\udf8a-\udf8f\udfaa-\udfc2\udfc4-\udfc9\udfcb]|\ud83a[\udd22-\udd43]"},{name:"Lm",alias:"Modifier_Letter",bmp:"------------",astral:"\ud81a[\udf40-\udf43]|\ud81b[\udf93-\udf9f\udfe0\udfe1\udfe3]|\ud838[\udd37-\udd3d]|"},{name:"Lo",alias:"Other_Letter",bmp:"---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf40\udf42-\udf49\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc50-\udc9d\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc80-\udd43]|[\ud80c\ud81c-\ud820\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf4a\udf50]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud838[\udd00-\udd2c\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]"},{name:"Lt",alias:"Titlecase_Letter",bmp:"---"},{name:"Lu",alias:"Uppercase_Letter",bmp:"A-Z------------------------------------------",astral:"\ud801[\udc00-\udc27\udcb0-\udcd3]|\ud803[\udc80-\udcb2]|\ud806[\udca0-\udcbf]|\ud81b[\ude40-\ude5f]|\ud835[\udc00-\udc19\udc34-\udc4d\udc68-\udc81\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb5\udcd0-\udce9\udd04\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd38\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd6c-\udd85\udda0-\uddb9\uddd4-\udded\ude08-\ude21\ude3c-\ude55\ude70-\ude89\udea8-\udec0\udee2-\udefa\udf1c-\udf34\udf56-\udf6e\udf90-\udfa8\udfca]|\ud83a[\udd00-\udd21]"},{name:"M",alias:"Mark",bmp:"--------------------------------------------------------------------------------------------------------------",astral:"\ud800[\uddfd\udee0\udf76-\udf7a]|\ud802[\ude01-\ude03\ude05\ude06\ude0c-\ude0f\ude38-\ude3a\ude3f\udee5\udee6]|\ud803[\udd24-\udd27\udf46-\udf50]|\ud804[\udc00-\udc02\udc38-\udc46\udc7f-\udc82\udcb0-\udcba\udd00-\udd02\udd27-\udd34\udd45\udd46\udd73\udd80-\udd82\uddb3-\uddc0\uddc9-\uddcc\ude2c-\ude37\ude3e\udedf-\udeea\udf00-\udf03\udf3b\udf3c\udf3e-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf62\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc35-\udc46\udc5e\udcb0-\udcc3\uddaf-\uddb5\uddb8-\uddc0\udddc\udddd\ude30-\ude40\udeab-\udeb7\udf1d-\udf2b]|\ud806[\udc2c-\udc3a\uddd1-\uddd7\uddda-\udde0\udde4\ude01-\ude0a\ude33-\ude39\ude3b-\ude3e\ude47\ude51-\ude5b\ude8a-\ude99]|\ud807[\udc2f-\udc36\udc38-\udc3f\udc92-\udca7\udca9-\udcb6\udd31-\udd36\udd3a\udd3c\udd3d\udd3f-\udd45\udd47\udd8a-\udd8e\udd90\udd91\udd93-\udd97\udef3-\udef6]|\ud81a[\udef0-\udef4\udf30-\udf36]|\ud81b[\udf4f\udf51-\udf87\udf8f-\udf92]|\ud82f[\udc9d\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a\udd30-\udd36\udeec-\udeef]|\ud83a[\udcd0-\udcd6\udd44-\udd4a]|\udb40[\udd00-\uddef]"},{name:"Mc",alias:"Spacing_Mark",bmp:"-----------------------------",astral:"\ud804[\udc00\udc02\udc82\udcb0-\udcb2\udcb7\udcb8\udd2c\udd45\udd46\udd82\uddb3-\uddb5\uddbf\uddc0\ude2c-\ude2e\ude32\ude33\ude35\udee0-\udee2\udf02\udf03\udf3e\udf3f\udf41-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf62\udf63]|\ud805[\udc35-\udc37\udc40\udc41\udc45\udcb0-\udcb2\udcb9\udcbb-\udcbe\udcc1\uddaf-\uddb1\uddb8-\uddbb\uddbe\ude30-\ude32\ude3b\ude3c\ude3e\udeac\udeae\udeaf\udeb6\udf20\udf21\udf26]|\ud806[\udc2c-\udc2e\udc38\uddd1-\uddd3\udddc-\udddf\udde4\ude39\ude57\ude58\ude97]|\ud807[\udc2f\udc3e\udca9\udcb1\udcb4\udd8a-\udd8e\udd93\udd94\udd96\udef5\udef6]|\ud81b[\udf51-\udf87]|\ud834[\udd65\udd66\udd6d-\udd72]"},{name:"Me",alias:"Enclosing_Mark",bmp:"---"},{name:"Mn",alias:"Nonspacing_Mark",bmp:"---------------------------------------------------------------------------------",astral:"\ud800[\uddfd\udee0\udf76-\udf7a]|\ud802[\ude01-\ude03\ude05\ude06\ude0c-\ude0f\ude38-\ude3a\ude3f\udee5\udee6]|\ud803[\udd24-\udd27\udf46-\udf50]|\ud804[\udc01\udc38-\udc46\udc7f-\udc81\udcb3-\udcb6\udcb9\udcba\udd00-\udd02\udd27-\udd2b\udd2d-\udd34\udd73\udd80\udd81\uddb6-\uddbe\uddc9-\uddcc\ude2f-\ude31\ude34\ude36\ude37\ude3e\udedf\udee3-\udeea\udf00\udf01\udf3b\udf3c\udf40\udf66-\udf6c\udf70-\udf74]|\ud805[\udc38-\udc3f\udc42-\udc44\udc46\udc5e\udcb3-\udcb8\udcba\udcbf\udcc0\udcc2\udcc3\uddb2-\uddb5\uddbc\uddbd\uddbf\uddc0\udddc\udddd\ude33-\ude3a\ude3d\ude3f\ude40\udeab\udead\udeb0-\udeb5\udeb7\udf1d-\udf1f\udf22-\udf25\udf27-\udf2b]|\ud806[\udc2f-\udc37\udc39\udc3a\uddd4-\uddd7\uddda\udddb\udde0\ude01-\ude0a\ude33-\ude38\ude3b-\ude3e\ude47\ude51-\ude56\ude59-\ude5b\ude8a-\ude96\ude98\ude99]|\ud807[\udc30-\udc36\udc38-\udc3d\udc3f\udc92-\udca7\udcaa-\udcb0\udcb2\udcb3\udcb5\udcb6\udd31-\udd36\udd3a\udd3c\udd3d\udd3f-\udd45\udd47\udd90\udd91\udd95\udd97\udef3\udef4]|\ud81a[\udef0-\udef4\udf30-\udf36]|\ud81b[\udf4f\udf8f-\udf92]|\ud82f[\udc9d\udc9e]|\ud834[\udd67-\udd69\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a\udd30-\udd36\udeec-\udeef]|\ud83a[\udcd0-\udcd6\udd44-\udd4a]|\udb40[\udd00-\uddef]"},{name:"N",alias:"Number",bmp:"0-9-------------------------------------------------------------",astral:"\ud800[\udd07-\udd33\udd40-\udd78\udd8a\udd8b\udee1-\udefb\udf20-\udf23\udf41\udf4a\udfd1-\udfd5]|\ud801[\udca0-\udca9]|\ud802[\udc58-\udc5f\udc79-\udc7f\udca7-\udcaf\udcfb-\udcff\udd16-\udd1b\uddbc\uddbd\uddc0-\uddcf\uddd2-\uddff\ude40-\ude48\ude7d\ude7e\ude9d-\ude9f\udeeb-\udeef\udf58-\udf5f\udf78-\udf7f\udfa9-\udfaf]|\ud803[\udcfa-\udcff\udd30-\udd39\ude60-\ude7e\udf1d-\udf26\udf51-\udf54]|\ud804[\udc52-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udde1-\uddf4\udef0-\udef9]|\ud805[\udc50-\udc59\udcd0-\udcd9\ude50-\ude59\udec0-\udec9\udf30-\udf3b]|\ud806[\udce0-\udcf2]|\ud807[\udc50-\udc6c\udd50-\udd59\udda0-\udda9\udfc0-\udfd4]|\ud809[\udc00-\udc6e]|\ud81a[\ude60-\ude69\udf50-\udf59\udf5b-\udf61]|\ud81b[\ude80-\ude96]|\ud834[\udee0-\udef3\udf60-\udf78]|\ud835[\udfce-\udfff]|\ud838[\udd40-\udd49\udef0-\udef9]|\ud83a[\udcc7-\udccf\udd50-\udd59]|\ud83b[\udc71-\udcab\udcad-\udcaf\udcb1-\udcb4\udd01-\udd2d\udd2f-\udd3d]|\ud83c[\udd00-\udd0c]"},{name:"Nd",alias:"Decimal_Number",bmp:"0-9------------------------------------",astral:"\ud801[\udca0-\udca9]|\ud803[\udd30-\udd39]|\ud804[\udc66-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udef0-\udef9]|\ud805[\udc50-\udc59\udcd0-\udcd9\ude50-\ude59\udec0-\udec9\udf30-\udf39]|\ud806[\udce0-\udce9]|\ud807[\udc50-\udc59\udd50-\udd59\udda0-\udda9]|\ud81a[\ude60-\ude69\udf50-\udf59]|\ud835[\udfce-\udfff]|\ud838[\udd40-\udd49\udef0-\udef9]|\ud83a[\udd50-\udd59]"},{name:"Nl",alias:"Letter_Number",bmp:"------",astral:"\ud800[\udd40-\udd74\udf41\udf4a\udfd1-\udfd5]|\ud809[\udc00-\udc6e]"},{name:"No",alias:"Other_Number",bmp:"-----------------------",astral:"\ud800[\udd07-\udd33\udd75-\udd78\udd8a\udd8b\udee1-\udefb\udf20-\udf23]|\ud802[\udc58-\udc5f\udc79-\udc7f\udca7-\udcaf\udcfb-\udcff\udd16-\udd1b\uddbc\uddbd\uddc0-\uddcf\uddd2-\uddff\ude40-\ude48\ude7d\ude7e\ude9d-\ude9f\udeeb-\udeef\udf58-\udf5f\udf78-\udf7f\udfa9-\udfaf]|\ud803[\udcfa-\udcff\ude60-\ude7e\udf1d-\udf26\udf51-\udf54]|\ud804[\udc52-\udc65\udde1-\uddf4]|\ud805[\udf3a\udf3b]|\ud806[\udcea-\udcf2]|\ud807[\udc5a-\udc6c\udfc0-\udfd4]|\ud81a[\udf5b-\udf61]|\ud81b[\ude80-\ude96]|\ud834[\udee0-\udef3\udf60-\udf78]|\ud83a[\udcc7-\udccf]|\ud83b[\udc71-\udcab\udcad-\udcaf\udcb1-\udcb4\udd01-\udd2d\udd2f-\udd3d]|\ud83c[\udd00-\udd0c]"},{name:"P",alias:"Punctuation",bmp:"!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}-------------------------------------------------",astral:"\ud800[\udd00-\udd02\udf9f\udfd0]||\ud802[\udc57\udd1f\udd3f\ude50-\ude58\ude7f\udef0-\udef6\udf39-\udf3f\udf99-\udf9c]|\ud803[\udf55-\udf59]|\ud804[\udc47-\udc4d\udcbb\udcbc\udcbe-\udcc1\udd40-\udd43\udd74\udd75\uddc5-\uddc8\uddcd\udddb\udddd-\udddf\ude38-\ude3d\udea9]|\ud805[\udc4b-\udc4f\udc5b\udc5d\udcc6\uddc1-\uddd7\ude41-\ude43\ude60-\ude6c\udf3c-\udf3e]|\ud806[\udc3b\udde2\ude3f-\ude46\ude9a-\ude9c\ude9e-\udea2]|\ud807[\udc41-\udc45\udc70\udc71\udef7\udef8\udfff]|\ud809[\udc70-\udc74]|\ud81a[\ude6e\ude6f\udef5\udf37-\udf3b\udf44]|\ud81b[\ude97-\ude9a\udfe2]||\ud836[\ude87-\ude8b]|\ud83a[\udd5e\udd5f]"},{name:"Pc",alias:"Connector_Punctuation",bmp:"_-"},{name:"Pd",alias:"Dash_Punctuation",bmp:"\\--"},{name:"Pe",alias:"Close_Punctuation",bmp:"\\)\\]\\}"},{name:"Pf",alias:"Final_Punctuation",bmp:""},{name:"Pi",alias:"Initial_Punctuation",bmp:""},{name:"Po",alias:"Other_Punctuation",bmp:"!-#%-'\\*,\\.\\/:;\\?@\\-----------------------------------------------",astral:"\ud800[\udd00-\udd02\udf9f\udfd0]||\ud802[\udc57\udd1f\udd3f\ude50-\ude58\ude7f\udef0-\udef6\udf39-\udf3f\udf99-\udf9c]|\ud803[\udf55-\udf59]|\ud804[\udc47-\udc4d\udcbb\udcbc\udcbe-\udcc1\udd40-\udd43\udd74\udd75\uddc5-\uddc8\uddcd\udddb\udddd-\udddf\ude38-\ude3d\udea9]|\ud805[\udc4b-\udc4f\udc5b\udc5d\udcc6\uddc1-\uddd7\ude41-\ude43\ude60-\ude6c\udf3c-\udf3e]|\ud806[\udc3b\udde2\ude3f-\ude46\ude9a-\ude9c\ude9e-\udea2]|\ud807[\udc41-\udc45\udc70\udc71\udef7\udef8\udfff]|\ud809[\udc70-\udc74]|\ud81a[\ude6e\ude6f\udef5\udf37-\udf3b\udf44]|\ud81b[\ude97-\ude9a\udfe2]||\ud836[\ude87-\ude8b]|\ud83a[\udd5e\udd5f]"},{name:"Ps",alias:"Open_Punctuation",bmp:"\\(\\[\\{"},{name:"S",alias:"Symbol",bmp:"\\$\\+<->\\^`\\|~--------------------------------------------------------------------",astral:"\ud800[\udd37-\udd3f\udd79-\udd89\udd8c-\udd8e\udd90-\udd9b\udda0\uddd0-\uddfc]|\ud802[\udc77\udc78\udec8]||\ud807[\udfd5-\udff1]|\ud81a[\udf3c-\udf3f\udf45]||\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd64\udd6a-\udd6c\udd83\udd84\udd8c-\udda9\uddae-\udde8\ude00-\ude41\ude45\udf00-\udf56]|\ud835[\udec1\udedb\udefb\udf15\udf35\udf4f\udf6f\udf89\udfa9\udfc3]|\ud836[\udc00-\uddff\ude37-\ude3a\ude6d-\ude74\ude76-\ude83\ude85\ude86]|\ud838[\udd4f\udeff]|\ud83b[\udcac\udcb0\udd2e\udef0\udef1]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd10-\udd6c\udd70-\uddac\udde6-\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udfff]|\ud83d[\udc00-\uded5\udee0-\udeec\udef0-\udefa\udf00-\udf73\udf80-\udfd8\udfe0-\udfeb]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udd00-\udd0b\udd0d-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddca\uddcd-\ude53\ude60-\ude6d\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]"},{name:"Sc",alias:"Currency_Symbol",bmp:"\\$--",astral:"\ud807[\udfdd-\udfe0]||"},{name:"Sk",alias:"Modifier_Symbol",bmp:"\\^`----------",astral:"\ud83c[\udffb-\udfff]"},{name:"Sm",alias:"Math_Symbol",bmp:"\\+<->\\|~---------------------",astral:"\ud835[\udec1\udedb\udefb\udf15\udf35\udf4f\udf6f\udf89\udfa9\udfc3]|\ud83b[\udef0\udef1]"},{name:"So",alias:"Other_Symbol",bmp:"------------------------------------------------------",astral:"\ud800[\udd37-\udd3f\udd79-\udd89\udd8c-\udd8e\udd90-\udd9b\udda0\uddd0-\uddfc]|\ud802[\udc77\udc78\udec8]||\ud807[\udfd5-\udfdc\udfe1-\udff1]|\ud81a[\udf3c-\udf3f\udf45]||\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd64\udd6a-\udd6c\udd83\udd84\udd8c-\udda9\uddae-\udde8\ude00-\ude41\ude45\udf00-\udf56]|\ud836[\udc00-\uddff\ude37-\ude3a\ude6d-\ude74\ude76-\ude83\ude85\ude86]||\ud83b[\udcac\udd2e]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd10-\udd6c\udd70-\uddac\udde6-\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udffa]|\ud83d[\udc00-\uded5\udee0-\udeec\udef0-\udefa\udf00-\udf73\udf80-\udfd8\udfe0-\udfeb]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udd00-\udd0b\udd0d-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddca\uddcd-\ude53\ude60-\ude6d\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]"},{name:"Z",alias:"Separator",bmp:" -\u2028\u2029"},{name:"Zl",alias:"Line_Separator",bmp:"\u2028"},{name:"Zp",alias:"Paragraph_Separator",bmp:"\u2029"},{name:"Zs",alias:"Space_Separator",bmp:" -"}]},{}],215:[function(require,module,exports){module.exports=[{name:"ASCII",bmp:"\0-"},{name:"Alphabetic",bmp:"A-Za-z-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc00-\udc45\udc82-\udcb8\udcd0-\udce8\udd00-\udd32\udd44-\udd46\udd50-\udd72\udd76\udd80-\uddbf\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude34\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udee8\udf00-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d-\udf44\udf47\udf48\udf4b\udf4c\udf50\udf57\udf5d-\udf63]|\ud805[\udc00-\udc41\udc43-\udc45\udc47-\udc4a\udc5f\udc80-\udcc1\udcc4\udcc5\udcc7\udd80-\uddb5\uddb8-\uddbe\uddd8-\udddd\ude00-\ude3e\ude40\ude44\ude80-\udeb5\udeb8\udf00-\udf1a\udf1d-\udf2a]|\ud806[\udc00-\udc38\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udddf\udde1\udde3\udde4\ude00-\ude32\ude35-\ude3e\ude50-\ude97\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc3e\udc40\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08\udd09\udd0b-\udd36\udd3a\udd3c\udd3d\udd3f-\udd41\udd43\udd46\udd47\udd60-\udd65\udd67\udd68\udd6a-\udd8e\udd90\udd91\udd93-\udd96\udd98\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|[\ud80c\ud81c-\ud820\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0\udfe1\udfe3]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9e]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd47\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud83c[\udd30-\udd49\udd50-\udd69\udd70-\udd89]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]"},{name:"Any",isBmpLast:!0,bmp:"\0-",astral:"[\ud800-\udbff][\udc00-\udfff]"},{name:"Default_Ignorable_Code_Point",bmp:"-----\ufeff-",astral:"\ud82f[\udca0-\udca3]|\ud834[\udd73-\udd7a]|[\udb40-\udb43][\udc00-\udfff]"},{name:"Lowercase",bmp:"a-z-------------------------------------------------------",astral:"\ud801[\udc28-\udc4f\udcd8-\udcfb]|\ud803[\udcc0-\udcf2]|\ud806[\udcc0-\udcdf]|\ud81b[\ude60-\ude7f]|\ud835[\udc1a-\udc33\udc4e-\udc54\udc56-\udc67\udc82-\udc9b\udcb6-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udccf\udcea-\udd03\udd1e-\udd37\udd52-\udd6b\udd86-\udd9f\uddba-\uddd3\uddee-\ude07\ude22-\ude3b\ude56-\ude6f\ude8a-\udea5\udec2-\udeda\udedc-\udee1\udefc-\udf14\udf16-\udf1b\udf36-\udf4e\udf50-\udf55\udf70-\udf88\udf8a-\udf8f\udfaa-\udfc2\udfc4-\udfc9\udfcb]|\ud83a[\udd22-\udd43]"},{name:"Noncharacter_Code_Point",bmp:"-",astral:"[\ud83f\ud87f\ud8bf\ud8ff\ud93f\ud97f\ud9bf\ud9ff\uda3f\uda7f\udabf\udaff\udb3f\udb7f\udbbf\udbff][\udffe\udfff]"},{name:"Uppercase",bmp:"A-Z--------------------------------------------",astral:"\ud801[\udc00-\udc27\udcb0-\udcd3]|\ud803[\udc80-\udcb2]|\ud806[\udca0-\udcbf]|\ud81b[\ude40-\ude5f]|\ud835[\udc00-\udc19\udc34-\udc4d\udc68-\udc81\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb5\udcd0-\udce9\udd04\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd38\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd6c-\udd85\udda0-\uddb9\uddd4-\udded\ude08-\ude21\ude3c-\ude55\ude70-\ude89\udea8-\udec0\udee2-\udefa\udf1c-\udf34\udf56-\udf6e\udf90-\udfa8\udfca]|\ud83a[\udd00-\udd21]|\ud83c[\udd30-\udd49\udd50-\udd69\udd70-\udd89]"},{name:"White_Space",bmp:"\t-\r -\u2028\u2029"}]},{}],216:[function(require,module,exports){module.exports=[{name:"Adlam",astral:"\ud83a[\udd00-\udd4b\udd50-\udd59\udd5e\udd5f]"},{name:"Ahom",astral:"\ud805[\udf00-\udf1a\udf1d-\udf2b\udf30-\udf3f]"},{name:"Anatolian_Hieroglyphs",astral:"\ud811[\udc00-\ude46]"},{name:"Arabic",bmp:"--------------------",astral:"\ud803[\ude60-\ude7e]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb\udef0\udef1]"},{name:"Armenian",bmp:"----"},{name:"Avestan",astral:"\ud802[\udf00-\udf35\udf39-\udf3f]"},{name:"Balinese",bmp:"--"},{name:"Bamum",bmp:"-",astral:"\ud81a[\udc00-\ude38]"},{name:"Bassa_Vah",astral:"\ud81a[\uded0-\udeed\udef0-\udef5]"},{name:"Batak",bmp:"--"},{name:"Bengali",bmp:"---------"},{name:"Bhaiksuki",astral:"\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc45\udc50-\udc6c]"},{name:"Bopomofo",bmp:"--"},{name:"Brahmi",astral:"\ud804[\udc00-\udc4d\udc52-\udc6f\udc7f]"},{name:"Braille",bmp:"-"},{name:"Buginese",bmp:"-"},{name:"Buhid",bmp:"-"},{name:"Canadian_Aboriginal",bmp:"--"},{name:"Carian",astral:"\ud800[\udea0-\uded0]"},{name:"Caucasian_Albanian",astral:"\ud801[\udd30-\udd63\udd6f]"},{name:"Chakma",astral:"\ud804[\udd00-\udd34\udd36-\udd46]"},{name:"Cham",bmp:"----"},{name:"Cherokee",bmp:"---"},{name:"Common",bmp:"\0-@\\[-`\\{------------------------------------------------\ufeff------",astral:"\ud800[\udd00-\udd02\udd07-\udd33\udd37-\udd3f\udd90-\udd9b\uddd0-\uddfc\udee1-\udefb]|\ud81b[\udfe2\udfe3]|\ud82f[\udca0-\udca3]|\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd66\udd6a-\udd7a\udd83\udd84\udd8c-\udda9\uddae-\udde8\udee0-\udef3\udf00-\udf56\udf60-\udf78]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udfcb\udfce-\udfff]|\ud83b[\udc71-\udcb4\udd01-\udd3d]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd00-\udd0c\udd10-\udd6c\udd70-\uddac\udde6-\uddff\ude01\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udfff]|\ud83d[\udc00-\uded5\udee0-\udeec\udef0-\udefa\udf00-\udf73\udf80-\udfd8\udfe0-\udfeb]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udd00-\udd0b\udd0d-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddca\uddcd-\ude53\ude60-\ude6d\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]|\udb40[\udc01\udc20-\udc7f]"},{name:"Coptic",bmp:"---"},{name:"Cuneiform",astral:"\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc70-\udc74\udc80-\udd43]"},{name:"Cypriot",astral:"\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f]"},{name:"Cyrillic",bmp:"-----"},{name:"Deseret",astral:"\ud801[\udc00-\udc4f]"},{name:"Devanagari",bmp:"----"},{name:"Dogra",astral:"\ud806[\udc00-\udc3b]"},{name:"Duployan",astral:"\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9c-\udc9f]"},{name:"Egyptian_Hieroglyphs",astral:"\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e\udc30-\udc38]"},{name:"Elbasan",astral:"\ud801[\udd00-\udd27]"},{name:"Elymaic",astral:"\ud803[\udfe0-\udff6]"},{name:"Ethiopic",bmp:"------------------------------"},{name:"Georgian",bmp:"------"},{name:"Glagolitic",bmp:"--",astral:"\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a]"},{name:"Gothic",astral:"\ud800[\udf30-\udf4a]"},{name:"Grantha",astral:"\ud804[\udf00-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3c-\udf44\udf47\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]"},{name:"Greek",bmp:"-----------------------",astral:"\ud800[\udd40-\udd8e\udda0]|\ud834[\ude00-\ude45]"},{name:"Gujarati",bmp:"------------"},{name:"Gunjala_Gondi",astral:"\ud807[\udd60-\udd65\udd67\udd68\udd6a-\udd8e\udd90\udd91\udd93-\udd98\udda0-\udda9]"},{name:"Gurmukhi",bmp:"--------"},{name:"Han",bmp:"---------",astral:"[\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879][\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]"},{name:"Hangul",bmp:"-------------"},{name:"Hanifi_Rohingya",astral:"\ud803[\udd00-\udd27\udd30-\udd39]"},{name:"Hanunoo",bmp:"-"},{name:"Hatran",astral:"\ud802[\udce0-\udcf2\udcf4\udcf5\udcfb-\udcff]"},{name:"Hebrew",bmp:"------"},{name:"Hiragana",bmp:"--",astral:"\ud82c[\udc01-\udd1e\udd50-\udd52]|"},{name:"Imperial_Aramaic",astral:"\ud802[\udc40-\udc55\udc57-\udc5f]"},{name:"Inherited",bmp:"-------------",astral:"\ud800[\uddfd\udee0]||\ud834[\udd67-\udd69\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad]|\udb40[\udd00-\uddef]"},{name:"Inscriptional_Pahlavi",astral:"\ud802[\udf60-\udf72\udf78-\udf7f]"},{name:"Inscriptional_Parthian",astral:"\ud802[\udf40-\udf55\udf58-\udf5f]"},{name:"Javanese",bmp:"--"},{name:"Kaithi",astral:"\ud804[\udc80-\udcc1\udccd]"},{name:"Kannada",bmp:"----------"},{name:"Katakana",bmp:"-------",astral:"\ud82c[\udc00\udd64-\udd67]"},{name:"Kayah_Li",bmp:"-"},{name:"Kharoshthi",astral:"\ud802[\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f-\ude48\ude50-\ude58]"},{name:"Khmer",bmp:"----"},{name:"Khojki",astral:"\ud804[\ude00-\ude11\ude13-\ude3e]"},{name:"Khudawadi",astral:"\ud804[\udeb0-\udeea\udef0-\udef9]"},{name:"Lao",bmp:"-------"},{name:"Latin",bmp:"A-Za-z----------------------"},{name:"Lepcha",bmp:"---"},{name:"Limbu",bmp:"----"},{name:"Linear_A",astral:"\ud801[\ude00-\udf36\udf40-\udf55\udf60-\udf67]"},{name:"Linear_B",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa]"},{name:"Lisu",bmp:"-"},{name:"Lycian",astral:"\ud800[\ude80-\ude9c]"},{name:"Lydian",astral:"\ud802[\udd20-\udd39\udd3f]"},{name:"Mahajani",astral:"\ud804[\udd50-\udd76]"},{name:"Makasar",astral:"\ud807[\udee0-\udef8]"},{name:"Malayalam",bmp:"--------"},{name:"Mandaic",bmp:"-"},{name:"Manichaean",astral:"\ud802[\udec0-\udee6\udeeb-\udef6]"},{name:"Marchen",astral:"\ud807[\udc70-\udc8f\udc92-\udca7\udca9-\udcb6]"},{name:"Masaram_Gondi",astral:"\ud807[\udd00-\udd06\udd08\udd09\udd0b-\udd36\udd3a\udd3c\udd3d\udd3f-\udd47\udd50-\udd59]"},{name:"Medefaidrin",astral:"\ud81b[\ude40-\ude9a]"},{name:"Meetei_Mayek",bmp:"---"},{name:"Mende_Kikakui",astral:"\ud83a[\udc00-\udcc4\udcc7-\udcd6]"},{name:"Meroitic_Cursive",astral:"\ud802[\udda0-\uddb7\uddbc-\uddcf\uddd2-\uddff]"},{name:"Meroitic_Hieroglyphs",astral:"\ud802[\udd80-\udd9f]"},{name:"Miao",astral:"\ud81b[\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f]"},{name:"Modi",astral:"\ud805[\ude00-\ude44\ude50-\ude59]"},{name:"Mongolian",bmp:"----",astral:"\ud805[\ude60-\ude6c]"},{name:"Mro",astral:"\ud81a[\ude40-\ude5e\ude60-\ude69\ude6e\ude6f]"},{name:"Multani",astral:"\ud804[\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea9]"},{name:"Myanmar",bmp:"---"},{name:"Nabataean",astral:"\ud802[\udc80-\udc9e\udca7-\udcaf]"},{name:"Nandinagari",astral:"\ud806[\udda0-\udda7\uddaa-\uddd7\uddda-\udde4]"},{name:"New_Tai_Lue",bmp:"---"},{name:"Newa",astral:"\ud805[\udc00-\udc59\udc5b\udc5d-\udc5f]"},{name:"Nko",bmp:"--"},{name:"Nushu",astral:"|\ud82c[\udd70-\udefb]"},{name:"Nyiakeng_Puachue_Hmong",astral:"\ud838[\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udd4f]"},{name:"Ogham",bmp:"-"},{name:"Ol_Chiki",bmp:"-"},{name:"Old_Hungarian",astral:"\ud803[\udc80-\udcb2\udcc0-\udcf2\udcfa-\udcff]"},{name:"Old_Italic",astral:"\ud800[\udf00-\udf23\udf2d-\udf2f]"},{name:"Old_North_Arabian",astral:"\ud802[\ude80-\ude9f]"},{name:"Old_Permic",astral:"\ud800[\udf50-\udf7a]"},{name:"Old_Persian",astral:"\ud800[\udfa0-\udfc3\udfc8-\udfd5]"},{name:"Old_Sogdian",astral:"\ud803[\udf00-\udf27]"},{name:"Old_South_Arabian",astral:"\ud802[\ude60-\ude7f]"},{name:"Old_Turkic",astral:"\ud803[\udc00-\udc48]"},{name:"Oriya",bmp:"---------"},{name:"Osage",astral:"\ud801[\udcb0-\udcd3\udcd8-\udcfb]"},{name:"Osmanya",astral:"\ud801[\udc80-\udc9d\udca0-\udca9]"},{name:"Pahawh_Hmong",astral:"\ud81a[\udf00-\udf45\udf50-\udf59\udf5b-\udf61\udf63-\udf77\udf7d-\udf8f]"},{name:"Palmyrene",astral:"\ud802[\udc60-\udc7f]"},{name:"Pau_Cin_Hau",astral:"\ud806[\udec0-\udef8]"},{name:"Phags_Pa",bmp:"-"},{name:"Phoenician",astral:"\ud802[\udd00-\udd1b\udd1f]"},{name:"Psalter_Pahlavi",astral:"\ud802[\udf80-\udf91\udf99-\udf9c\udfa9-\udfaf]"},{name:"Rejang",bmp:"-"},{name:"Runic",bmp:"--"},{name:"Samaritan",bmp:"--"},{name:"Saurashtra",bmp:"--"},{name:"Sharada",astral:"\ud804[\udd80-\uddcd\uddd0-\udddf]"},{name:"Shavian",astral:"\ud801[\udc50-\udc7f]"},{name:"Siddham",astral:"\ud805[\udd80-\uddb5\uddb8-\udddd]"},{name:"SignWriting",astral:"\ud836[\udc00-\ude8b\ude9b-\ude9f\udea1-\udeaf]"},{name:"Sinhala",bmp:"--------",astral:"\ud804[\udde1-\uddf4]"},{name:"Sogdian",astral:"\ud803[\udf30-\udf59]"},{name:"Sora_Sompeng",astral:"\ud804[\udcd0-\udce8\udcf0-\udcf9]"},{name:"Soyombo",astral:"\ud806[\ude50-\udea2]"},{name:"Sundanese",bmp:"--"},{name:"Syloti_Nagri",bmp:"-"},{name:"Syriac",bmp:"----"},{name:"Tagalog",bmp:"--"},{name:"Tagbanwa",bmp:"--"},{name:"Tai_Le",bmp:"--"},{name:"Tai_Tham",bmp:"-----"},{name:"Tai_Viet",bmp:"--"},{name:"Takri",astral:"\ud805[\ude80-\udeb8\udec0-\udec9]"},{name:"Tamil",bmp:"---------",astral:"\ud807[\udfc0-\udff1\udfff]"},{name:"Tangut",astral:"|[\ud81c-\ud820][\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]"},{name:"Telugu",bmp:"-----------"},{name:"Thaana",bmp:"-"},{name:"Thai",bmp:"--"},{name:"Tibetan",bmp:"------"},{name:"Tifinagh",bmp:"-"},{name:"Tirhuta",astral:"\ud805[\udc80-\udcc7\udcd0-\udcd9]"},{name:"Ugaritic",astral:"\ud800[\udf80-\udf9d\udf9f]"},{name:"Vai",bmp:"-"},{name:"Wancho",astral:"\ud838[\udec0-\udef9\udeff]"},{name:"Warang_Citi",astral:"\ud806[\udca0-\udcf2\udcff]"},{name:"Yi",bmp:"--"},{name:"Zanabazar_Square",astral:"\ud806[\ude00-\ude47]"}]},{}],217:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isActor=exports.createDeferredActor=exports.createInvocableActor=exports.createNullActor=void 0;var utils_1=require("./utils"),serviceScope=require("./serviceScope");function createNullActor(id){return{id:id,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},toJSON:function(){return{id:id}}}}function createDeferredActor(entity,id,data){var tempActor=createNullActor(id);return tempActor.deferred=!0,utils_1.isMachine(entity)&&(tempActor.state=serviceScope.provide(void 0,(function(){return(data?entity.withContext(data):entity).initialState}))),tempActor}exports.createNullActor=createNullActor,exports.createInvocableActor=function createInvocableActor(invokeDefinition,machine,context,_event){var _a,invokeSrc=utils_1.toInvokeSource(invokeDefinition.src),serviceCreator=null===(_a=null==machine?void 0:machine.options.services)||void 0===_a?void 0:_a[invokeSrc.type],resolvedData=invokeDefinition.data?utils_1.mapContext(invokeDefinition.data,context,_event):void 0,tempActor=serviceCreator?createDeferredActor(serviceCreator,invokeDefinition.id,resolvedData):createNullActor(invokeDefinition.id);return tempActor.meta=invokeDefinition,tempActor},exports.createDeferredActor=createDeferredActor,exports.isActor=function isActor(item){try{return"function"==typeof item.send}catch(e){return!1}}},{"./serviceScope":233,"./utils":236}],218:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createMachine=exports.Machine=void 0;var StateNode_1=require("./StateNode");exports.Machine=function Machine(config,options,initialContext){void 0===initialContext&&(initialContext=config.context);var resolvedInitialContext="function"==typeof initialContext?initialContext():initialContext;return new StateNode_1.StateNode(config,options,resolvedInitialContext)},exports.createMachine=function createMachine(config,options){var resolvedInitialContext="function"==typeof config.context?config.context():config.context;return new StateNode_1.StateNode(config,options,resolvedInitialContext)}},{"./StateNode":220}],219:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.State=exports.bindActionToState=exports.isState=exports.stateValuesEqual=void 0;var constants_1=require("./constants"),utils_1=require("./utils"),stateUtils_1=require("./stateUtils"),actions_1=require("./actions");exports.stateValuesEqual=function stateValuesEqual(a,b){if(a===b)return!0;if(void 0===a||void 0===b)return!1;if(utils_1.isString(a)||utils_1.isString(b))return a===b;var aKeys=utils_1.keys(a),bKeys=utils_1.keys(b);return aKeys.length===bKeys.length&&aKeys.every((function(key){return stateValuesEqual(a[key],b[key])}))},exports.isState=function isState(state){return!utils_1.isString(state)&&("value"in state&&"history"in state)},exports.bindActionToState=function bindActionToState(action,state){var exec=action.exec;return __assign(__assign({},action),{exec:void 0!==exec?function(){return exec(state.context,state.event,{action:action,state:state,_event:state._event})}:void 0})};var State=function(){function State(config){var _this=this;this.actions=[],this.activities=constants_1.EMPTY_ACTIVITY_MAP,this.meta={},this.events=[],this.value=config.value,this.context=config.context,this._event=config._event,this._sessionid=config._sessionid,this.event=this._event.data,this.historyValue=config.historyValue,this.history=config.history,this.actions=config.actions||[],this.activities=config.activities||constants_1.EMPTY_ACTIVITY_MAP,this.meta=config.meta||{},this.events=config.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=config.configuration,this.transitions=config.transitions,this.children=config.children,this.done=!!config.done,Object.defineProperty(this,"nextEvents",{get:function(){return stateUtils_1.nextEvents(_this.configuration)}})}return State.from=function(stateValue,context){return stateValue instanceof State?stateValue.context!==context?new State({value:stateValue.value,context:context,_event:stateValue._event,_sessionid:null,historyValue:stateValue.historyValue,history:stateValue.history,actions:[],activities:stateValue.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):stateValue:new State({value:stateValue,context:context,_event:actions_1.initEvent,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},State.create=function(config){return new State(config)},State.inert=function(stateValue,context){if(stateValue instanceof State){if(!stateValue.actions.length)return stateValue;var _event=actions_1.initEvent;return new State({value:stateValue.value,context:context,_event:_event,_sessionid:null,historyValue:stateValue.historyValue,history:stateValue.history,activities:stateValue.activities,configuration:stateValue.configuration,transitions:[],children:{}})}return State.from(stateValue,context)},State.prototype.toStrings=function(stateValue,delimiter){var _this=this;if(void 0===stateValue&&(stateValue=this.value),void 0===delimiter&&(delimiter="."),utils_1.isString(stateValue))return[stateValue];var valueKeys=utils_1.keys(stateValue);return valueKeys.concat.apply(valueKeys,__spread(valueKeys.map((function(key){return _this.toStrings(stateValue[key],delimiter).map((function(s){return key+delimiter+s}))}))))},State.prototype.toJSON=function(){this.configuration,this.transitions;return __rest(this,["configuration","transitions"])},State.prototype.matches=function(parentStateValue){return utils_1.matchesState(parentStateValue,this.value)},State}();exports.State=State},{"./actions":222,"./constants":223,"./stateUtils":234,"./utils":236}],220:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar},__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.StateNode=void 0;var utils_1=require("./utils"),types_1=require("./types"),utils_2=require("./utils"),State_1=require("./State"),actionTypes=require("./actionTypes"),actions_1=require("./actions"),environment_1=require("./environment"),constants_1=require("./constants"),stateUtils_1=require("./stateUtils"),Actor_1=require("./Actor"),invokeUtils_1=require("./invokeUtils"),EMPTY_OBJECT={},isStateId=function(str){return"#"===str[0]},StateNode=function(){function StateNode(config,options,context){var _this=this;this.config=config,this.context=context,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},options),this.parent=this.options._parent,this.key=this.config.key||this.options._key||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:constants_1.STATE_DELIMITER),this.id=this.config.id||__spread([this.machine.key],this.path).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&utils_1.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),environment_1.IS_PRODUCTION||utils_1.warn(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '+(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '"+this.type+"'`")+" in the config for state node '"+this.id+"' instead."),this.initial=this.config.initial,this.states=this.config.states?utils_1.mapValues(this.config.states,(function(stateConfig,key){var _a,stateNode=new StateNode(stateConfig,{_parent:_this,_key:key});return Object.assign(_this.idMap,__assign(((_a={})[stateNode.id]=stateNode,_a),stateNode.idMap)),stateNode})):EMPTY_OBJECT;var order=0;!function dfs(stateNode){var e_1,_a;stateNode.order=order++;try{for(var _b=__values(stateUtils_1.getChildren(stateNode)),_c=_b.next();!_c.done;_c=_b.next()){dfs(_c.value)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(_a){return""===_a.event})):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=utils_1.toArray(this.config.entry||this.config.onEntry).map((function(action){return actions_1.toActionObject(action)})),this.onExit=utils_1.toArray(this.config.exit||this.config.onExit).map((function(action){return actions_1.toActionObject(action)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=utils_1.toArray(this.config.invoke).map((function(invokeConfig,i){var _a,_b;if(utils_1.isMachine(invokeConfig))return _this.machine.options.services=__assign(((_a={})[invokeConfig.id]=invokeConfig,_a),_this.machine.options.services),invokeUtils_1.toInvokeDefinition({src:invokeConfig.id,id:invokeConfig.id});if(utils_1.isString(invokeConfig.src))return invokeUtils_1.toInvokeDefinition(__assign(__assign({},invokeConfig),{id:invokeConfig.id||invokeConfig.src,src:invokeConfig.src}));if(utils_1.isMachine(invokeConfig.src)||utils_1.isFunction(invokeConfig.src)){var invokeSrc=_this.id+":invocation["+i+"]";return _this.machine.options.services=__assign(((_b={})[invokeSrc]=invokeConfig.src,_b),_this.machine.options.services),invokeUtils_1.toInvokeDefinition(__assign(__assign({id:invokeSrc},invokeConfig),{src:invokeSrc}))}var invokeSource=invokeConfig.src;return invokeUtils_1.toInvokeDefinition(__assign(__assign({id:invokeSource.type},invokeConfig),{src:invokeSource}))})),this.activities=utils_1.toArray(this.config.activities).concat(this.invoke).map((function(activity){return actions_1.toActivityDefinition(activity)})),this.transition=this.transition.bind(this)}return StateNode.prototype._init=function(){this.__cache.transitions||stateUtils_1.getAllStateNodes(this).forEach((function(stateNode){return stateNode.on}))},StateNode.prototype.withConfig=function(options,context){void 0===context&&(context=this.context);var _a=this.options,actions=_a.actions,activities=_a.activities,guards=_a.guards,services=_a.services,delays=_a.delays;return new StateNode(this.config,{actions:__assign(__assign({},actions),options.actions),activities:__assign(__assign({},activities),options.activities),guards:__assign(__assign({},guards),options.guards),services:__assign(__assign({},services),options.services),delays:__assign(__assign({},delays),options.delays)},context)},StateNode.prototype.withContext=function(context){return new StateNode(this.config,this.options,context)},Object.defineProperty(StateNode.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:utils_1.mapValues(this.states,(function(state){return state.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke}},enumerable:!1,configurable:!0}),StateNode.prototype.toJSON=function(){return this.definition},Object.defineProperty(StateNode.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var transitions=this.transitions;return this.__cache.on=transitions.reduce((function(map,transition){return map[transition.eventType]=map[transition.eventType]||[],map[transition.eventType].push(transition),map}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(StateNode.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(StateNode.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),StateNode.prototype.getCandidates=function(eventName){if(this.__cache.candidates[eventName])return this.__cache.candidates[eventName];var transient=""===eventName,candidates=this.transitions.filter((function(transition){var sameEventType=transition.eventType===eventName;return transient?sameEventType:sameEventType||"*"===transition.eventType}));return this.__cache.candidates[eventName]=candidates,candidates},StateNode.prototype.getDelayedTransitions=function(){var _this=this,afterConfig=this.config.after;if(!afterConfig)return[];var mutateEntryExit=function(delay,i){var delayRef=utils_1.isFunction(delay)?_this.id+":delay["+i+"]":delay,eventType=actions_1.after(delayRef,_this.id);return _this.onEntry.push(actions_1.send(eventType,{delay:delay})),_this.onExit.push(actions_1.cancel(eventType)),eventType};return(utils_1.isArray(afterConfig)?afterConfig.map((function(transition,i){var eventType=mutateEntryExit(transition.delay,i);return __assign(__assign({},transition),{event:eventType})})):utils_1.flatten(utils_1.keys(afterConfig).map((function(delay,i){var configTransition=afterConfig[delay],resolvedTransition=utils_1.isString(configTransition)?{target:configTransition}:configTransition,resolvedDelay=isNaN(+delay)?delay:+delay,eventType=mutateEntryExit(resolvedDelay,i);return utils_1.toArray(resolvedTransition).map((function(transition){return __assign(__assign({},transition),{event:eventType,delay:resolvedDelay})}))})))).map((function(delayedTransition){var delay=delayedTransition.delay;return __assign(__assign({},_this.formatTransition(delayedTransition)),{delay:delay})}))},StateNode.prototype.getStateNodes=function(state){var _a,_this=this;if(!state)return[];var stateValue=state instanceof State_1.State?state.value:utils_1.toStateValue(state,this.delimiter);if(utils_1.isString(stateValue)){var initialStateValue=this.getStateNode(stateValue).initial;return void 0!==initialStateValue?this.getStateNodes(((_a={})[stateValue]=initialStateValue,_a)):[this.states[stateValue]]}var subStateKeys=utils_1.keys(stateValue);return subStateKeys.map((function(subStateKey){return _this.getStateNode(subStateKey)})).concat(subStateKeys.reduce((function(allSubStateNodes,subStateKey){var subStateNode=_this.getStateNode(subStateKey).getStateNodes(stateValue[subStateKey]);return allSubStateNodes.concat(subStateNode)}),[]))},StateNode.prototype.handles=function(event){var eventType=utils_1.getEventType(event);return this.events.includes(eventType)},StateNode.prototype.resolveState=function(state){var configuration=Array.from(stateUtils_1.getConfiguration([],this.getStateNodes(state.value)));return new State_1.State(__assign(__assign({},state),{value:this.resolve(state.value),configuration:configuration}))},StateNode.prototype.transitionLeafNode=function(stateValue,state,_event){var next=this.getStateNode(stateValue).next(state,_event);return next&&next.transitions.length?next:this.next(state,_event)},StateNode.prototype.transitionCompoundNode=function(stateValue,state,_event){var subStateKeys=utils_1.keys(stateValue),next=this.getStateNode(subStateKeys[0])._transition(stateValue[subStateKeys[0]],state,_event);return next&&next.transitions.length?next:this.next(state,_event)},StateNode.prototype.transitionParallelNode=function(stateValue,state,_event){var e_2,_a,transitionMap={};try{for(var _b=__values(utils_1.keys(stateValue)),_c=_b.next();!_c.done;_c=_b.next()){var subStateKey=_c.value,subStateValue=stateValue[subStateKey];if(subStateValue){var next=this.getStateNode(subStateKey)._transition(subStateValue,state,_event);next&&(transitionMap[subStateKey]=next)}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_2)throw e_2.error}}var stateTransitions=utils_1.keys(transitionMap).map((function(key){return transitionMap[key]})),enabledTransitions=utils_1.flatten(stateTransitions.map((function(st){return st.transitions})));if(!stateTransitions.some((function(st){return st.transitions.length>0})))return this.next(state,_event);var entryNodes=utils_1.flatten(stateTransitions.map((function(t){return t.entrySet}))),configuration=utils_1.flatten(utils_1.keys(transitionMap).map((function(key){return transitionMap[key].configuration})));return{transitions:enabledTransitions,entrySet:entryNodes,exitSet:utils_1.flatten(stateTransitions.map((function(t){return t.exitSet}))),configuration:configuration,source:state,actions:utils_1.flatten(utils_1.keys(transitionMap).map((function(key){return transitionMap[key].actions})))}},StateNode.prototype._transition=function(stateValue,state,_event){return utils_1.isString(stateValue)?this.transitionLeafNode(stateValue,state,_event):1===utils_1.keys(stateValue).length?this.transitionCompoundNode(stateValue,state,_event):this.transitionParallelNode(stateValue,state,_event)},StateNode.prototype.next=function(state,_event){var e_3,_a,selectedTransition,_this=this,eventName=_event.name,actions=[],nextStateNodes=[];try{for(var _b=__values(this.getCandidates(eventName)),_c=_b.next();!_c.done;_c=_b.next()){var candidate=_c.value,cond=candidate.cond,stateIn=candidate.in,resolvedContext=state.context,isInState=!stateIn||(utils_1.isString(stateIn)&&isStateId(stateIn)?state.matches(utils_1.toStateValue(this.getStateNodeById(stateIn).path,this.delimiter)):utils_2.matchesState(utils_1.toStateValue(stateIn,this.delimiter),utils_1.path(this.path.slice(0,-2))(state.value))),guardPassed=!1;try{guardPassed=!cond||utils_1.evaluateGuard(this.machine,cond,resolvedContext,_event,state)}catch(err){throw new Error("Unable to evaluate guard '"+(cond.name||cond.type)+"' in transition for event '"+eventName+"' in state node '"+this.id+"':\n"+err.message)}if(guardPassed&&isInState){void 0!==candidate.target&&(nextStateNodes=candidate.target),actions.push.apply(actions,__spread(candidate.actions)),selectedTransition=candidate;break}}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_3)throw e_3.error}}if(selectedTransition){if(!nextStateNodes.length)return{transitions:[selectedTransition],entrySet:[],exitSet:[],configuration:state.value?[this]:[],source:state,actions:actions};var allNextStateNodes=utils_1.flatten(nextStateNodes.map((function(stateNode){return _this.getRelativeStateNodes(stateNode,state.historyValue)}))),isInternal=!!selectedTransition.internal;return{transitions:[selectedTransition],entrySet:isInternal?[]:utils_1.flatten(allNextStateNodes.map((function(n){return _this.nodesFromChild(n)}))),exitSet:isInternal?[]:[this],configuration:allNextStateNodes,source:state,actions:actions}}},StateNode.prototype.nodesFromChild=function(childStateNode){if(childStateNode.escapes(this))return[];for(var nodes=[],marker=childStateNode;marker&&marker!==this;)nodes.push(marker),marker=marker.parent;return nodes.push(this),nodes},StateNode.prototype.escapes=function(stateNode){if(this===stateNode)return!1;for(var parent=this.parent;parent;){if(parent===stateNode)return!1;parent=parent.parent}return!0},StateNode.prototype.getActions=function(transition,currentContext,_event,prevState){var e_4,_a,e_5,_b,prevConfig=stateUtils_1.getConfiguration([],prevState?this.getStateNodes(prevState.value):[this]),resolvedConfig=transition.configuration.length?stateUtils_1.getConfiguration(prevConfig,transition.configuration):prevConfig;try{for(var resolvedConfig_1=__values(resolvedConfig),resolvedConfig_1_1=resolvedConfig_1.next();!resolvedConfig_1_1.done;resolvedConfig_1_1=resolvedConfig_1.next()){var sn=resolvedConfig_1_1.value;stateUtils_1.has(prevConfig,sn)||transition.entrySet.push(sn)}}catch(e_4_1){e_4={error:e_4_1}}finally{try{resolvedConfig_1_1&&!resolvedConfig_1_1.done&&(_a=resolvedConfig_1.return)&&_a.call(resolvedConfig_1)}finally{if(e_4)throw e_4.error}}try{for(var prevConfig_1=__values(prevConfig),prevConfig_1_1=prevConfig_1.next();!prevConfig_1_1.done;prevConfig_1_1=prevConfig_1.next()){sn=prevConfig_1_1.value;stateUtils_1.has(resolvedConfig,sn)&&!stateUtils_1.has(transition.exitSet,sn.parent)||transition.exitSet.push(sn)}}catch(e_5_1){e_5={error:e_5_1}}finally{try{prevConfig_1_1&&!prevConfig_1_1.done&&(_b=prevConfig_1.return)&&_b.call(prevConfig_1)}finally{if(e_5)throw e_5.error}}transition.source||(transition.exitSet=[],transition.entrySet.push(this));var doneEvents=utils_1.flatten(transition.entrySet.map((function(sn){var events=[];if("final"!==sn.type)return events;var parent=sn.parent;if(!parent.parent)return events;events.push(actions_1.done(sn.id,sn.doneData),actions_1.done(parent.id,sn.doneData?utils_1.mapContext(sn.doneData,currentContext,_event):void 0));var grandparent=parent.parent;return"parallel"===grandparent.type&&stateUtils_1.getChildren(grandparent).every((function(parentNode){return stateUtils_1.isInFinalState(transition.configuration,parentNode)}))&&events.push(actions_1.done(grandparent.id)),events})));transition.exitSet.sort((function(a,b){return b.order-a.order})),transition.entrySet.sort((function(a,b){return a.order-b.order}));var entryStates=new Set(transition.entrySet),exitStates=new Set(transition.exitSet),_c=__read([utils_1.flatten(Array.from(entryStates).map((function(stateNode){return __spread(stateNode.activities.map((function(activity){return actions_1.start(activity)})),stateNode.onEntry)}))).concat(doneEvents.map(actions_1.raise)),utils_1.flatten(Array.from(exitStates).map((function(stateNode){return __spread(stateNode.onExit,stateNode.activities.map((function(activity){return actions_1.stop(activity)})))})))],2),entryActions=_c[0],exitActions=_c[1];return actions_1.toActionObjects(exitActions.concat(transition.actions).concat(entryActions),this.machine.options.actions)},StateNode.prototype.transition=function(state,event,context){void 0===state&&(state=this.initialState);var currentState,_event=utils_1.toSCXMLEvent(event);if(state instanceof State_1.State)currentState=void 0===context?state:this.resolveState(State_1.State.from(state,context));else{var resolvedStateValue=utils_1.isString(state)?this.resolve(utils_1.pathToStateValue(this.getResolvedPath(state))):this.resolve(state),resolvedContext=context||this.machine.context;currentState=this.resolveState(State_1.State.from(resolvedStateValue,resolvedContext))}if(!environment_1.IS_PRODUCTION&&"*"===_event.name)throw new Error("An event cannot have the wildcard type ('*')");if(this.strict&&!this.events.includes(_event.name)&&!utils_1.isBuiltInEvent(_event.name))throw new Error("Machine '"+this.id+"' does not accept event '"+_event.name+"'");var stateTransition=this._transition(currentState.value,currentState,_event)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:currentState,actions:[]},prevConfig=stateUtils_1.getConfiguration([],this.getStateNodes(currentState.value)),resolvedConfig=stateTransition.configuration.length?stateUtils_1.getConfiguration(prevConfig,stateTransition.configuration):prevConfig;return stateTransition.configuration=__spread(resolvedConfig),this.resolveTransition(stateTransition,currentState,_event)},StateNode.prototype.resolveRaisedTransition=function(state,_event,originalEvent){var _a,currentActions=state.actions;return(state=this.transition(state,_event))._event=originalEvent,state.event=originalEvent.data,(_a=state.actions).unshift.apply(_a,__spread(currentActions)),state},StateNode.prototype.resolveTransition=function(stateTransition,currentState,_event,context){var e_6,_a,_this=this;void 0===_event&&(_event=actions_1.initEvent),void 0===context&&(context=this.machine.context);var configuration=stateTransition.configuration,resolvedStateValue=!currentState||stateTransition.transitions.length>0?stateUtils_1.getValue(this.machine,configuration):void 0,historyValue=currentState?currentState.historyValue?currentState.historyValue:stateTransition.source?this.machine.historyValue(currentState.value):void 0:void 0,currentContext=currentState?currentState.context:context,actions=this.getActions(stateTransition,currentContext,_event,currentState),activities=currentState?__assign({},currentState.activities):{};try{for(var actions_2=__values(actions),actions_2_1=actions_2.next();!actions_2_1.done;actions_2_1=actions_2.next()){var action=actions_2_1.value;action.type===actionTypes.start?activities[action.activity.id||action.activity.type]=action:action.type===actionTypes.stop&&(activities[action.activity.id||action.activity.type]=!1)}}catch(e_6_1){e_6={error:e_6_1}}finally{try{actions_2_1&&!actions_2_1.done&&(_a=actions_2.return)&&_a.call(actions_2)}finally{if(e_6)throw e_6.error}}var _b=__read(actions_1.resolveActions(this,currentState,currentContext,_event,actions),2),resolvedActions=_b[0],updatedContext=_b[1],_c=__read(utils_1.partition(resolvedActions,(function(action){return action.type===actionTypes.raise||action.type===actionTypes.send&&action.to===types_1.SpecialTargets.Internal})),2),raisedEvents=_c[0],nonRaisedActions=_c[1],children=resolvedActions.filter((function(action){return action.type===actionTypes.start&&action.activity.type===actionTypes.invoke})).reduce((function(acc,action){return acc[action.activity.id]=Actor_1.createInvocableActor(action.activity,_this.machine,updatedContext,_event),acc}),currentState?__assign({},currentState.children):{}),resolvedConfiguration=resolvedStateValue?stateTransition.configuration:currentState?currentState.configuration:[],meta=resolvedConfiguration.reduce((function(acc,stateNode){return void 0!==stateNode.meta&&(acc[stateNode.id]=stateNode.meta),acc}),{}),isDone=stateUtils_1.isInFinalState(resolvedConfiguration,this),nextState=new State_1.State({value:resolvedStateValue||currentState.value,context:updatedContext,_event:_event,_sessionid:currentState?currentState._sessionid:null,historyValue:resolvedStateValue?historyValue?utils_1.updateHistoryValue(historyValue,resolvedStateValue):void 0:currentState?currentState.historyValue:void 0,history:!resolvedStateValue||stateTransition.source?currentState:void 0,actions:resolvedStateValue?nonRaisedActions:[],activities:resolvedStateValue?activities:currentState?currentState.activities:{},meta:resolvedStateValue?meta:currentState?currentState.meta:void 0,events:[],configuration:resolvedConfiguration,transitions:stateTransition.transitions,children:children,done:isDone}),didUpdateContext=currentContext!==updatedContext;nextState.changed=_event.name===actionTypes.update||didUpdateContext;var history=nextState.history;if(history&&delete history.history,!resolvedStateValue)return nextState;var maybeNextState=nextState;if(!isDone)for((this._transient||configuration.some((function(stateNode){return stateNode._transient})))&&(maybeNextState=this.resolveRaisedTransition(maybeNextState,{type:actionTypes.nullEvent},_event));raisedEvents.length;){var raisedEvent=raisedEvents.shift();maybeNextState=this.resolveRaisedTransition(maybeNextState,raisedEvent._event,_event)}var changed=maybeNextState.changed||(history?!!maybeNextState.actions.length||didUpdateContext||typeof history.value!=typeof maybeNextState.value||!State_1.stateValuesEqual(maybeNextState.value,history.value):void 0);return maybeNextState.changed=changed,maybeNextState.historyValue=nextState.historyValue,maybeNextState.history=history,maybeNextState},StateNode.prototype.getStateNode=function(stateKey){if(isStateId(stateKey))return this.machine.getStateNodeById(stateKey);if(!this.states)throw new Error("Unable to retrieve child state '"+stateKey+"' from '"+this.id+"'; no child states exist.");var result=this.states[stateKey];if(!result)throw new Error("Child state '"+stateKey+"' does not exist on '"+this.id+"'");return result},StateNode.prototype.getStateNodeById=function(stateId){var resolvedStateId=isStateId(stateId)?stateId.slice("#".length):stateId;if(resolvedStateId===this.id)return this;var stateNode=this.machine.idMap[resolvedStateId];if(!stateNode)throw new Error("Child state node '#"+resolvedStateId+"' does not exist on machine '"+this.id+"'");return stateNode},StateNode.prototype.getStateNodeByPath=function(statePath){if("string"==typeof statePath&&isStateId(statePath))try{return this.getStateNodeById(statePath.slice(1))}catch(e){}for(var arrayStatePath=utils_1.toStatePath(statePath,this.delimiter).slice(),currentStateNode=this;arrayStatePath.length;){var key=arrayStatePath.shift();if(!key.length)break;currentStateNode=currentStateNode.getStateNode(key)}return currentStateNode},StateNode.prototype.resolve=function(stateValue){var _a,_this=this;if(!stateValue)return this.initialStateValue||EMPTY_OBJECT;switch(this.type){case"parallel":return utils_1.mapValues(this.initialStateValue,(function(subStateValue,subStateKey){return subStateValue?_this.getStateNode(subStateKey).resolve(stateValue[subStateKey]||subStateValue):EMPTY_OBJECT}));case"compound":if(utils_1.isString(stateValue)){var subStateNode=this.getStateNode(stateValue);return"parallel"===subStateNode.type||"compound"===subStateNode.type?((_a={})[stateValue]=subStateNode.initialStateValue,_a):stateValue}return utils_1.keys(stateValue).length?utils_1.mapValues(stateValue,(function(subStateValue,subStateKey){return subStateValue?_this.getStateNode(subStateKey).resolve(subStateValue):EMPTY_OBJECT})):this.initialStateValue||{};default:return stateValue||EMPTY_OBJECT}},StateNode.prototype.getResolvedPath=function(stateIdentifier){if(isStateId(stateIdentifier)){var stateNode=this.machine.idMap[stateIdentifier.slice("#".length)];if(!stateNode)throw new Error("Unable to find state node '"+stateIdentifier+"'");return stateNode.path}return utils_1.toStatePath(stateIdentifier,this.delimiter)},Object.defineProperty(StateNode.prototype,"initialStateValue",{get:function(){var _a,initialStateValue;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)initialStateValue=utils_1.mapFilterValues(this.states,(function(state){return state.initialStateValue||EMPTY_OBJECT}),(function(stateNode){return!("history"===stateNode.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '"+this.initial+"' not found on '"+this.key+"'");initialStateValue=stateUtils_1.isLeafNode(this.states[this.initial])?this.initial:((_a={})[this.initial]=this.states[this.initial].initialStateValue,_a)}return this.__cache.initialStateValue=initialStateValue,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),StateNode.prototype.getInitialState=function(stateValue,context){var configuration=this.getStateNodes(stateValue);return this.resolveTransition({configuration:configuration,entrySet:configuration,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,void 0,context)},Object.defineProperty(StateNode.prototype,"initialState",{get:function(){this._init();var initialStateValue=this.initialStateValue;if(!initialStateValue)throw new Error("Cannot retrieve initial state from simple state '"+this.id+"'.");return this.getInitialState(initialStateValue)},enumerable:!1,configurable:!0}),Object.defineProperty(StateNode.prototype,"target",{get:function(){var target;if("history"===this.type){var historyConfig=this.config;target=utils_1.isString(historyConfig.target)&&isStateId(historyConfig.target)?utils_1.pathToStateValue(this.machine.getStateNodeById(historyConfig.target).path.slice(this.path.length-1)):historyConfig.target}return target},enumerable:!1,configurable:!0}),StateNode.prototype.getRelativeStateNodes=function(relativeStateId,historyValue,resolve){return void 0===resolve&&(resolve=!0),resolve?"history"===relativeStateId.type?relativeStateId.resolveHistory(historyValue):relativeStateId.initialStateNodes:[relativeStateId]},Object.defineProperty(StateNode.prototype,"initialStateNodes",{get:function(){var _this=this;if(stateUtils_1.isLeafNode(this))return[this];if("compound"===this.type&&!this.initial)return environment_1.IS_PRODUCTION||utils_1.warn(!1,"Compound state node '"+this.id+"' has no initial state."),[this];var initialStateNodePaths=utils_1.toStatePaths(this.initialStateValue);return utils_1.flatten(initialStateNodePaths.map((function(initialPath){return _this.getFromRelativePath(initialPath)})))},enumerable:!1,configurable:!0}),StateNode.prototype.getFromRelativePath=function(relativePath){if(!relativePath.length)return[this];var _a=__read(relativePath),stateKey=_a[0],childStatePath=_a.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '"+stateKey+"' from node with no states");var childStateNode=this.getStateNode(stateKey);if("history"===childStateNode.type)return childStateNode.resolveHistory();if(!this.states[stateKey])throw new Error("Child state '"+stateKey+"' does not exist on '"+this.id+"'");return this.states[stateKey].getFromRelativePath(childStatePath)},StateNode.prototype.historyValue=function(relativeStateValue){if(utils_1.keys(this.states).length)return{current:relativeStateValue||this.initialStateValue,states:utils_1.mapFilterValues(this.states,(function(stateNode,key){if(!relativeStateValue)return stateNode.historyValue();var subStateValue=utils_1.isString(relativeStateValue)?void 0:relativeStateValue[key];return stateNode.historyValue(subStateValue||stateNode.initialStateValue)}),(function(stateNode){return!stateNode.history}))}},StateNode.prototype.resolveHistory=function(historyValue){var _this=this;if("history"!==this.type)return[this];var parent=this.parent;if(!historyValue){var historyTarget=this.target;return historyTarget?utils_1.flatten(utils_1.toStatePaths(historyTarget).map((function(relativeChildPath){return parent.getFromRelativePath(relativeChildPath)}))):parent.initialStateNodes}var subHistoryValue=utils_1.nestedPath(parent.path,"states")(historyValue).current;return utils_1.isString(subHistoryValue)?[parent.getStateNode(subHistoryValue)]:utils_1.flatten(utils_1.toStatePaths(subHistoryValue).map((function(subStatePath){return"deep"===_this.history?parent.getFromRelativePath(subStatePath):[parent.states[subStatePath[0]]]})))},Object.defineProperty(StateNode.prototype,"stateIds",{get:function(){var _this=this,childStateIds=utils_1.flatten(utils_1.keys(this.states).map((function(stateKey){return _this.states[stateKey].stateIds})));return[this.id].concat(childStateIds)},enumerable:!1,configurable:!0}),Object.defineProperty(StateNode.prototype,"events",{get:function(){var e_7,_a,e_8,_b;if(this.__cache.events)return this.__cache.events;var states=this.states,events=new Set(this.ownEvents);if(states)try{for(var _c=__values(utils_1.keys(states)),_d=_c.next();!_d.done;_d=_c.next()){var state=states[_d.value];if(state.states)try{for(var _e=(e_8=void 0,__values(state.events)),_f=_e.next();!_f.done;_f=_e.next()){var event_1=_f.value;events.add(""+event_1)}}catch(e_8_1){e_8={error:e_8_1}}finally{try{_f&&!_f.done&&(_b=_e.return)&&_b.call(_e)}finally{if(e_8)throw e_8.error}}}}catch(e_7_1){e_7={error:e_7_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_7)throw e_7.error}}return this.__cache.events=Array.from(events)},enumerable:!1,configurable:!0}),Object.defineProperty(StateNode.prototype,"ownEvents",{get:function(){var events=new Set(this.transitions.filter((function(transition){return!(!transition.target&&!transition.actions.length&&transition.internal)})).map((function(transition){return transition.eventType})));return Array.from(events)},enumerable:!1,configurable:!0}),StateNode.prototype.resolveTarget=function(_target){var _this=this;if(void 0!==_target)return _target.map((function(target){if(!utils_1.isString(target))return target;var isInternalTarget=target[0]===_this.delimiter;if(isInternalTarget&&!_this.parent)return _this.getStateNodeByPath(target.slice(1));var resolvedTarget=isInternalTarget?_this.key+target:target;if(!_this.parent)return _this.getStateNodeByPath(resolvedTarget);try{return _this.parent.getStateNodeByPath(resolvedTarget)}catch(err){throw new Error("Invalid transition definition for state node '"+_this.id+"':\n"+err.message)}}))},StateNode.prototype.formatTransition=function(transitionConfig){var _this=this,normalizedTarget=utils_1.normalizeTarget(transitionConfig.target),internal="internal"in transitionConfig?transitionConfig.internal:!normalizedTarget||normalizedTarget.some((function(_target){return utils_1.isString(_target)&&_target[0]===_this.delimiter})),guards=this.machine.options.guards,target=this.resolveTarget(normalizedTarget),transition=__assign(__assign({},transitionConfig),{actions:actions_1.toActionObjects(utils_1.toArray(transitionConfig.actions)),cond:utils_1.toGuard(transitionConfig.cond,guards),target:target,source:this,internal:internal,eventType:transitionConfig.event,toJSON:function(){return __assign(__assign({},transition),{target:transition.target?transition.target.map((function(t){return"#"+t.id})):void 0,source:"#"+_this.id})}});return transition},StateNode.prototype.formatTransitions=function(){var e_9,_a,onConfig,_this=this;if(this.config.on)if(Array.isArray(this.config.on))onConfig=this.config.on;else{var _b=this.config.on,_d=_b["*"],wildcardConfigs=void 0===_d?[]:_d,strictTransitionConfigs_1=__rest(_b,["*"]);onConfig=utils_1.flatten(utils_1.keys(strictTransitionConfigs_1).map((function(key){environment_1.IS_PRODUCTION||""!==key||utils_1.warn(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. Please check the `on` configuration for \"#"+_this.id+'".');var transitionConfigArray=utils_1.toTransitionConfigArray(key,strictTransitionConfigs_1[key]);return environment_1.IS_PRODUCTION||function(stateNode,event,transitions){var hasNonLastUnguardedTarget=transitions.slice(0,-1).some((function(transition){return!("cond"in transition)&&!("in"in transition)&&(utils_1.isString(transition.target)||utils_1.isMachine(transition.target))})),eventText=""===event?"the transient event":"event '"+event+"'";utils_1.warn(!hasNonLastUnguardedTarget,"One or more transitions for "+eventText+" on state '"+stateNode.id+"' are unreachable. Make sure that the default transition is the last one defined.")}(_this,key,transitionConfigArray),transitionConfigArray})).concat(utils_1.toTransitionConfigArray("*",wildcardConfigs)))}else onConfig=[];var eventlessConfig=this.config.always?utils_1.toTransitionConfigArray("",this.config.always):[],doneConfig=this.config.onDone?utils_1.toTransitionConfigArray(String(actions_1.done(this.id)),this.config.onDone):[];environment_1.IS_PRODUCTION||utils_1.warn(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'+this.id+'".');var invokeConfig=utils_1.flatten(this.invoke.map((function(invokeDef){var settleTransitions=[];return invokeDef.onDone&&settleTransitions.push.apply(settleTransitions,__spread(utils_1.toTransitionConfigArray(String(actions_1.doneInvoke(invokeDef.id)),invokeDef.onDone))),invokeDef.onError&&settleTransitions.push.apply(settleTransitions,__spread(utils_1.toTransitionConfigArray(String(actions_1.error(invokeDef.id)),invokeDef.onError))),settleTransitions}))),delayedTransitions=this.after,formattedTransitions=utils_1.flatten(__spread(doneConfig,invokeConfig,onConfig,eventlessConfig).map((function(transitionConfig){return utils_1.toArray(transitionConfig).map((function(transition){return _this.formatTransition(transition)}))})));try{for(var delayedTransitions_1=__values(delayedTransitions),delayedTransitions_1_1=delayedTransitions_1.next();!delayedTransitions_1_1.done;delayedTransitions_1_1=delayedTransitions_1.next()){var delayedTransition=delayedTransitions_1_1.value;formattedTransitions.push(delayedTransition)}}catch(e_9_1){e_9={error:e_9_1}}finally{try{delayedTransitions_1_1&&!delayedTransitions_1_1.done&&(_a=delayedTransitions_1.return)&&_a.call(delayedTransitions_1)}finally{if(e_9)throw e_9.error}}return formattedTransitions},StateNode}();exports.StateNode=StateNode},{"./Actor":217,"./State":219,"./actionTypes":221,"./actions":222,"./constants":223,"./environment":225,"./invokeUtils":228,"./stateUtils":234,"./types":235,"./utils":236}],221:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pure=exports.choose=exports.update=exports.error=exports.errorPlatform=exports.errorExecution=exports.invoke=exports.init=exports.log=exports.doneState=exports.after=exports.assign=exports.nullEvent=exports.cancel=exports.send=exports.raise=exports.stop=exports.start=void 0;var types_1=require("./types");exports.start=types_1.ActionTypes.Start,exports.stop=types_1.ActionTypes.Stop,exports.raise=types_1.ActionTypes.Raise,exports.send=types_1.ActionTypes.Send,exports.cancel=types_1.ActionTypes.Cancel,exports.nullEvent=types_1.ActionTypes.NullEvent,exports.assign=types_1.ActionTypes.Assign,exports.after=types_1.ActionTypes.After,exports.doneState=types_1.ActionTypes.DoneState,exports.log=types_1.ActionTypes.Log,exports.init=types_1.ActionTypes.Init,exports.invoke=types_1.ActionTypes.Invoke,exports.errorExecution=types_1.ActionTypes.ErrorExecution,exports.errorPlatform=types_1.ActionTypes.ErrorPlatform,exports.error=types_1.ActionTypes.ErrorCustom,exports.update=types_1.ActionTypes.Update,exports.choose=types_1.ActionTypes.Choose,exports.pure=types_1.ActionTypes.Pure},{"./types":235}],222:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.resolveActions=exports.choose=exports.escalate=exports.forwardTo=exports.pure=exports.error=exports.doneInvoke=exports.done=exports.after=exports.isActionObject=exports.assign=exports.stop=exports.start=exports.cancel=exports.resolveLog=exports.log=exports.respond=exports.sendUpdate=exports.sendParent=exports.resolveSend=exports.send=exports.resolveRaise=exports.raise=exports.toActivityDefinition=exports.toActionObjects=exports.toActionObject=exports.getActionFunction=exports.initEvent=exports.actionTypes=void 0;var types_1=require("./types"),actionTypes=require("./actionTypes");exports.actionTypes=actionTypes;var utils_1=require("./utils"),environment_1=require("./environment");function getActionFunction(actionType,actionFunctionMap){return actionFunctionMap&&actionFunctionMap[actionType]||void 0}function toActionObject(action,actionFunctionMap){var actionObject;if(utils_1.isString(action)||"number"==typeof action){var exec=getActionFunction(action,actionFunctionMap);actionObject=utils_1.isFunction(exec)?{type:action,exec:exec}:exec||{type:action,exec:void 0}}else if(utils_1.isFunction(action))actionObject={type:action.name||action.toString(),exec:action};else{exec=getActionFunction(action.type,actionFunctionMap);if(utils_1.isFunction(exec))actionObject=__assign(__assign({},action),{exec:exec});else if(exec){var actionType=exec.type||action.type;actionObject=__assign(__assign(__assign({},exec),action),{type:actionType})}else actionObject=action}return Object.defineProperty(actionObject,"toString",{value:function(){return actionObject.type},enumerable:!1,configurable:!0}),actionObject}function toActivityDefinition(action){var actionObject=toActionObject(action);return __assign(__assign({id:utils_1.isString(action)?action:actionObject.id},actionObject),{type:actionObject.type})}function resolveRaise(action){return{type:actionTypes.raise,_event:utils_1.toSCXMLEvent(action.event)}}function send(event,options){return{to:options?options.to:void 0,type:actionTypes.send,event:utils_1.isFunction(event)?event:utils_1.toEventObject(event),delay:options?options.delay:void 0,id:options&&void 0!==options.id?options.id:utils_1.isFunction(event)?event.name:utils_1.getEventType(event)}}function resolveSend(action,ctx,_event,delaysMap){var resolvedDelay,meta={_event:_event},resolvedEvent=utils_1.toSCXMLEvent(utils_1.isFunction(action.event)?action.event(ctx,_event.data,meta):action.event);if(utils_1.isString(action.delay)){var configDelay=delaysMap&&delaysMap[action.delay];resolvedDelay=utils_1.isFunction(configDelay)?configDelay(ctx,_event.data,meta):configDelay}else resolvedDelay=utils_1.isFunction(action.delay)?action.delay(ctx,_event.data,meta):action.delay;var resolvedTarget=utils_1.isFunction(action.to)?action.to(ctx,_event.data,meta):action.to;return __assign(__assign({},action),{to:resolvedTarget,_event:resolvedEvent,event:resolvedEvent.data,delay:resolvedDelay})}function sendParent(event,options){return send(event,__assign(__assign({},options),{to:types_1.SpecialTargets.Parent}))}exports.initEvent=utils_1.toSCXMLEvent({type:actionTypes.init}),exports.getActionFunction=getActionFunction,exports.toActionObject=toActionObject,exports.toActionObjects=function(action,actionFunctionMap){return action?(utils_1.isArray(action)?action:[action]).map((function(subAction){return toActionObject(subAction,actionFunctionMap)})):[]},exports.toActivityDefinition=toActivityDefinition,exports.raise=function raise(event){return utils_1.isString(event)?{type:actionTypes.raise,event:event}:send(event,{to:types_1.SpecialTargets.Internal})},exports.resolveRaise=resolveRaise,exports.send=send,exports.resolveSend=resolveSend,exports.sendParent=sendParent,exports.sendUpdate=function sendUpdate(){return sendParent(actionTypes.update)},exports.respond=function respond(event,options){return send(event,__assign(__assign({},options),{to:function(_,__,_a){return _a._event.origin}}))};var defaultLogExpr=function(context,event){return{context:context,event:event}};exports.log=function log(expr,label){return void 0===expr&&(expr=defaultLogExpr),{type:actionTypes.log,label:label,expr:expr}},exports.resolveLog=function(action,ctx,_event){return __assign(__assign({},action),{value:utils_1.isString(action.expr)?action.expr:action.expr(ctx,_event.data,{_event:_event})})},exports.cancel=function(sendId){return{type:actionTypes.cancel,sendId:sendId}},exports.start=function start(activity){var activityDef=toActivityDefinition(activity);return{type:types_1.ActionTypes.Start,activity:activityDef,exec:void 0}},exports.stop=function stop(activity){var activityDef=toActivityDefinition(activity);return{type:types_1.ActionTypes.Stop,activity:activityDef,exec:void 0}},exports.assign=function(assignment){return{type:actionTypes.assign,assignment:assignment}},exports.isActionObject=function isActionObject(action){return"object"==typeof action&&"type"in action},exports.after=function after(delayRef,id){var idSuffix=id?"#"+id:"";return types_1.ActionTypes.After+"("+delayRef+")"+idSuffix},exports.done=function done(id,data){var type=types_1.ActionTypes.DoneState+"."+id,eventObject={type:type,data:data,toString:function(){return type}};return eventObject},exports.doneInvoke=function doneInvoke(id,data){var type=types_1.ActionTypes.DoneInvoke+"."+id,eventObject={type:type,data:data,toString:function(){return type}};return eventObject},exports.error=function error(id,data){var type=types_1.ActionTypes.ErrorPlatform+"."+id,eventObject={type:type,data:data,toString:function(){return type}};return eventObject},exports.pure=function pure(getActions){return{type:types_1.ActionTypes.Pure,get:getActions}},exports.forwardTo=function forwardTo(target,options){return send((function(_,event){return event}),__assign(__assign({},options),{to:target}))},exports.escalate=function escalate(errorData,options){return sendParent((function(context,event,meta){return{type:actionTypes.error,data:utils_1.isFunction(errorData)?errorData(context,event,meta):errorData}}),__assign(__assign({},options),{to:types_1.SpecialTargets.Parent}))},exports.choose=function choose(conds){return{type:types_1.ActionTypes.Choose,conds:conds}},exports.resolveActions=function resolveActions(machine,currentState,currentContext,_event,actions){var _a=__read(utils_1.partition(actions,(function(action){return action.type===actionTypes.assign})),2),assignActions=_a[0],otherActions=_a[1],updatedContext=assignActions.length?utils_1.updateContext(currentContext,_event,assignActions,currentState):currentContext;return[utils_1.flatten(otherActions.map((function(actionObject){var _a;switch(actionObject.type){case actionTypes.raise:return resolveRaise(actionObject);case actionTypes.send:var sendAction=resolveSend(actionObject,updatedContext,_event,machine.options.delays);return environment_1.IS_PRODUCTION||utils_1.warn(!utils_1.isString(actionObject.delay)||"number"==typeof sendAction.delay,"No delay reference for delay expression '"+actionObject.delay+"' was found on machine '"+machine.id+"'"),sendAction;case actionTypes.log:return exports.resolveLog(actionObject,updatedContext,_event);case actionTypes.choose:if(!(matchedActions=null===(_a=actionObject.conds.find((function(condition){var guard=utils_1.toGuard(condition.cond,machine.options.guards);return!guard||utils_1.evaluateGuard(machine,guard,updatedContext,_event,currentState)})))||void 0===_a?void 0:_a.actions))return[];var resolved=resolveActions(machine,currentState,updatedContext,_event,exports.toActionObjects(utils_1.toArray(matchedActions),machine.options.actions));return updatedContext=resolved[1],resolved[0];case actionTypes.pure:var matchedActions;if(!(matchedActions=actionObject.get(updatedContext,_event.data)))return[];resolved=resolveActions(machine,currentState,updatedContext,_event,exports.toActionObjects(utils_1.toArray(matchedActions),machine.options.actions));return updatedContext=resolved[1],resolved[0];default:return toActionObject(actionObject,machine.options.actions)}}))),updatedContext]}},{"./actionTypes":221,"./environment":225,"./types":235,"./utils":236}],223:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TARGETLESS_KEY=exports.DEFAULT_GUARD_TYPE=exports.EMPTY_ACTIVITY_MAP=exports.STATE_DELIMITER=void 0,exports.STATE_DELIMITER=".",exports.EMPTY_ACTIVITY_MAP={},exports.DEFAULT_GUARD_TYPE="xstate.guard",exports.TARGETLESS_KEY=""},{}],224:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerService=void 0;var environment_1=require("./environment");exports.registerService=function registerService(service){if(!environment_1.IS_PRODUCTION&&"undefined"!=typeof window){var devTools=function getDevTools(){var w=window;if(w.__xstate__)return w.__xstate__}();devTools&&devTools.register(service)}}},{"./environment":225}],225:[function(require,module,exports){(function(process){(function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IS_PRODUCTION=void 0,exports.IS_PRODUCTION="production"===process.env.NODE_ENV}).call(this)}).call(this,require("_process"))},{_process:203}],226:[function(require,module,exports){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||exports.hasOwnProperty(p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createMachine=exports.doneInvoke=exports.spawn=exports.matchState=exports.Interpreter=exports.interpret=exports.forwardTo=exports.sendUpdate=exports.sendParent=exports.send=exports.assign=exports.actions=exports.mapState=exports.matchesState=exports.State=exports.StateNode=exports.Machine=void 0;var utils_1=require("./utils");Object.defineProperty(exports,"matchesState",{enumerable:!0,get:function(){return utils_1.matchesState}});var mapState_1=require("./mapState");Object.defineProperty(exports,"mapState",{enumerable:!0,get:function(){return mapState_1.mapState}});var StateNode_1=require("./StateNode");Object.defineProperty(exports,"StateNode",{enumerable:!0,get:function(){return StateNode_1.StateNode}});var State_1=require("./State");Object.defineProperty(exports,"State",{enumerable:!0,get:function(){return State_1.State}});var Machine_1=require("./Machine");Object.defineProperty(exports,"Machine",{enumerable:!0,get:function(){return Machine_1.Machine}}),Object.defineProperty(exports,"createMachine",{enumerable:!0,get:function(){return Machine_1.createMachine}});var actions_1=require("./actions");Object.defineProperty(exports,"send",{enumerable:!0,get:function(){return actions_1.send}}),Object.defineProperty(exports,"sendParent",{enumerable:!0,get:function(){return actions_1.sendParent}}),Object.defineProperty(exports,"sendUpdate",{enumerable:!0,get:function(){return actions_1.sendUpdate}}),Object.defineProperty(exports,"assign",{enumerable:!0,get:function(){return actions_1.assign}}),Object.defineProperty(exports,"doneInvoke",{enumerable:!0,get:function(){return actions_1.doneInvoke}}),Object.defineProperty(exports,"forwardTo",{enumerable:!0,get:function(){return actions_1.forwardTo}});var interpreter_1=require("./interpreter");Object.defineProperty(exports,"interpret",{enumerable:!0,get:function(){return interpreter_1.interpret}}),Object.defineProperty(exports,"Interpreter",{enumerable:!0,get:function(){return interpreter_1.Interpreter}}),Object.defineProperty(exports,"spawn",{enumerable:!0,get:function(){return interpreter_1.spawn}});var match_1=require("./match");Object.defineProperty(exports,"matchState",{enumerable:!0,get:function(){return match_1.matchState}});var actions={raise:actions_1.raise,send:actions_1.send,sendParent:actions_1.sendParent,sendUpdate:actions_1.sendUpdate,log:actions_1.log,cancel:actions_1.cancel,start:actions_1.start,stop:actions_1.stop,assign:actions_1.assign,after:actions_1.after,done:actions_1.done,respond:actions_1.respond,forwardTo:actions_1.forwardTo,escalate:actions_1.escalate,choose:actions_1.choose,pure:actions_1.pure};exports.actions=actions,__exportStar(require("./types"),exports)},{"./Machine":218,"./State":219,"./StateNode":220,"./actions":222,"./interpreter":227,"./mapState":229,"./match":230,"./types":235,"./utils":236}],227:[function(require,module,exports){(function(global){(function(){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpret=exports.spawn=exports.Interpreter=void 0;var InterpreterStatus,types_1=require("./types"),State_1=require("./State"),actionTypes=require("./actionTypes"),actions_1=require("./actions"),environment_1=require("./environment"),utils_1=require("./utils"),scheduler_1=require("./scheduler"),Actor_1=require("./Actor"),stateUtils_1=require("./stateUtils"),registry_1=require("./registry"),devTools_1=require("./devTools"),serviceScope=require("./serviceScope"),DEFAULT_SPAWN_OPTIONS={sync:!1,autoForward:!1};!function(InterpreterStatus){InterpreterStatus[InterpreterStatus.NotStarted=0]="NotStarted",InterpreterStatus[InterpreterStatus.Running=1]="Running",InterpreterStatus[InterpreterStatus.Stopped=2]="Stopped"}(InterpreterStatus||(InterpreterStatus={}));var Interpreter=function(){function Interpreter(machine,options){var _this=this;void 0===options&&(options=Interpreter.defaultOptions),this.machine=machine,this.scheduler=new scheduler_1.Scheduler,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this._status=InterpreterStatus.NotStarted,this.children=new Map,this.forwardTo=new Set,this.init=this.start,this.send=function(event,payload){if(utils_1.isArray(event))return _this.batch(event),_this.state;var _event=utils_1.toSCXMLEvent(utils_1.toEventObject(event,payload));if(_this._status===InterpreterStatus.Stopped)return environment_1.IS_PRODUCTION||utils_1.warn(!1,'Event "'+_event.name+'" was sent to stopped service "'+_this.machine.id+'". This service has already reached its final state, and will not transition.\nEvent: '+JSON.stringify(_event.data)),_this.state;if(_this._status===InterpreterStatus.NotStarted&&_this.options.deferEvents)environment_1.IS_PRODUCTION||utils_1.warn(!1,'Event "'+_event.name+'" was sent to uninitialized service "'+_this.machine.id+'" and is deferred. Make sure .start() is called for this service.\nEvent: '+JSON.stringify(_event.data));else if(_this._status!==InterpreterStatus.Running)throw new Error('Event "'+_event.name+'" was sent to uninitialized service "'+_this.machine.id+'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: '+JSON.stringify(_event.data));return _this.scheduler.schedule((function(){_this.forward(_event);var nextState=_this.nextState(_event);_this.update(nextState,_event)})),_this._state},this.sendTo=function(event,to){var isParent=_this.parent&&(to===types_1.SpecialTargets.Parent||_this.parent.id===to),target=isParent?_this.parent:Actor_1.isActor(to)?to:_this.children.get(to)||registry_1.registry.get(to);if(target)"machine"in target?target.send(__assign(__assign({},event),{name:event.name===actionTypes.error?""+actions_1.error(_this.id):event.name,origin:_this.sessionId})):target.send(event.data);else{if(!isParent)throw new Error("Unable to send event to child '"+to+"' from service '"+_this.id+"'.");environment_1.IS_PRODUCTION||utils_1.warn(!1,"Service '"+_this.id+"' has no parent: unable to send event "+event.type)}};var resolvedOptions=__assign(__assign({},Interpreter.defaultOptions),options),clock=resolvedOptions.clock,logger=resolvedOptions.logger,parent=resolvedOptions.parent,id=resolvedOptions.id,resolvedId=void 0!==id?id:machine.id;this.id=resolvedId,this.logger=logger,this.clock=clock,this.parent=parent,this.options=resolvedOptions,this.scheduler=new scheduler_1.Scheduler({deferEvents:this.options.deferEvents}),this.sessionId=registry_1.registry.bookId()}return Object.defineProperty(Interpreter.prototype,"initialState",{get:function(){var _this=this;return this._initialState?this._initialState:serviceScope.provide(this,(function(){return _this._initialState=_this.machine.initialState,_this._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(Interpreter.prototype,"state",{get:function(){return environment_1.IS_PRODUCTION||utils_1.warn(this._status!==InterpreterStatus.NotStarted,"Attempted to read state from uninitialized service '"+this.id+"'. Make sure the service is started first."),this._state},enumerable:!1,configurable:!0}),Interpreter.prototype.execute=function(state,actionsConfig){var e_1,_a;try{for(var _b=__values(state.actions),_c=_b.next();!_c.done;_c=_b.next()){var action=_c.value;this.exec(action,state,actionsConfig)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}},Interpreter.prototype.update=function(state,_event){var e_2,_a,e_3,_b,e_4,_c,e_5,_d,_this=this;if(state._sessionid=this.sessionId,this._state=state,this.options.execute&&this.execute(this.state),this.devTools&&this.devTools.send(_event.data,state),state.event)try{for(var _e=__values(this.eventListeners),_f=_e.next();!_f.done;_f=_e.next()){(0,_f.value)(state.event)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_f&&!_f.done&&(_a=_e.return)&&_a.call(_e)}finally{if(e_2)throw e_2.error}}try{for(var _g=__values(this.listeners),_h=_g.next();!_h.done;_h=_g.next()){(0,_h.value)(state,state.event)}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_h&&!_h.done&&(_b=_g.return)&&_b.call(_g)}finally{if(e_3)throw e_3.error}}try{for(var _j=__values(this.contextListeners),_k=_j.next();!_k.done;_k=_j.next()){(0,_k.value)(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(e_4_1){e_4={error:e_4_1}}finally{try{_k&&!_k.done&&(_c=_j.return)&&_c.call(_j)}finally{if(e_4)throw e_4.error}}var isDone=stateUtils_1.isInFinalState(state.configuration||[],this.machine);if(this.state.configuration&&isDone){var finalChildStateNode=state.configuration.find((function(sn){return"final"===sn.type&&sn.parent===_this.machine})),doneData=finalChildStateNode&&finalChildStateNode.doneData?utils_1.mapContext(finalChildStateNode.doneData,state.context,_event):void 0;try{for(var _l=__values(this.doneListeners),_m=_l.next();!_m.done;_m=_l.next()){(0,_m.value)(actions_1.doneInvoke(this.id,doneData))}}catch(e_5_1){e_5={error:e_5_1}}finally{try{_m&&!_m.done&&(_d=_l.return)&&_d.call(_l)}finally{if(e_5)throw e_5.error}}this.stop()}},Interpreter.prototype.onTransition=function(listener){return this.listeners.add(listener),this._status===InterpreterStatus.Running&&listener(this.state,this.state.event),this},Interpreter.prototype.subscribe=function(nextListenerOrObserver,_,completeListener){var listener,_this=this;if(!nextListenerOrObserver)return{unsubscribe:function(){}};var resolvedCompleteListener=completeListener;return"function"==typeof nextListenerOrObserver?listener=nextListenerOrObserver:(listener=nextListenerOrObserver.next.bind(nextListenerOrObserver),resolvedCompleteListener=nextListenerOrObserver.complete.bind(nextListenerOrObserver)),this.listeners.add(listener),this._status===InterpreterStatus.Running&&listener(this.state),resolvedCompleteListener&&this.onDone(resolvedCompleteListener),{unsubscribe:function(){listener&&_this.listeners.delete(listener),resolvedCompleteListener&&_this.doneListeners.delete(resolvedCompleteListener)}}},Interpreter.prototype.onEvent=function(listener){return this.eventListeners.add(listener),this},Interpreter.prototype.onSend=function(listener){return this.sendListeners.add(listener),this},Interpreter.prototype.onChange=function(listener){return this.contextListeners.add(listener),this},Interpreter.prototype.onStop=function(listener){return this.stopListeners.add(listener),this},Interpreter.prototype.onDone=function(listener){return this.doneListeners.add(listener),this},Interpreter.prototype.off=function(listener){return this.listeners.delete(listener),this.eventListeners.delete(listener),this.sendListeners.delete(listener),this.stopListeners.delete(listener),this.doneListeners.delete(listener),this.contextListeners.delete(listener),this},Interpreter.prototype.start=function(initialState){var _this=this;if(this._status===InterpreterStatus.Running)return this;registry_1.registry.register(this.sessionId,this),this.initialized=!0,this._status=InterpreterStatus.Running;var resolvedState=void 0===initialState?this.initialState:serviceScope.provide(this,(function(){return State_1.isState(initialState)?_this.machine.resolveState(initialState):_this.machine.resolveState(State_1.State.from(initialState,_this.machine.context))}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){_this.update(resolvedState,actions_1.initEvent)})),this},Interpreter.prototype.stop=function(){var e_6,_a,e_7,_b,e_8,_c,e_9,_d,e_10,_e;try{for(var _f=__values(this.listeners),_g=_f.next();!_g.done;_g=_f.next()){var listener=_g.value;this.listeners.delete(listener)}}catch(e_6_1){e_6={error:e_6_1}}finally{try{_g&&!_g.done&&(_a=_f.return)&&_a.call(_f)}finally{if(e_6)throw e_6.error}}try{for(var _h=__values(this.stopListeners),_j=_h.next();!_j.done;_j=_h.next()){(listener=_j.value)(),this.stopListeners.delete(listener)}}catch(e_7_1){e_7={error:e_7_1}}finally{try{_j&&!_j.done&&(_b=_h.return)&&_b.call(_h)}finally{if(e_7)throw e_7.error}}try{for(var _k=__values(this.contextListeners),_l=_k.next();!_l.done;_l=_k.next()){listener=_l.value;this.contextListeners.delete(listener)}}catch(e_8_1){e_8={error:e_8_1}}finally{try{_l&&!_l.done&&(_c=_k.return)&&_c.call(_k)}finally{if(e_8)throw e_8.error}}try{for(var _m=__values(this.doneListeners),_o=_m.next();!_o.done;_o=_m.next()){listener=_o.value;this.doneListeners.delete(listener)}}catch(e_9_1){e_9={error:e_9_1}}finally{try{_o&&!_o.done&&(_d=_m.return)&&_d.call(_m)}finally{if(e_9)throw e_9.error}}this.children.forEach((function(child){utils_1.isFunction(child.stop)&&child.stop()}));try{for(var _p=__values(utils_1.keys(this.delayedEventsMap)),_q=_p.next();!_q.done;_q=_p.next()){var key=_q.value;this.clock.clearTimeout(this.delayedEventsMap[key])}}catch(e_10_1){e_10={error:e_10_1}}finally{try{_q&&!_q.done&&(_e=_p.return)&&_e.call(_p)}finally{if(e_10)throw e_10.error}}return this.scheduler.clear(),this.initialized=!1,this._status=InterpreterStatus.Stopped,registry_1.registry.free(this.sessionId),this},Interpreter.prototype.batch=function(events){var _this=this;if(this._status===InterpreterStatus.NotStarted&&this.options.deferEvents)environment_1.IS_PRODUCTION||utils_1.warn(!1,events.length+' event(s) were sent to uninitialized service "'+this.machine.id+'" and are deferred. Make sure .start() is called for this service.\nEvent: '+JSON.stringify(event));else if(this._status!==InterpreterStatus.Running)throw new Error(events.length+' event(s) were sent to uninitialized service "'+this.machine.id+'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.');this.scheduler.schedule((function(){var e_11,_a,nextState=_this.state,batchChanged=!1,batchedActions=[],_loop_1=function(event_1){var _event=utils_1.toSCXMLEvent(event_1);_this.forward(_event),nextState=serviceScope.provide(_this,(function(){return _this.machine.transition(nextState,_event)})),batchedActions.push.apply(batchedActions,__spread(nextState.actions.map((function(a){return State_1.bindActionToState(a,nextState)})))),batchChanged=batchChanged||!!nextState.changed};try{for(var events_1=__values(events),events_1_1=events_1.next();!events_1_1.done;events_1_1=events_1.next()){_loop_1(events_1_1.value)}}catch(e_11_1){e_11={error:e_11_1}}finally{try{events_1_1&&!events_1_1.done&&(_a=events_1.return)&&_a.call(events_1)}finally{if(e_11)throw e_11.error}}nextState.changed=batchChanged,nextState.actions=batchedActions,_this.update(nextState,utils_1.toSCXMLEvent(events[events.length-1]))}))},Interpreter.prototype.sender=function(event){return this.send.bind(this,event)},Interpreter.prototype.nextState=function(event){var _this=this,_event=utils_1.toSCXMLEvent(event);if(0===_event.name.indexOf(actionTypes.errorPlatform)&&!this.state.nextEvents.some((function(nextEvent){return 0===nextEvent.indexOf(actionTypes.errorPlatform)})))throw _event.data.data;return serviceScope.provide(this,(function(){return _this.machine.transition(_this.state,_event)}))},Interpreter.prototype.forward=function(event){var e_12,_a;try{for(var _b=__values(this.forwardTo),_c=_b.next();!_c.done;_c=_b.next()){var id=_c.value,child=this.children.get(id);if(!child)throw new Error("Unable to forward event '"+event+"' from interpreter '"+this.id+"' to nonexistant child '"+id+"'.");child.send(event)}}catch(e_12_1){e_12={error:e_12_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_12)throw e_12.error}}},Interpreter.prototype.defer=function(sendAction){var _this=this;this.delayedEventsMap[sendAction.id]=this.clock.setTimeout((function(){sendAction.to?_this.sendTo(sendAction._event,sendAction.to):_this.send(sendAction._event)}),sendAction.delay)},Interpreter.prototype.cancel=function(sendId){this.clock.clearTimeout(this.delayedEventsMap[sendId]),delete this.delayedEventsMap[sendId]},Interpreter.prototype.exec=function(action,state,actionFunctionMap){void 0===actionFunctionMap&&(actionFunctionMap=this.machine.options.actions);var context=state.context,_event=state._event,actionOrExec=action.exec||actions_1.getActionFunction(action.type,actionFunctionMap),exec=utils_1.isFunction(actionOrExec)?actionOrExec:actionOrExec?actionOrExec.exec:action.exec;if(exec)try{return exec(context,_event.data,{action:action,state:this.state,_event:_event})}catch(err){throw this.parent&&this.parent.send({type:"xstate.error",data:err}),err}switch(action.type){case actionTypes.send:var sendAction=action;if("number"==typeof sendAction.delay)return void this.defer(sendAction);sendAction.to?this.sendTo(sendAction._event,sendAction.to):this.send(sendAction._event);break;case actionTypes.cancel:this.cancel(action.sendId);break;case actionTypes.start:var activity=action.activity;if(!this.state.activities[activity.id||activity.type])break;if(activity.type===types_1.ActionTypes.Invoke){var invokeSource=utils_1.toInvokeSource(activity.src),serviceCreator=this.machine.options.services?this.machine.options.services[invokeSource.type]:void 0,id=activity.id,data=activity.data;environment_1.IS_PRODUCTION||utils_1.warn(!("forward"in activity),"`forward` property is deprecated (found in invocation of '"+activity.src+"' in in machine '"+this.machine.id+"'). Please use `autoForward` instead.");var autoForward="autoForward"in activity?activity.autoForward:!!activity.forward;if(!serviceCreator)return void(environment_1.IS_PRODUCTION||utils_1.warn(!1,"No service found for invocation '"+activity.src+"' in machine '"+this.machine.id+"'."));var resolvedData=data?utils_1.mapContext(data,context,_event):void 0,source=utils_1.isFunction(serviceCreator)?serviceCreator(context,_event.data,{data:resolvedData,src:invokeSource}):serviceCreator;utils_1.isPromiseLike(source)?this.state.children[id]=this.spawnPromise(Promise.resolve(source),id):utils_1.isFunction(source)?this.state.children[id]=this.spawnCallback(source,id):utils_1.isObservable(source)?this.state.children[id]=this.spawnObservable(source,id):utils_1.isMachine(source)&&(this.state.children[id]=this.spawnMachine(resolvedData?source.withContext(resolvedData):source,{id:id,autoForward:autoForward}))}else this.spawnActivity(activity);break;case actionTypes.stop:this.stopChild(action.activity.id);break;case actionTypes.log:var label=action.label,value=action.value;label?this.logger(label,value):this.logger(value);break;default:environment_1.IS_PRODUCTION||utils_1.warn(!1,"No implementation found for action type '"+action.type+"'")}},Interpreter.prototype.removeChild=function(childId){this.children.delete(childId),this.forwardTo.delete(childId),delete this.state.children[childId]},Interpreter.prototype.stopChild=function(childId){var child=this.children.get(childId);child&&(this.removeChild(childId),utils_1.isFunction(child.stop)&&child.stop())},Interpreter.prototype.spawn=function(entity,name,options){if(utils_1.isPromiseLike(entity))return this.spawnPromise(Promise.resolve(entity),name);if(utils_1.isFunction(entity))return this.spawnCallback(entity,name);if(Actor_1.isActor(entity))return this.spawnActor(entity);if(utils_1.isObservable(entity))return this.spawnObservable(entity,name);if(utils_1.isMachine(entity))return this.spawnMachine(entity,__assign(__assign({},options),{id:name}));throw new Error('Unable to spawn entity "'+name+'" of type "'+typeof entity+'".')},Interpreter.prototype.spawnMachine=function(machine,options){var _this=this;void 0===options&&(options={});var childService=new Interpreter(machine,__assign(__assign({},this.options),{parent:this,id:options.id||machine.id})),resolvedOptions=__assign(__assign({},DEFAULT_SPAWN_OPTIONS),options);resolvedOptions.sync&&childService.onTransition((function(state){_this.send(actionTypes.update,{state:state,id:childService.id})}));var actor=childService;return this.children.set(childService.id,actor),resolvedOptions.autoForward&&this.forwardTo.add(childService.id),childService.onDone((function(doneEvent){_this.removeChild(childService.id),_this.send(utils_1.toSCXMLEvent(doneEvent,{origin:childService.id}))})).start(),actor},Interpreter.prototype.spawnPromise=function(promise,id){var _this=this,canceled=!1;promise.then((function(response){canceled||(_this.removeChild(id),_this.send(utils_1.toSCXMLEvent(actions_1.doneInvoke(id,response),{origin:id})))}),(function(errorData){if(!canceled){_this.removeChild(id);var errorEvent=actions_1.error(id,errorData);try{_this.send(utils_1.toSCXMLEvent(errorEvent,{origin:id}))}catch(error){utils_1.reportUnhandledExceptionOnInvocation(errorData,error,id),_this.devTools&&_this.devTools.send(errorEvent,_this.state),_this.machine.strict&&_this.stop()}}}));var actor={id:id,send:function(){},subscribe:function(next,handleError,complete){var unsubscribed=!1;return promise.then((function(response){unsubscribed||(next&&next(response),unsubscribed||complete&&complete())}),(function(err){unsubscribed||handleError(err)})),{unsubscribe:function(){return unsubscribed=!0}}},stop:function(){canceled=!0},toJSON:function(){return{id:id}}};return this.children.set(id,actor),actor},Interpreter.prototype.spawnCallback=function(callback,id){var callbackStop,_this=this,canceled=!1,receivers=new Set,listeners=new Set;try{callbackStop=callback((function(e){listeners.forEach((function(listener){return listener(e)})),canceled||_this.send(e)}),(function(newListener){receivers.add(newListener)}))}catch(err){this.send(actions_1.error(id,err))}if(utils_1.isPromiseLike(callbackStop))return this.spawnPromise(callbackStop,id);var actor={id:id,send:function(event){return receivers.forEach((function(receiver){return receiver(event)}))},subscribe:function(next){return listeners.add(next),{unsubscribe:function(){listeners.delete(next)}}},stop:function(){canceled=!0,utils_1.isFunction(callbackStop)&&callbackStop()},toJSON:function(){return{id:id}}};return this.children.set(id,actor),actor},Interpreter.prototype.spawnObservable=function(source,id){var _this=this,subscription=source.subscribe((function(value){_this.send(utils_1.toSCXMLEvent(value,{origin:id}))}),(function(err){_this.removeChild(id),_this.send(utils_1.toSCXMLEvent(actions_1.error(id,err),{origin:id}))}),(function(){_this.removeChild(id),_this.send(utils_1.toSCXMLEvent(actions_1.doneInvoke(id),{origin:id}))})),actor={id:id,send:function(){},subscribe:function(next,handleError,complete){return source.subscribe(next,handleError,complete)},stop:function(){return subscription.unsubscribe()},toJSON:function(){return{id:id}}};return this.children.set(id,actor),actor},Interpreter.prototype.spawnActor=function(actor){return this.children.set(actor.id,actor),actor},Interpreter.prototype.spawnActivity=function(activity){var implementation=this.machine.options&&this.machine.options.activities?this.machine.options.activities[activity.type]:void 0;if(implementation){var dispose=implementation(this.state.context,activity);this.spawnEffect(activity.id,dispose)}else environment_1.IS_PRODUCTION||utils_1.warn(!1,"No implementation found for activity '"+activity.type+"'")},Interpreter.prototype.spawnEffect=function(id,dispose){this.children.set(id,{id:id,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:dispose||void 0,toJSON:function(){return{id:id}}})},Interpreter.prototype.attachDev=function(){if(this.options.devTools&&"undefined"!=typeof window){if(window.__REDUX_DEVTOOLS_EXTENSION__){var devToolsOptions="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=window.__REDUX_DEVTOOLS_EXTENSION__.connect(__assign(__assign({name:this.id,autoPause:!0,stateSanitizer:function(state){return{value:state.value,context:state.context,actions:state.actions}}},devToolsOptions),{features:__assign({jump:!1,skip:!1},devToolsOptions?devToolsOptions.features:void 0)}),this.machine),this.devTools.init(this.state)}devTools_1.registerService(this)}},Interpreter.prototype.toJSON=function(){return{id:this.id}},Interpreter.prototype[utils_1.symbolObservable]=function(){return this},Interpreter.defaultOptions=function(global){return{execute:!0,deferEvents:!0,clock:{setTimeout:function(fn,ms){return global.setTimeout.call(null,fn,ms)},clearTimeout:function(id){return global.clearTimeout.call(null,id)}},logger:global.console.log.bind(console),devTools:!1}}("undefined"!=typeof self?self:global),Interpreter.interpret=interpret,Interpreter}();exports.Interpreter=Interpreter;function interpret(machine,options){return new Interpreter(machine,options)}exports.spawn=function spawn(entity,nameOrOptions){var resolvedOptions=function(nameOrOptions){return utils_1.isString(nameOrOptions)?__assign(__assign({},DEFAULT_SPAWN_OPTIONS),{name:nameOrOptions}):__assign(__assign(__assign({},DEFAULT_SPAWN_OPTIONS),{name:utils_1.uniqueId()}),nameOrOptions)}(nameOrOptions);return serviceScope.consume((function(service){if(!environment_1.IS_PRODUCTION){var isLazyEntity=utils_1.isMachine(entity)||utils_1.isFunction(entity);utils_1.warn(!!service||isLazyEntity,'Attempted to spawn an Actor (ID: "'+(utils_1.isMachine(entity)?entity.id:"undefined")+'") outside of a service. This will have no effect.')}return service?service.spawn(entity,resolvedOptions.name,resolvedOptions):Actor_1.createDeferredActor(entity,resolvedOptions.name)}))},exports.interpret=interpret}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Actor":217,"./State":219,"./actionTypes":221,"./actions":222,"./devTools":224,"./environment":225,"./registry":231,"./scheduler":232,"./serviceScope":233,"./stateUtils":234,"./types":235,"./utils":236}],228:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.toInvokeDefinition=exports.toInvokeSource=void 0;var actions_1=require("./actions");function toInvokeSource(src){if("string"==typeof src){var simpleSrc={type:src,toString:function(){return src}};return simpleSrc}return src}exports.toInvokeSource=toInvokeSource,exports.toInvokeDefinition=function toInvokeDefinition(invokeConfig){return __assign(__assign({type:actions_1.actionTypes.invoke},invokeConfig),{toJSON:function(){invokeConfig.onDone,invokeConfig.onError;var invokeDef=__rest(invokeConfig,["onDone","onError"]);return __assign(__assign({},invokeDef),{type:actions_1.actionTypes.invoke,src:toInvokeSource(invokeConfig.src)})}})}},{"./actions":222}],229:[function(require,module,exports){"use strict";var __values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapState=void 0;var utils_1=require("./utils");exports.mapState=function mapState(stateMap,stateId){var e_1,_a,foundStateId;try{for(var _b=__values(utils_1.keys(stateMap)),_c=_b.next();!_c.done;_c=_b.next()){var mappedStateId=_c.value;utils_1.matchesState(mappedStateId,stateId)&&(!foundStateId||stateId.length>foundStateId.length)&&(foundStateId=mappedStateId)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return stateMap[foundStateId]}},{"./utils":236}],230:[function(require,module,exports){"use strict";var __values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.matchState=void 0;var State_1=require("./State");exports.matchState=function matchState(state,patterns,defaultValue){var e_1,_a,resolvedState=State_1.State.from(state,state instanceof State_1.State?state.context:void 0);try{for(var patterns_1=__values(patterns),patterns_1_1=patterns_1.next();!patterns_1_1.done;patterns_1_1=patterns_1.next()){var _b=__read(patterns_1_1.value,2),stateValue=_b[0],getValue=_b[1];if(resolvedState.matches(stateValue))return getValue(resolvedState)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{patterns_1_1&&!patterns_1_1.done&&(_a=patterns_1.return)&&_a.call(patterns_1)}finally{if(e_1)throw e_1.error}}return defaultValue(resolvedState)}},{"./State":219}],231:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.registry=void 0;var children=new Map,sessionIdIndex=0;exports.registry={bookId:function(){return"x:"+sessionIdIndex++},register:function(id,actor){return children.set(id,actor),id},get:function(id){return children.get(id)},free:function(id){children.delete(id)}}},{}],232:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Scheduler=void 0;var defaultOptions={deferEvents:!1},Scheduler=function(){function Scheduler(options){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=__assign(__assign({},defaultOptions),options)}return Scheduler.prototype.initialize=function(callback){if(this.initialized=!0,callback){if(!this.options.deferEvents)return void this.schedule(callback);this.process(callback)}this.flushEvents()},Scheduler.prototype.schedule=function(task){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(task),this.flushEvents()}else this.queue.push(task)},Scheduler.prototype.clear=function(){this.queue=[]},Scheduler.prototype.flushEvents=function(){for(var nextCallback=this.queue.shift();nextCallback;)this.process(nextCallback),nextCallback=this.queue.shift()},Scheduler.prototype.process=function(callback){this.processingEvent=!0;try{callback()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},Scheduler}();exports.Scheduler=Scheduler},{}],233:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.consume=exports.provide=void 0;var serviceStack=[];exports.provide=function(service,fn){serviceStack.push(service);var result=fn(service);return serviceStack.pop(),result},exports.consume=function(fn){return fn(serviceStack[serviceStack.length-1])}},{}],234:[function(require,module,exports){"use strict";var __values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.isInFinalState=exports.nextEvents=exports.has=exports.getValue=exports.getAdjList=exports.getConfiguration=exports.getAllStateNodes=exports.getChildren=exports.isLeafNode=void 0;var utils_1=require("./utils");function getChildren(stateNode){return utils_1.keys(stateNode.states).map((function(key){return stateNode.states[key]}))}function getConfiguration(prevStateNodes,stateNodes){var e_1,_a,e_2,_b,e_3,_c,e_4,_d,prevAdjList=getAdjList(new Set(prevStateNodes)),configuration=new Set(stateNodes);try{for(var configuration_1=__values(configuration),configuration_1_1=configuration_1.next();!configuration_1_1.done;configuration_1_1=configuration_1.next())for(var m=(s=configuration_1_1.value).parent;m&&!configuration.has(m);)configuration.add(m),m=m.parent}catch(e_1_1){e_1={error:e_1_1}}finally{try{configuration_1_1&&!configuration_1_1.done&&(_a=configuration_1.return)&&_a.call(configuration_1)}finally{if(e_1)throw e_1.error}}var adjList=getAdjList(configuration);try{for(var configuration_2=__values(configuration),configuration_2_1=configuration_2.next();!configuration_2_1.done;configuration_2_1=configuration_2.next()){if("compound"!==(s=configuration_2_1.value).type||adjList.get(s)&&adjList.get(s).length){if("parallel"===s.type)try{for(var _e=(e_3=void 0,__values(getChildren(s))),_f=_e.next();!_f.done;_f=_e.next()){var child=_f.value;"history"!==child.type&&(configuration.has(child)||(configuration.add(child),prevAdjList.get(child)?prevAdjList.get(child).forEach((function(sn){return configuration.add(sn)})):child.initialStateNodes.forEach((function(sn){return configuration.add(sn)}))))}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_f&&!_f.done&&(_c=_e.return)&&_c.call(_e)}finally{if(e_3)throw e_3.error}}}else prevAdjList.get(s)?prevAdjList.get(s).forEach((function(sn){return configuration.add(sn)})):s.initialStateNodes.forEach((function(sn){return configuration.add(sn)}))}}catch(e_2_1){e_2={error:e_2_1}}finally{try{configuration_2_1&&!configuration_2_1.done&&(_b=configuration_2.return)&&_b.call(configuration_2)}finally{if(e_2)throw e_2.error}}try{for(var configuration_3=__values(configuration),configuration_3_1=configuration_3.next();!configuration_3_1.done;configuration_3_1=configuration_3.next()){var s;for(m=(s=configuration_3_1.value).parent;m&&!configuration.has(m);)configuration.add(m),m=m.parent}}catch(e_4_1){e_4={error:e_4_1}}finally{try{configuration_3_1&&!configuration_3_1.done&&(_d=configuration_3.return)&&_d.call(configuration_3)}finally{if(e_4)throw e_4.error}}return configuration}function getValueFromAdj(baseNode,adjList){var childStateNodes=adjList.get(baseNode);if(!childStateNodes)return{};if("compound"===baseNode.type){var childStateNode=childStateNodes[0];if(!childStateNode)return{};if(exports.isLeafNode(childStateNode))return childStateNode.key}var stateValue={};return childStateNodes.forEach((function(csn){stateValue[csn.key]=getValueFromAdj(csn,adjList)})),stateValue}function getAdjList(configuration){var e_5,_a,adjList=new Map;try{for(var configuration_4=__values(configuration),configuration_4_1=configuration_4.next();!configuration_4_1.done;configuration_4_1=configuration_4.next()){var s=configuration_4_1.value;adjList.has(s)||adjList.set(s,[]),s.parent&&(adjList.has(s.parent)||adjList.set(s.parent,[]),adjList.get(s.parent).push(s))}}catch(e_5_1){e_5={error:e_5_1}}finally{try{configuration_4_1&&!configuration_4_1.done&&(_a=configuration_4.return)&&_a.call(configuration_4)}finally{if(e_5)throw e_5.error}}return adjList}function has(iterable,item){return Array.isArray(iterable)?iterable.some((function(member){return member===item})):iterable instanceof Set&&iterable.has(item)}exports.isLeafNode=function(stateNode){return"atomic"===stateNode.type||"final"===stateNode.type},exports.getChildren=getChildren,exports.getAllStateNodes=function getAllStateNodes(stateNode){var stateNodes=[stateNode];return exports.isLeafNode(stateNode)?stateNodes:stateNodes.concat(utils_1.flatten(getChildren(stateNode).map(getAllStateNodes)))},exports.getConfiguration=getConfiguration,exports.getAdjList=getAdjList,exports.getValue=function getValue(rootNode,configuration){return getValueFromAdj(rootNode,getAdjList(getConfiguration([rootNode],configuration)))},exports.has=has,exports.nextEvents=function nextEvents(configuration){return utils_1.flatten(__spread(new Set(configuration.map((function(sn){return sn.ownEvents})))))},exports.isInFinalState=function isInFinalState(configuration,stateNode){return"compound"===stateNode.type?getChildren(stateNode).some((function(s){return"final"===s.type&&has(configuration,s)})):"parallel"===stateNode.type&&getChildren(stateNode).every((function(sn){return isInFinalState(configuration,sn)}))}},{"./utils":236}],235:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SpecialTargets=exports.ActionTypes=void 0,function(ActionTypes){ActionTypes.Start="xstate.start",ActionTypes.Stop="xstate.stop",ActionTypes.Raise="xstate.raise",ActionTypes.Send="xstate.send",ActionTypes.Cancel="xstate.cancel",ActionTypes.NullEvent="",ActionTypes.Assign="xstate.assign",ActionTypes.After="xstate.after",ActionTypes.DoneState="done.state",ActionTypes.DoneInvoke="done.invoke",ActionTypes.Log="xstate.log",ActionTypes.Init="xstate.init",ActionTypes.Invoke="xstate.invoke",ActionTypes.ErrorExecution="error.execution",ActionTypes.ErrorCommunication="error.communication",ActionTypes.ErrorPlatform="error.platform",ActionTypes.ErrorCustom="xstate.error",ActionTypes.Update="xstate.update",ActionTypes.Pure="xstate.pure",ActionTypes.Choose="xstate.choose"}(exports.ActionTypes||(exports.ActionTypes={})),function(SpecialTargets){SpecialTargets.Parent="#_parent",SpecialTargets.Internal="#_internal"}(exports.SpecialTargets||(exports.SpecialTargets={}))},{}],236:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.toInvokeSource=exports.evaluateGuard=exports.reportUnhandledExceptionOnInvocation=exports.normalizeTarget=exports.toTransitionConfigArray=exports.toSCXMLEvent=exports.toEventObject=exports.uniqueId=exports.isActor=exports.isMachine=exports.symbolObservable=exports.isObservable=exports.toGuard=exports.isString=exports.isFunction=exports.isArray=exports.warn=exports.updateContext=exports.updateHistoryValue=exports.updateHistoryStates=exports.partition=exports.isPromiseLike=exports.isBuiltInEvent=exports.mapContext=exports.toArray=exports.toArrayStrict=exports.flatten=exports.pathsToStateValue=exports.toStatePaths=exports.nestedPath=exports.path=exports.mapFilterValues=exports.mapValues=exports.pathToStateValue=exports.toStateValue=exports.isStateLike=exports.toStatePath=exports.getActionType=exports.getEventType=exports.matchesState=exports.keys=void 0;var constants_1=require("./constants"),environment_1=require("./environment");function keys(value){return Object.keys(value)}function toStatePath(stateId,delimiter){try{return isArray(stateId)?stateId:stateId.toString().split(delimiter)}catch(e){throw new Error("'"+stateId+"' is not a valid state path.")}}function isStateLike(state){return"object"==typeof state&&"value"in state&&"context"in state&&"event"in state&&"_event"in state}function toStateValue(stateValue,delimiter){return isStateLike(stateValue)?stateValue.value:isArray(stateValue)?pathToStateValue(stateValue):"string"!=typeof stateValue?stateValue:pathToStateValue(toStatePath(stateValue,delimiter))}function pathToStateValue(statePath){if(1===statePath.length)return statePath[0];for(var value={},marker=value,i=0;i<statePath.length-1;i++)i===statePath.length-2?marker[statePath[i]]=statePath[i+1]:(marker[statePath[i]]={},marker=marker[statePath[i]]);return value}function mapValues(collection,iteratee){for(var result={},collectionKeys=keys(collection),i=0;i<collectionKeys.length;i++){var key=collectionKeys[i];result[key]=iteratee(collection[key],key,collection,i)}return result}function flatten(array){var _a;return(_a=[]).concat.apply(_a,__spread(array))}function toArrayStrict(value){return isArray(value)?value:[value]}function toArray(value){return void 0===value?[]:toArrayStrict(value)}function updateHistoryStates(hist,stateValue){return mapValues(hist.states,(function(subHist,key){if(subHist){var subStateValue=(isString(stateValue)?void 0:stateValue[key])||(subHist?subHist.current:void 0);if(subStateValue)return{current:subStateValue,states:updateHistoryStates(subHist,subStateValue)}}}))}exports.keys=keys,exports.matchesState=function matchesState(parentStateId,childStateId,delimiter){void 0===delimiter&&(delimiter=constants_1.STATE_DELIMITER);var parentStateValue=toStateValue(parentStateId,delimiter),childStateValue=toStateValue(childStateId,delimiter);return isString(childStateValue)?!!isString(parentStateValue)&&childStateValue===parentStateValue:isString(parentStateValue)?parentStateValue in childStateValue:keys(parentStateValue).every((function(key){return key in childStateValue&&matchesState(parentStateValue[key],childStateValue[key])}))},exports.getEventType=function getEventType(event){try{return isString(event)||"number"==typeof event?""+event:event.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}},exports.getActionType=function getActionType(action){try{return isString(action)||"number"==typeof action?""+action:isFunction(action)?action.name:action.type}catch(e){throw new Error("Actions must be strings or objects with a string action.type property.")}},exports.toStatePath=toStatePath,exports.isStateLike=isStateLike,exports.toStateValue=toStateValue,exports.pathToStateValue=pathToStateValue,exports.mapValues=mapValues,exports.mapFilterValues=function mapFilterValues(collection,iteratee,predicate){var e_1,_a,result={};try{for(var _b=__values(keys(collection)),_c=_b.next();!_c.done;_c=_b.next()){var key=_c.value,item=collection[key];predicate(item)&&(result[key]=iteratee(item,key,collection))}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return result},exports.path=function(props){return function(object){var e_2,_a,result=object;try{for(var props_1=__values(props),props_1_1=props_1.next();!props_1_1.done;props_1_1=props_1.next()){result=result[props_1_1.value]}}catch(e_2_1){e_2={error:e_2_1}}finally{try{props_1_1&&!props_1_1.done&&(_a=props_1.return)&&_a.call(props_1)}finally{if(e_2)throw e_2.error}}return result}},exports.nestedPath=function nestedPath(props,accessorProp){return function(object){var e_3,_a,result=object;try{for(var props_2=__values(props),props_2_1=props_2.next();!props_2_1.done;props_2_1=props_2.next()){var prop=props_2_1.value;result=result[accessorProp][prop]}}catch(e_3_1){e_3={error:e_3_1}}finally{try{props_2_1&&!props_2_1.done&&(_a=props_2.return)&&_a.call(props_2)}finally{if(e_3)throw e_3.error}}return result}},exports.toStatePaths=function toStatePaths(stateValue){return stateValue?isString(stateValue)?[[stateValue]]:flatten(keys(stateValue).map((function(key){var subStateValue=stateValue[key];return"string"==typeof subStateValue||subStateValue&&Object.keys(subStateValue).length?toStatePaths(stateValue[key]).map((function(subPath){return[key].concat(subPath)})):[[key]]}))):[[]]},exports.pathsToStateValue=function pathsToStateValue(paths){var e_4,_a,result={};if(paths&&1===paths.length&&1===paths[0].length)return paths[0][0];try{for(var paths_1=__values(paths),paths_1_1=paths_1.next();!paths_1_1.done;paths_1_1=paths_1.next())for(var currentPath=paths_1_1.value,marker=result,i=0;i<currentPath.length;i++){var subPath=currentPath[i];if(i===currentPath.length-2){marker[subPath]=currentPath[i+1];break}marker[subPath]=marker[subPath]||{},marker=marker[subPath]}}catch(e_4_1){e_4={error:e_4_1}}finally{try{paths_1_1&&!paths_1_1.done&&(_a=paths_1.return)&&_a.call(paths_1)}finally{if(e_4)throw e_4.error}}return result},exports.flatten=flatten,exports.toArrayStrict=toArrayStrict,exports.toArray=toArray,exports.mapContext=function mapContext(mapper,context,_event){var e_5,_a;if(isFunction(mapper))return mapper(context,_event.data);var result={};try{for(var _b=__values(Object.keys(mapper)),_c=_b.next();!_c.done;_c=_b.next()){var key=_c.value,subMapper=mapper[key];isFunction(subMapper)?result[key]=subMapper(context,_event.data):result[key]=subMapper}}catch(e_5_1){e_5={error:e_5_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_5)throw e_5.error}}return result},exports.isBuiltInEvent=function isBuiltInEvent(eventType){return/^(done|error)\./.test(eventType)},exports.isPromiseLike=function isPromiseLike(value){return value instanceof Promise||!(null===value||!isFunction(value)&&"object"!=typeof value||!isFunction(value.then))},exports.partition=function partition(items,predicate){var e_6,_a,_b=__read([[],[]],2),truthy=_b[0],falsy=_b[1];try{for(var items_1=__values(items),items_1_1=items_1.next();!items_1_1.done;items_1_1=items_1.next()){var item=items_1_1.value;predicate(item)?truthy.push(item):falsy.push(item)}}catch(e_6_1){e_6={error:e_6_1}}finally{try{items_1_1&&!items_1_1.done&&(_a=items_1.return)&&_a.call(items_1)}finally{if(e_6)throw e_6.error}}return[truthy,falsy]},exports.updateHistoryStates=updateHistoryStates,exports.updateHistoryValue=function updateHistoryValue(hist,stateValue){return{current:stateValue,states:updateHistoryStates(hist,stateValue)}},exports.updateContext=function updateContext(context,_event,assignActions,state){return environment_1.IS_PRODUCTION||warn(!!context,"Attempting to update undefined context"),context?assignActions.reduce((function(acc,assignAction){var e_7,_a,assignment=assignAction.assignment,meta={state:state,action:assignAction,_event:_event},partialUpdate={};if(isFunction(assignment))partialUpdate=assignment(acc,_event.data,meta);else try{for(var _b=__values(keys(assignment)),_c=_b.next();!_c.done;_c=_b.next()){var key=_c.value,propAssignment=assignment[key];partialUpdate[key]=isFunction(propAssignment)?propAssignment(acc,_event.data,meta):propAssignment}}catch(e_7_1){e_7={error:e_7_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_7)throw e_7.error}}return Object.assign({},acc,partialUpdate)}),context):context};var currentId,warn=function(){};function isArray(value){return Array.isArray(value)}function isFunction(value){return"function"==typeof value}function isString(value){return"string"==typeof value}function isMachine(value){try{return"__xstatenode"in value}catch(e){return!1}}function toEventObject(event,payload){return isString(event)||"number"==typeof event?__assign({type:event},payload):event}exports.warn=warn,environment_1.IS_PRODUCTION||(exports.warn=warn=function(condition,message){var error=condition instanceof Error?condition:void 0;if((error||!condition)&&void 0!==console){var args=["Warning: "+message];error&&args.push(error),console.warn.apply(console,args)}}),exports.isArray=isArray,exports.isFunction=isFunction,exports.isString=isString,exports.toGuard=function toGuard(condition,guardMap){if(condition)return isString(condition)?{type:constants_1.DEFAULT_GUARD_TYPE,name:condition,predicate:guardMap?guardMap[condition]:void 0}:isFunction(condition)?{type:constants_1.DEFAULT_GUARD_TYPE,name:condition.name,predicate:condition}:condition},exports.isObservable=function isObservable(value){try{return"subscribe"in value&&isFunction(value.subscribe)}catch(e){return!1}},exports.symbolObservable="function"==typeof Symbol&&Symbol.observable||"@@observable",exports.isMachine=isMachine,exports.isActor=function isActor(value){return!!value&&"function"==typeof value.send},exports.uniqueId=(currentId=0,function(){return(++currentId).toString(16)}),exports.toEventObject=toEventObject,exports.toSCXMLEvent=function toSCXMLEvent(event,scxmlEvent){if(!isString(event)&&"$$type"in event&&"scxml"===event.$$type)return event;var eventObject=toEventObject(event);return __assign({name:eventObject.type,data:eventObject,$$type:"scxml",type:"external"},scxmlEvent)},exports.toTransitionConfigArray=function toTransitionConfigArray(event,configLike){return toArrayStrict(configLike).map((function(transitionLike){return void 0===transitionLike||"string"==typeof transitionLike||isMachine(transitionLike)?{target:transitionLike,event:event}:__assign(__assign({},transitionLike),{event:event})}))},exports.normalizeTarget=function normalizeTarget(target){if(void 0!==target&&target!==constants_1.TARGETLESS_KEY)return toArray(target)},exports.reportUnhandledExceptionOnInvocation=function reportUnhandledExceptionOnInvocation(originalError,currentError,id){if(!environment_1.IS_PRODUCTION){var originalStackTrace=originalError.stack?" Stacktrace was '"+originalError.stack+"'":"";if(originalError===currentError)console.error("Missing onError handler for invocation '"+id+"', error was '"+originalError+"'."+originalStackTrace);else{var stackTrace=currentError.stack?" Stacktrace was '"+currentError.stack+"'":"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '"+id+"'. Original error: '"+originalError+"'. "+originalStackTrace+" Current error is '"+currentError+"'."+stackTrace)}}},exports.evaluateGuard=function evaluateGuard(machine,guard,context,_event,state){var guards=machine.options.guards,guardMeta={state:state,cond:guard,_event:_event};if(guard.type===constants_1.DEFAULT_GUARD_TYPE)return guard.predicate(context,_event.data,guardMeta);var condFn=guards[guard.type];if(!condFn)throw new Error("Guard '"+guard.type+"' is not implemented on machine '"+machine.id+"'.");return condFn(context,_event.data,guardMeta)},exports.toInvokeSource=function toInvokeSource(src){return"string"==typeof src?{type:src}:src}},{"./constants":223,"./environment":225}],237:[function(require,module,exports){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BotScript=void 0;const events_1=require("events"),context_1=require("./context"),struct_1=require("./struct"),logger_1=require("../lib/logger"),machine_1=require("./machine"),utils=__importStar(require("../lib/utils")),types_1=require("../interfaces/types"),plugins_1=require("../plugins");class BotScript extends events_1.EventEmitter{constructor(){super(),this.context=new context_1.Context,this.logger=new logger_1.Logger("Engine"),this.machine=new machine_1.BotMachine,this.plugins=new Map,this.plugin("addTimeNow",plugins_1.addTimeNow),this.plugin("noReplyHandle",plugins_1.noReplyHandle),this.plugin("normalize",plugins_1.normalize),this.plugin("nlu",plugins_1.nlu),this.addPatternCapability({name:"nlu test",match:/^intent/,func:(pattern,req)=>(this.logger.info("NLU Preprocess: ",pattern),{source:pattern,test:input=>{const vIntentName=pattern.replace(/^intent:/i,"").trim();return this.logger.info(`NLU test: ${input}, intent: ${req.intent}`),req.intent===vIntentName},exec:input=>(this.logger.info("NLU extract entities: ",input),Array.isArray(req.entities)?req.entities.map((x=>x.value)):[]),toString:()=>pattern})})}emit(event,...args){const vResult=super.emit(event,...args);return this.logger.debug(`Fired event: '${event.toString()}', hasListener: (${vResult})`),super.emit("*",event,...args),vResult}type(type){switch(type){case"definition":return this.context.definitions;case"dialogue":return this.context.dialogues;case"flows":return this.context.flows;case"command":return this.context.commands;case"plugin":return this.context.plugins;case"directive":return this.context.directives;default:throw new Error("Not found type: "+type)}}parse(content){const vContent=content.replace(/\r\n/g,"\n").replace(/\n +/g,"\n").replace(/^#.*$\n/gim,"").replace(/^!/gm,"\n!").replace(/\n\^/gm," ").trim();if(!vContent)return this;this.emit("parse",vContent);return vContent.split(/\n{2,}/).filter((script=>script)).map((script=>script.trim())).forEach((data=>{const struct=struct_1.Struct.parse(data);this.type(struct.type).set(struct.name,struct)})),this}parseUrl(url){return __awaiter(this,void 0,void 0,(function*(){try{const vListData=yield utils.downloadScripts(url);for(const vItem of vListData)this.parse(vItem)}catch(error){const{message:message}=error;this.logger.error(`Cannot download script:\n      - Url: ${url}\n      - Msg: ${message||error}`)}}))}init(){return __awaiter(this,void 0,void 0,(function*(){for(const item of this.context.directives.keys())if(this.logger.info("Preprocess directive:",item),/^include/.test(item)){const vInclude=this.context.directives.get(item);for(const vLink of vInclude.options)this.logger.info("Parse url from:",vLink),yield this.parseUrl(vLink)}return this.logger.info("Ready!"),this.emit("ready"),this}))}addPatternCapability({name:name,match:match,func:func}){return this.context.patterns.set(name,{name:name,match:match,func:func}),this}plugin(name,func){this.plugins.set(name,func)}handleAsync(req,ctx){return __awaiter(this,void 0,void 0,(function*(){this.logger.debug("New request: ",req.message);const context=ctx||this.context;req.isForward=!1;const plugins=[...context.plugins.keys()],postProcessing=yield this.preProcessRequest(plugins,req,context);return this.machine.resolve(req,context),yield this.applyConditionalDialogues(req,context),this.populateReply(req,context),yield this.postProcessRequest(postProcessing,req,context),req}))}preProcessRequest(plugins,req,ctx){return __awaiter(this,void 0,void 0,(function*(){const postProcessing=[],activatedPlugins=[];plugins.forEach((x=>{if(!ctx.plugins.has(x))return!1;const info=ctx.plugins.get(x),cond=info.conditions.find((()=>!0));if("string"==typeof cond&&!utils.evaluate(cond,req))return!1;this.logger.debug("context conditional plugin is activated: (%s) %s",x,cond),info.head.forEach((p=>{if(this.plugins.has(p)){this.logger.debug("context plugin is activated:: (%s)",p);const pluginGroup=this.plugins.get(p);activatedPlugins.push(pluginGroup)}}))}));for(const plugin of activatedPlugins){const vPostProcessing=yield plugin(req,ctx);"function"==typeof vPostProcessing&&postProcessing.push(vPostProcessing)}return postProcessing}))}postProcessRequest(plugins,req,ctx){return __awaiter(this,void 0,void 0,(function*(){for(const plugin of plugins)yield plugin(req,ctx)}))}applyConditionalDialogues(req,ctx){return __awaiter(this,void 0,void 0,(function*(){if(req.isNotResponse)return this.logger.info("Bot has no response! Conditions will not be applied."),req;this.logger.info("Evaluate conditional command for:",req.currentDialogue);let conditions=[];const dialog=ctx.getDialogue(req.currentDialogue);dialog&&(conditions=dialog.conditions),req.currentDialogue!==req.originalDialogue&&ctx.dialogues.has(req.originalDialogue)&&(conditions=conditions.concat(ctx.dialogues.get(req.originalDialogue).conditions));const dialogConditions=conditions.map((x=>{const REGEX_COND_REPLY_TOKEN=/[->@?+=]>/,match=/([->@?+=])>/.exec(x);if(match){const tokens=x.split(REGEX_COND_REPLY_TOKEN);if(2===tokens.length){let type=match[1];const expr=tokens[0].trim();let value=tokens[1].trim();if("="===type){this.logger.info("New syntax support: "+x);const explicitedType=value[0];/^[->@?+]>/.test(explicitedType)?(type=explicitedType,value=value.slice(1)):type=types_1.Types.ConditionalReply}return{type:type,expr:expr,value:value}}return!1}return this.logger.debug("Not a conditional reply:",x),!1})).filter((x=>!1!==x&&(this.logger.info("Evaluate test: ",x.type,x.expr,x.value),utils.evaluate(x.expr,req.variables))));this.logger.info("Conditions test: ",dialogConditions);for(const x of dialogConditions){if(!x)return req;if(x.type===types_1.Types.ConditionalForward)ctx.dialogues.has(x.value)?(req.isForward=!0,req.isFlowing=!1,this.logger.info("Redirect dialogue to:",x.value),req.currentDialogue=x.value,this.machine.resolve(req,ctx)):this.logger.warn("No forward destination:",x.value);else if(x.type===types_1.Types.ConditionalReply){const reply=x.value;this.logger.info("Populate speech response, with conditional reply:",req.message,reply),req.speechResponse=reply}else if(x.type===types_1.Types.ConditionalPrompt)this.logger.debug("Get prompt definition:",x.value),ctx.definitions.has(x.value)?req.prompt=ctx.definitions.get(x.value).options:this.logger.warn("No prompt definition:",x.value);else if(x.type===types_1.Types.ConditionalCommand)if(ctx.commands.has(x.value)){const command=ctx.commands.get(x.value);try{this.logger.debug("Execute command: ",x.value);const result=yield utils.callHttpService(command,req);this.logger.debug("Populate command result into variables:",x.value,result),this.emit("command",null,req,ctx,command.name,result),Object.assign(req.variables,result)}catch(err){this.logger.info("Cannot call http service: ",command),this.emit("command",err,req,ctx,command.name)}}else this.logger.warn("No command definition:",x.value),this.emit("command","No command definition!",req,ctx,x.value);else x.type===types_1.Types.ConditionalEvent?(this.logger.debug("Emit conditional event:",x.value),this.emit(x.value,req,ctx)):this.logger.warn("Unknow condition type:",x.type,x.expr,x.value)}return req}))}populateReply(req,ctx){let replyCandidate=req.speechResponse;if(this.logger.info(`Current request: isFlowing=${req.isFlowing}, dialogue=${req.currentDialogue}, flow=${req.currentFlow}, replyCandidate=${replyCandidate}`),replyCandidate)this.logger.info("Populate already candidate:",req.speechResponse);else{let dialog;dialog=req.isFlowing?ctx.flows.get(req.currentFlow):ctx.dialogues.get(req.originalDialogue),dialog?(this.logger.info("Get dialogue candidate:",dialog.name),replyCandidate=utils.random(dialog.replies)):this.logger.info("No dialogue population!")}return req.speechResponse=ctx.interpolate(replyCandidate||"[noReply]",req),this.logger.info(`Populate speech response: ${req.message} -> ${replyCandidate} -> ${req.speechResponse}`),req.previous.splice(0,0,req.speechResponse),req.previous.length>100&&req.previous.pop(),this.emit("reply",req,ctx),req}}exports.BotScript=BotScript},{"../interfaces/types":245,"../lib/logger":246,"../lib/utils":247,"../plugins":249,"./context":238,"./machine":240,"./struct":244,events:191}],238:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Context=void 0;const utils_1=require("../lib/utils");exports.Context=class Context{constructor(){this.definitions=new Map,this.dialogues=new Map,this.flows=new Map,this.commands=new Map,this.patterns=new Map,this.plugins=new Map,this.directives=new Map}get id(){return this.definitions.has("botid")?this.definitions.get("botid").value:""}getDialogue(name){return this.flows.has(name)?this.flows.get(name):this.dialogues.get(name)}interpolateDefinition(text){return text.replace(/\[([\w-]+)\]/g,((match,defName)=>{const list=this.definitions.get(defName.toLowerCase());return list?utils_1.random(list.options):defName}))}interpolateVariables(text,req){return text.replace(/\$([a-z][\w_-]*)(\.[.\w[\]]*[\w\]])/g,((match,variable,output)=>{const result=req.variables[variable];return result&&result[output]||""})).replace(/[#$]\{?([a-z][\w_-]*)\}?/g,((match,variable)=>req.variables[variable]||"")).replace(/(\$\d*(?![\w\d]))/g,((match,variable)=>req.variables[variable]||""))}interpolate(text,req){let output=this.interpolateDefinition(text);return output=this.interpolateVariables(output,req),output}}},{"../lib/utils":247}],239:[function(require,module,exports){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||exports.hasOwnProperty(p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(require("./request"),exports),__exportStar(require("./response"),exports),__exportStar(require("./struct"),exports),__exportStar(require("./context"),exports),__exportStar(require("./pattern"),exports),__exportStar(require("./machine"),exports),__exportStar(require("./botscript"),exports)},{"./botscript":237,"./context":238,"./machine":240,"./pattern":241,"./request":242,"./response":243,"./struct":244}],240:[function(require,module,exports){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BotMachine=void 0;const xstate_1=require("xstate"),logger_1=require("../lib/logger"),utils=__importStar(require("../lib/utils")),pattern_1=require("./pattern"),types_1=require("../interfaces/types");exports.BotMachine=class BotMachine{constructor(){this.logger=new logger_1.Logger("Machine"),this.machine=xstate_1.Machine({id:"botscript",initial:"pending",states:{pending:{on:{DIGEST:{target:"digest"}}},digest:{always:[{target:"dialogue",cond:"isForward"},{target:"dialogue",cond:"isDialogue"},{target:"flow",cond:"isFlow"},{target:"nomatch",cond:(ctx,event)=>!0}]},dialogue:{always:[{target:"output",cond:(context,event)=>{const{req:req}=context;return 0===req.missingFlows.length?(req.isFlowing=!1,this.logger.debug("Dialogue state is resolved then now forward to output!"),!0):(this.logger.debug("Dialogue flows remaining: ",req.missingFlows.length),!1)}},{target:"flow",cond:(context,event)=>{const{req:req}=context;return req.isFlowing=!0,!0}}]},flow:{always:[{target:"output",cond:(context,event)=>{const{req:req,ctx:ctx}=context,dialog=ctx.dialogues.get(req.originalDialogue);if(utils.testConditionalType(types_1.Types.ConditionalFlow,dialog,req,(flow=>{req.resolvedFlows.indexOf(flow)<0&&req.missingFlows.indexOf(flow)<0&&(this.logger.info("Add conditional flow: ",flow),req.missingFlows.push(flow))})),req.currentFlowIsResolved?(this.logger.debug("Remove current flow: ",req.currentFlow),req.resolvedFlows.push(req.currentFlow),req.missingFlows=req.missingFlows.filter((x=>x!==req.currentFlow)),req.currentFlow=req.missingFlows.find((()=>!0)),req.isFlowing=req.missingFlows.some((()=>!0)),req.currentFlowIsResolved=!1,this.logger.debug("Next flow: ",req.currentFlow)):req.currentFlow?this.logger.info("Prompt or send reply again!"):(req.currentFlow=req.missingFlows.find((()=>!0)),req.currentFlowIsResolved=!1,this.logger.debug("Start new dialogue flow: ",req.currentFlow)),this.logger.info("Check & Update nested flows!"),ctx.flows.has(req.currentFlow)){const currentFlow=ctx.flows.get(req.currentFlow),setFlows=new Set(req.flows);currentFlow.flows.forEach((x=>setFlows.add(x))),req.flows=Array.from(setFlows)}return this.logger.info(`Dialogue is flowing: ${req.isFlowing}, current: ${req.currentFlow||"[none]"}`),!0}}]},nomatch:{always:[{target:"output",cond:(context,event)=>(context.req.speechResponse="NO REPLY!",context.req.isNotResponse=!0,!0)}]},output:{type:"final"}}},{guards:{isForward:(context,event)=>{const{req:req,ctx:ctx}=context;if(req.isForward){const dialog=ctx.dialogues.get(req.currentDialogue);return this.explore({dialog:dialog,ctx:ctx,req:req}),this.logger.debug("Redirect to: ",dialog.name,req.variables),req.currentDialogue=dialog.name,req.originalDialogue=dialog.name,req.flows=dialog.flows,req.missingFlows=dialog.flows,!0}return!1},isDialogue:(context,event)=>{const{req:req,ctx:ctx}=context;if(!req.isFlowing){this.logger.info("Find dialogue candidate ...");for(const[name,dialog]of ctx.dialogues){if(this.explore({dialog:dialog,ctx:ctx,req:req}))return this.logger.debug("Found a dialogue candidate: ",name,req.variables),req.currentDialogue=dialog.name,req.originalDialogue=dialog.name,req.flows=dialog.flows,req.missingFlows=dialog.flows,!0}this.logger.info("Not found dialogue candidate!")}return!1},isFlow:(context,event)=>{if(context.req.isFlowing){const{req:req,ctx:ctx}=context,flow=ctx.flows.get(req.currentFlow);this.logger.debug("Dialogue request is in the flow: ",context.req.currentFlow);this.explore({dialog:flow,ctx:ctx,req:req})?this.logger.debug("Captured a dialogue flow: ",req.currentFlow,req.variables):this.logger.debug("Dialogue flow is not captured!")}return context.req.isFlowing}},actions:{onDigest:(context,event)=>{const{req:req,ctx:ctx}=context;this.logger.debug("Enter digest action: ",event.type,req.message)},onPopulate:(context,event)=>{},onCommand:(context,event)=>{},onRedirect:(context,event)=>{const{req:req,ctx:ctx}=context;this.logger.info("Evaluate conditional redirect for:",req.currentDialogue)},onPrompt:(context,event)=>{const{req:req,ctx:ctx}=context;this.logger.info("Evaluate conditional prompt for:",req.currentDialogue)}}})}resolve(req,ctx){req.prompt=[],req.speechResponse="",req.isNotResponse=!1,req.isForward||(req.currentDialogue=""),this.logger.info(`Resolve: ${req.message}, isFlowing: ${req.isFlowing}`);const botMachine=this.machine.withContext({ctx:ctx,req:req});return xstate_1.interpret(botMachine).onTransition((state=>{this.logger.info("Enter state: ",state.value)})).start().send("DIGEST"),this.logger.info("Get current dialogue response: ",req.currentDialogue),req}explore({dialog:dialog,ctx:ctx,req:req}){try{const result=pattern_1.getActivators(dialog,ctx,req).filter((x=>x.test(req.message))).some((pattern=>{this.logger.debug("Dialogue matches & captures (resolved): ",pattern.source);const captures=pattern_1.execPattern(req.message,pattern),knowledges=Object.assign(Object.assign(Object.assign({},req.variables),captures),{$previous:req.previous,$input:req.message}),conditions=pattern_1.getActivationConditions(dialog);if(conditions.length>0)for(const cond of conditions){const expr=cond.replace(/^[*]/,"");if(!utils.evaluate(expr,knowledges))return!1}return req.currentDialogue=dialog.name,req.currentFlowIsResolved=!0,req.variables=knowledges,captures.$1&&(req.variables.$=captures.$1,req.isFlowing&&(req.variables[req.currentFlow]=captures.$1)),!0}));return this.logger.info("Found dialogue:",result),result}catch(error){throw this.logger.error("Cannot explore Dialogue!",error),error}}}},{"../interfaces/types":245,"../lib/logger":246,"../lib/utils":247,"./pattern":241,xstate:226}],241:[function(require,module,exports){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getActivationConditions=exports.getActivators=exports.execPattern=exports.transform=void 0;const xregexp_1=__importDefault(require("xregexp")),logger=new(require("../lib/logger").Logger)("Pattern"),PATTERN_INTERPOLATIONS=[{search:/[.?]/g,replaceWith:"\\$&"},{search:/#\{([a-z][\w_]*)\}/g,replaceWith:"(?<$1>\\d[\\d\\,\\.\\s]*)"},{search:/\$\{([a-z][\w_]*)\}/g,replaceWith:"(?<$1>[a-z]+)"},{search:/\*\{([a-z][\w_]*)\}/g,replaceWith:"(?<$1>.*)"},{search:/\$([a-z][\w_]*)/g,replaceWith:"(?<$1>[a-z]+)"},{search:/(^|[\s,;])#(?!\w)/g,replaceWith:"$1(\\d+)"},{search:/(^|[\s,;])\*(?!\w)/g,replaceWith:"$1(.*)"},{search:/!*\[(\w+)\]/g,replaceWith:(sub,name,def)=>{const struct=def.get(name.toLowerCase());return struct?`(${struct.options.join("|")})`:name}}];function transform(pattern,request,context,notEqual){for(const[name,value]of context.patterns)if(value.match.test(pattern))return logger.debug("Pattern match: ",name,pattern,value.match.source),value.func(pattern,request);if(/^\/.+\/$/m.test(pattern))return pattern=pattern.match(/^\/(.+)\/$/m)[1],xregexp_1.default(pattern);const definitions=context.definitions;return PATTERN_INTERPOLATIONS.forEach((p=>{const{search:search,replaceWith:replaceWith}=p;pattern="string"==typeof replaceWith?pattern.replace(search,replaceWith):pattern.replace(search,((substr,name)=>((replacement,search,replaceWith,definitions)=>{for(;null!==replacement.match(search);)replacement.match(search).map((rl=>{const referencingListName=rl.slice(1,rl.length-1),referencingListPattern=replaceWith(rl,referencingListName,definitions),referencingListReg=new RegExp(`\\[${referencingListName}\\]`,"g");replacement=replacement.replace(referencingListReg,referencingListPattern.slice(1,referencingListPattern.length-1))}));return replacement})(replaceWith(substr,name,definitions),search,replaceWith,definitions)))})),notEqual?xregexp_1.default(`^((?!^${pattern}$).)+(?!\\w)`,"ig"):xregexp_1.default(`(?:^|[\\s,;])${pattern}(?!\\w)`,"ig")}exports.transform=transform,exports.execPattern=function execPattern(input,pattern){const result=pattern instanceof RegExp?xregexp_1.default.exec(input,pattern):pattern.exec(input);return result?Object.keys(result).filter((key=>!["index","input","groups"].includes(key))).map((key=>({[key.match(/^\d+$/)?`$${parseInt(key)}`:key]:result[key]}))).splice(1).reduce(((a,b)=>Object.assign(a,b)),{}):{}},exports.getActivators=function getActivators(dialog,ctx,req,notEqual=!1){return dialog.triggers.map((x=>transform(x,req,ctx,notEqual)))},exports.getActivationConditions=function getActivationConditions(dialog){return dialog.conditions.filter((x=>!/>/.test(x)))}},{"../lib/logger":246,xregexp:211}],242:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Request=void 0;exports.Request=class Request{constructor(message){this.flows=[],this.variables={},this.isFlowing=!1,this.resolvedFlows=[],this.missingFlows=[],this.previous=[],message&&(this.message=message.toLowerCase())}enter(text){return this.message=text,this}}},{}],243:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Response=void 0;exports.Response=class Response{constructor(){this.contexts=[]}}},{}],244:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Struct=exports.TYPES=void 0,exports.TYPES={"!":"definition","+":"dialogue","-":"response","@":"command","?":"question","~":"flows","#":"comment","*":"condition",">":"plugin","/":"directive"};class Struct{constructor(content){this.type=function getScriptType(script){return exports.TYPES[script.charAt(0)]}(content),this.head=function getScriptHead(script){const type=script.charAt(0);return script.split("\n").map((x=>x.trim())).filter((x=>x.startsWith(type))).map((x=>x.substring(1).trim()))}(content),this.body=function getScriptBody(script){const type=script.charAt(0);return script.split("\n").map((x=>x.trim())).filter((x=>!x.startsWith(type)))}(content),this.content=content,this.name=this.head.find((()=>!0))||"",this.flows=[],this.replies=[],this.triggers=[],this.conditions=[],this.options=[]}static parse(data){const struct=new Struct(data);switch(struct.type){case exports.TYPES["!"]:if(0===struct.body.length){const tokens=struct.head[0].split(" ");struct.value=tokens.pop()||"",struct.name=tokens.pop()||"",struct.options=[struct.value]}else struct.options=struct.body.map((x=>x.replace(/^-\s*/,""))),struct.options.length>1?struct.value=struct.options:struct.value=struct.options.find((x=>!0));break;case exports.TYPES["+"]:struct.triggers=struct.head,struct.replies=struct.body.filter((x=>x.startsWith("-"))).map((x=>x.replace(/^-\s*/,""))),struct.flows=struct.body.filter((x=>x.startsWith("~"))).map((x=>x.replace(/^~\s*/,""))),struct.conditions=struct.body.filter((x=>x.startsWith("*"))).map((x=>x.replace(/^\*\s*/,"")));break;case exports.TYPES["~"]:struct.triggers=struct.body.filter((x=>x.startsWith("+"))).map((x=>x.replace(/^\+\s*/,""))),struct.replies=struct.body.filter((x=>x.startsWith("-"))).map((x=>x.replace(/^-\s*/,""))),struct.flows=struct.body.filter((x=>x.startsWith("~"))).map((x=>x.replace(/^~\s*/,""))),struct.conditions=struct.body.filter((x=>x.startsWith("*"))).map((x=>x.replace(/^\*\s*/,"")));break;case exports.TYPES["@"]:const tokens=struct.head[0].split(" ");if(2===tokens.length)struct.name=tokens[0],struct.options=["GET",tokens[1]];else{if(3!==tokens.length)throw new Error("invalid command");{const action=/post/i.test(tokens[1])?"post":"get";struct.name=tokens[0],struct.options=[action,tokens[2]]}}break;case exports.TYPES[">"]:struct.conditions=struct.body.filter((x=>x.startsWith("*"))).map((x=>x.replace(/^\*\s*/,"")));break;case exports.TYPES["/"]:if(0===struct.body.length){const sepIndex=struct.head[0].indexOf(":");struct.name=struct.head[0].substr(0,sepIndex).trim(),struct.value=struct.head[0].substr(sepIndex+1).trim(),struct.options=[struct.value]}else struct.options=struct.body.map((x=>x.replace(/^-\s*/,""))),struct.options.length>1?struct.value=struct.options:struct.value=struct.options.find((x=>!0))}return struct}toString(){return`${this.type}: ${this.options.join(",")}`}}exports.Struct=Struct},{}],245:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Types=void 0,function(Types){Types.Definition="!",Types.Trigger="+",Types.Reply="-",Types.Flow="~",Types.Condition="*",Types.Comment="#",Types.ConditionalFlow="~",Types.ConditionalReply="-",Types.ConditionalCommand="@",Types.ConditionalPrompt="?",Types.ConditionalForward=">",Types.ConditionalEvent="+"}(exports.Types||(exports.Types={}))},{}],246:[function(require,module,exports){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Logger=void 0;const debug_1=__importDefault(require("debug"));exports.Logger=class Logger{constructor(prefix){prefix=prefix?":"+prefix:"",this._debug=debug_1.default(`BotScript:DEBUG${prefix}`),this._info=debug_1.default(`BotScript:INFO${prefix}`),this._warn=debug_1.default(`BotScript:WARN${prefix}`),this._error=debug_1.default(`BotScript:ERROR${prefix}`)}get debug(){return this._debug}get info(){return this._info}get warn(){return this._warn}get error(){return this._error}}},{debug:189}],247:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.downloadScripts=exports.callHttpService=exports.evaluate=exports.testConditionalType=exports.testConditionalReply=exports.testConditionalFlow=exports.random=void 0;const axios_1=__importDefault(require("axios")),jexl_1=require("jexl"),types_1=require("../interfaces/types"),logger=new(require("./logger").Logger)("Utils");function testConditionalType(type,dialogue,req,callback){if(!dialogue)return logger.info("No dialogue for test:",type),!1;const separator=new RegExp(`\\${type}>`);return(dialogue.conditions||[]).filter((x=>separator.test(x))).some((cond=>{const tokens=cond.split(separator).map((x=>x.trim()));if(2===tokens.length){const expr=tokens[0],value=tokens[1];if(logger.debug(`Test conditional type: ${type}, botid=${req.botId}, expr=${expr}`),evaluate(expr,req.variables))return callback(value,req)}}))}function evaluate(code,context){const keys=Object.keys(context||{}),vars=Object.assign({},...keys.map((x=>({[x.startsWith("$")?x:`$${x}`]:context[x]}))));try{return logger.debug("Evaluate:",code),jexl_1.evalSync(code,vars)}catch(err){return void logger.warn("Error while eval expression",{msg:err&&err.message})}}exports.random=function random(candidates){return candidates[Math.floor(Math.random()*candidates.length)]},exports.testConditionalFlow=function testConditionalFlow(dialogue,req,callback){return testConditionalType(types_1.Types.ConditionalFlow,dialogue,req,callback)},exports.testConditionalReply=function testConditionalReply(dialogue,req,callback){return testConditionalType(types_1.Types.ConditionalReply,dialogue,req,callback)},exports.testConditionalType=testConditionalType,exports.evaluate=evaluate,exports.callHttpService=function callHttpService(command,req){const vIsGetMethod=/^get$/i.test(command.options[0]),headers=command.body.map((x=>x.split(":"))),method=vIsGetMethod?"GET":"POST",url=command.options[1],body=vIsGetMethod?void 0:req.variables;return logger.info("Send request:",method,url,body),axios_1.default.request({url:url,headers:headers,method:method,data:body}).then((res=>res.data)).catch((err=>(logger.error("Can not send request:",url,method,body,headers,err),Promise.reject(err))))},exports.downloadScripts=function downloadScripts(url){return __awaiter(this,void 0,void 0,(function*(){logger.info("Starting download",url);const vResult=yield axios_1.default.get(url),vContentType=vResult.headers["content-type"];if(/^text\/plain/.test(vContentType)){return[yield vResult.data]}if(/^application\/json/.test(vContentType)){return yield vResult.data}throw new Error("Data format unsupported!")}))}},{"../interfaces/types":245,"./logger":246,axios:21,jexl:193}],248:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addTimeNow=void 0,exports.addTimeNow=function addTimeNow(req,ctx){const now=new Date;req.variables.time=`${now.getHours()}:${now.getMinutes()}`}},{}],249:[function(require,module,exports){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||exports.hasOwnProperty(p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(require("./addTimeNow"),exports),__exportStar(require("./noReplyHandle"),exports),__exportStar(require("./normalize"),exports),__exportStar(require("./nlu"),exports)},{"./addTimeNow":248,"./nlu":250,"./noReplyHandle":251,"./normalize":252}],250:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.nlu=void 0;const engine_1=require("../engine"),utils_1=require("../lib/utils"),logger=new(require("../lib/logger").Logger)("NLU"),defaultCommandNlu=engine_1.Struct.parse("@ nlu https://botscript.ai/api/nlu"),defaultDirectiveNlu=engine_1.Struct.parse("/nlu: nlu");exports.nlu=function nlu(req,ctx){return __awaiter(this,void 0,void 0,(function*(){const vDirectiveNlu=ctx.directives.get("nlu")||defaultDirectiveNlu,vCommandNlu=ctx.commands.get(vDirectiveNlu.value)||defaultCommandNlu;logger.info(`Send nlu request: (${vDirectiveNlu.value})`,req.message);try{const{intent:intent="__UNKNOW__",entities:entities=[]}=yield utils_1.callHttpService(vCommandNlu,req);req.intent=intent,req.entities=entities}catch(error){logger.error("Cannot extract nlu message!",error)}}))}},{"../engine":239,"../lib/logger":246,"../lib/utils":247}],251:[function(require,module,exports){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.noReplyHandle=void 0;const utils=__importStar(require("../lib/utils"));exports.noReplyHandle=function noReplyHandle(){return(res,ctx)=>{if("NO REPLY!"===res.speechResponse)if(ctx.flows.has(res.currentFlow)){const dialog=ctx.flows.get(res.currentFlow),replyCandidate=utils.random(dialog.replies);res.speechResponse=replyCandidate}else res.speechResponse="Sorry! I don't understand!"}}},{"../lib/utils":247}],252:[function(require,module,exports){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalize=void 0;const clean_1=__importDefault(require("./utils/clean"));exports.normalize=function normalize(req){req.message=clean_1.default.all(req.message).replace(/[+-?!.,]+$/,"")}},{"./utils/clean":253}],253:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const re1=new RegExp(/\+/g),re2=new RegExp(/\t/g),re3=new RegExp(/\s+/g),re4=new RegExp(/(|)/g),re5=new RegExp(/(|)/g),re6=new RegExp(/(|)/g),re7=new RegExp(/[\u00A1-\u1EF3]/g),re8=new RegExp(/[+]{1}/g),re9=new RegExp(/<plus>/g),re10=new RegExp(/\d,\d/g);function pre(msg=""){return msg=(msg=(msg=(msg=(msg=(msg=(msg=msg.replace(re1,"<plus>")).replace(re2," ")).replace(re3," ")).replace(re4,"'")).replace(re5,'"')).replace(re6,"")).replace(re7," ")}function post(msg=""){return msg=(msg=(msg=msg.replace(re8," ")).replace(re9,"+")).replace(re10,(v=>v.replace(",","")))}exports.default={pre:pre,post:post,all:function all(msg=""){return post(pre(msg)).trim()}}},{}]},{},[249])(249)}));
//# sourceMappingURL=botscript.plugins.js.map
